<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>over58</title>
  
  <subtitle>A fast, simple &amp; powerful blog framework powered by Node.js.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://over58.github.io/"/>
  <updated>2021-02-26T06:07:21.810Z</updated>
  <id>https://over58.github.io/</id>
  
  <author>
    <name>over58</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>微信小程序笔记</title>
    <link href="https://over58.github.io/2021/02/26/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%AC%94%E8%AE%B0/"/>
    <id>https://over58.github.io/2021/02/26/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%AC%94%E8%AE%B0/</id>
    <published>2021-02-26T06:07:21.810Z</published>
    <updated>2021-02-26T06:07:21.810Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x6A21;&#x677F;"><a href="#&#x6A21;&#x677F;" class="headerlink" title="&#x6A21;&#x677F;"></a>&#x6A21;&#x677F;</h1><blockquote><p>&#x4F7F;&#x7528;&#x6A21;&#x677F;&#x7684;&#x65F6;&#x5019;&#x9664;&#x4E86;wxml&#x9700;&#x8981;include&#x8FC7;&#x53BB;&#xFF0C;wxss&#x9700;&#x8981;&#x5728;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x6A21;&#x677F;&#x7684;wxss&#x6587;&#x4EF6;&#x4E2D;@import &#xB7;&#xB7;&#xB7;</p></blockquote><p>&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x6A21;&#x677F;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;import src=&quot;../../components/list-item/list-item.wxml&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;view wx:for=&quot;{{list}}&quot; wx:key=&quot;index&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;template is=&quot;listItem&quot; data=&quot;{{...item}}&quot;&gt;&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure><p>//&#x9700;&#x8981;&#x5355;&#x72EC;&#x8BB2; wxss &#x6587;&#x4EF6;&#x5F15;&#x5165;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &apos;/components/list-item/list-item.wxss&apos;;</span><br></pre></td></tr></table></figure><h1 id="&#x7EC4;&#x4EF6;"><a href="#&#x7EC4;&#x4EF6;" class="headerlink" title="&#x7EC4;&#x4EF6;"></a>&#x7EC4;&#x4EF6;</h1><h2 id="&#x4F7F;&#x7528;"><a href="#&#x4F7F;&#x7528;" class="headerlink" title="&#x4F7F;&#x7528;"></a>&#x4F7F;&#x7528;</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span>: {</span><br><span class="line">    <span class="attr">&quot;new-list-item&quot;</span>: <span class="string">&quot;/components/new-list-item/new-list-item&quot;</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="&#x4F20;&#x53C2;"><a href="#&#x4F20;&#x53C2;" class="headerlink" title="&#x4F20;&#x53C2;"></a>&#x4F20;&#x53C2;</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">properties: {</span><br><span class="line">   item: {</span><br><span class="line">     type: <span class="built_in">Object</span>,</span><br><span class="line">     value: {}</span><br><span class="line">   }</span><br><span class="line"> },</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;&amp;#x6A21;&amp;#x677F;&quot;&gt;&lt;a href=&quot;#&amp;#x6A21;&amp;#x677F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6A21;&amp;#x677F;&quot;&gt;&lt;/a&gt;&amp;#x6A21;&amp;#x677F;&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>批量执行异步代码</title>
    <link href="https://over58.github.io/2021/02/26/%E6%89%B9%E9%87%8F%E6%89%A7%E8%A1%8C%E5%BC%82%E6%AD%A5%E4%BB%A3%E7%A0%81/"/>
    <id>https://over58.github.io/2021/02/26/%E6%89%B9%E9%87%8F%E6%89%A7%E8%A1%8C%E5%BC%82%E6%AD%A5%E4%BB%A3%E7%A0%81/</id>
    <published>2021-02-26T06:07:21.810Z</published>
    <updated>2021-02-26T06:07:21.810Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>&#x6279;&#x91CF;&#x6267;&#x884C;&#x5F02;&#x6B65;&#x4EE3;&#x7801;&#xFF0C;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x53EA;&#x80FD;&#x6267;&#x884C;&#x6307;&#x5B9A;&#x6700;&#x5927;&#x6570;&#x91CF;&#x7684;&#x5F02;&#x6B65;&#x64CD;&#x4F5C;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BatchRequest</span> </span>{</span><br><span class="line">    <span class="keyword">constructor</span>(max = 3) {</span><br><span class="line">        <span class="keyword">this</span>.queue = [];</span><br><span class="line">        <span class="keyword">this</span>.max = max</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    addRequest(fn) {</span><br><span class="line">        <span class="keyword">this</span>.queue.push(fn)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    run() {</span><br><span class="line">        <span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> timer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.queue.length) {</span><br><span class="line">                <span class="built_in">Array</span>.from({ <span class="attr">length</span>: <span class="built_in">Math</span>.max(<span class="number">0</span>, <span class="keyword">this</span>.max - count) }).forEach(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">                    <span class="keyword">let</span> fn = <span class="keyword">this</span>.queue.shift()</span><br><span class="line">                    <span class="keyword">if</span> (fn) {</span><br><span class="line">                        count++</span><br><span class="line">                        fn().then(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">                            count--</span><br><span class="line">                        })</span><br><span class="line">                    }</span><br><span class="line">                })</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                clearInterval(timer)</span><br><span class="line">            }</span><br><span class="line">        }, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPromise</span>(<span class="params">time, text</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&apos;&#x6267;&#x884C;&#x4E2D;~&apos;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>{</span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="built_in">console</span>.log(text)</span><br><span class="line">                resolve(text)</span><br><span class="line">            }, time)</span><br><span class="line">        })</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> client = <span class="keyword">new</span> BatchRequest(<span class="number">5</span>);</span><br><span class="line">client.addRequest(createPromise(<span class="number">5000</span>, <span class="string">&apos;1000&apos;</span>))</span><br><span class="line">client.addRequest(createPromise(<span class="number">5000</span>, <span class="string">&apos;2000&apos;</span>))</span><br><span class="line">client.addRequest(createPromise(<span class="number">3000</span>, <span class="string">&apos;3000&apos;</span>))</span><br><span class="line">client.addRequest(createPromise(<span class="number">3000</span>, <span class="string">&apos;3000&apos;</span>))</span><br><span class="line">client.addRequest(createPromise(<span class="number">3000</span>, <span class="string">&apos;3000&apos;</span>))</span><br><span class="line">client.addRequest(createPromise(<span class="number">3000</span>, <span class="string">&apos;3000&apos;</span>))</span><br><span class="line">client.addRequest(createPromise(<span class="number">3000</span>, <span class="string">&apos;3000&apos;</span>))</span><br><span class="line">client.addRequest(createPromise(<span class="number">3000</span>, <span class="string">&apos;3000&apos;</span>))</span><br><span class="line"></span><br><span class="line">client.addRequest(createPromise(<span class="number">4000</span>, <span class="string">&apos;2000-2&apos;</span>))</span><br><span class="line">client.addRequest(createPromise(<span class="number">2000</span>, <span class="string">&apos;1000-2&apos;</span>))</span><br><span class="line">client.addRequest(createPromise(<span class="number">3000</span>, <span class="string">&apos;3000-2&apos;</span>))</span><br><span class="line"></span><br><span class="line">client.run()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>引导弹窗</title>
    <link href="https://over58.github.io/2021/02/26/%E5%BC%95%E5%AF%BC%E5%BC%B9%E7%AA%97/"/>
    <id>https://over58.github.io/2021/02/26/%E5%BC%95%E5%AF%BC%E5%BC%B9%E7%AA%97/</id>
    <published>2021-02-26T06:07:21.810Z</published>
    <updated>2021-02-26T06:07:21.810Z</updated>
    
    <content type="html"><![CDATA[<p>Js&#x9879;&#x76EE;&#x4E2D;&#x6709;&#x65F6;&#x5019;&#x9700;&#x8981;&#x4E3A;&#x65B0;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x5F15;&#x5BFC;&#x64CD;&#x4F5C;&#x662F;=&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x5F39;&#x7A97;&#x6765;&#x544A;&#x8BC9;&#x65B0;&#x7528;&#x6237;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x4E00;&#x6B65;&#x6B65;&#x64CD;&#x4F5C;&#x3002;&#x4E4B;&#x524D;&#x7684;&#x65F6;&#x5019;&#x7528;&#x8FC7;introjs,&#x73B0;&#x5728;&#x770B;&#x4E86;&#x4E0B;&#x5B9E;&#x73B0;&#x539F;&#x7406;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x53BB;&#x66F4;&#x6539;z-index&#x6765;&#x5B9E;&#x73B0;&#x91CD;&#x70B9;&#x5143;&#x7D20;&#x201C;&#x51F8;&#x51FA;&#x201D;&#x5230;&#x8499;&#x5C42;&#x4E0A;&#x9762;&#x3002;&#x6700;&#x8FD1;&#x770B;&#x4E86;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x5B66;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x611F;&#x89C9;&#x975E;&#x5E38;&#x65B0;&#x9896;&#x7684;&#x601D;&#x8DEF;&#xFF0C;&#x5229;&#x7528;<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation" target="_blank" rel="noopener">globalCompositeOperation</a>&#x7684;&#x601D;&#x8DEF;&#x5C06;&#x8499;&#x5C42;&#x4E2D;&#x9700;&#x8981;&#x51F8;&#x663E;&#x7684;&#x90A3;&#x5757;&#x513F;&#x7ED9;&#x201C;&#x62A0;&#x6389;&#x201D;&#x3002;</p><h1 id="&#x4F7F;&#x7528;&#x65B9;&#x6CD5;"><a href="#&#x4F7F;&#x7528;&#x65B9;&#x6CD5;" class="headerlink" title="&#x4F7F;&#x7528;&#x65B9;&#x6CD5;"></a>&#x4F7F;&#x7528;&#x65B9;&#x6CD5;</h1><p>&#x5728;&#x9700;&#x8981;&#x91CD;&#x70B9;&#x51F8;&#x663E;&#x7684;&#x5143;&#x7D20;&#x4E0A;&#x76F4;&#x63A5;&#x52A0;id: &#x201C;intro-item&#x201D;, &#x6240;&#x4EE5;&#x76EE;&#x524D;&#x540C;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x53EA;&#x652F;&#x6301;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x51F8;&#x663E;&#x51FA;&#x6765;&#x3002;</p><h1 id="&#x4EE3;&#x7801;"><a href="#&#x4EE3;&#x7801;" class="headerlink" title="&#x4EE3;&#x7801;"></a>&#x4EE3;&#x7801;</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div v-show=<span class="string">&quot;show&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;intro-mask&quot;</span>&gt;</span><br><span class="line">    &lt;canvas ref=<span class="string">&quot;canvas&quot;</span> /&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;content&quot;</span>&gt;</span><br><span class="line">      &lt;slot /&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">/</span>**</span><br><span class="line"> * &#x76EE;&#x7684;&#xFF1A;&#x7528;&#x4E8E;&#x5F15;&#x5BFC;&#x5F39;&#x7A97;&#x4E2D;&#x9700;&#x8981;&#x51F8;&#x663E;&#x67D0;&#x4E2A;&#x5143;&#x7D20;</span><br><span class="line"> * &#x7528;&#x6CD5;&#xFF1A;&#x9700;&#x8981;&#x51F8;&#x663E;&#x7684;&#x5143;&#x7D20;&#x6DFB;&#x52A0;id &#x4E3A;intro-item&#xFF0C;&#x7136;&#x540E;&#x5F15;&#x5165;intro-mask&#x5C31;&#x884C;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x5728;slot&#x4E2D;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;&#x5143;&#x7D20;</span><br><span class="line"> * &#x6CE8;&#x610F;&#xFF1A;&#x9700;&#x8981;&#x5728;intro-item&#x6E32;&#x67D3;&#x51FA;&#x6765;&#x4E4B;&#x540E;&#xFF0C;&#x5728;&#x542F;&#x7528;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;</span><br><span class="line"> *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">import { onMounted, ref, toRefs, nextTick } from &apos;vue&apos;</span></span><br><span class="line"><span class="regexp">export default {</span></span><br><span class="line"><span class="regexp">  props: {</span></span><br><span class="line"><span class="regexp">    backgroundColor: {</span></span><br><span class="line"><span class="regexp">      type: String,</span></span><br><span class="line"><span class="regexp">      default: &apos;rgba(0, 0, 0, 0.7)&apos;,</span></span><br><span class="line"><span class="regexp">    },</span></span><br><span class="line"><span class="regexp">    expandX: {</span></span><br><span class="line"><span class="regexp">      type: Number,</span></span><br><span class="line"><span class="regexp">      default: 5,</span></span><br><span class="line"><span class="regexp">    },</span></span><br><span class="line"><span class="regexp">    expandY: {</span></span><br><span class="line"><span class="regexp">      type: Number,</span></span><br><span class="line"><span class="regexp">      default: 5,</span></span><br><span class="line"><span class="regexp">    },</span></span><br><span class="line"><span class="regexp">  },</span></span><br><span class="line"><span class="regexp">  setup(props, { emit }) {</span></span><br><span class="line"><span class="regexp">    let show = ref(true)</span></span><br><span class="line"><span class="regexp">    const canvas = ref(null)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    const draw = function() {</span></span><br><span class="line"><span class="regexp">      const introItem = document.getElementById(&apos;intro-item&apos;)</span></span><br><span class="line"><span class="regexp">      if (introItem) {</span></span><br><span class="line"><span class="regexp">        const clientWidth = document.documentElement.clientWidth</span></span><br><span class="line"><span class="regexp">        const clientHeight = document.documentElement.clientHeight</span></span><br><span class="line"><span class="regexp">        canvas.value.width = clientWidth</span></span><br><span class="line"><span class="regexp">        canvas.value.height = clientHeight</span></span><br><span class="line"><span class="regexp">        let { height = 0, width = 0, top = 0, left = 0 } = introItem.getBoundingClientRect()</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/ &#x5411;&#x5916;&#x62D3;&#x5C55;&#x51F8;&#x663E;&#x5143;&#x7D20;&#x7684;&#x8FD4;&#x56DE;</span></span><br><span class="line"><span class="regexp">        width = Math.min(clientWidth, width + props.expandX * 2)</span></span><br><span class="line"><span class="regexp">        height = Math.min(clientHeight, height + props.expandY * 2)</span></span><br><span class="line"><span class="regexp">        left = Math.max(0, Math.min(left - props.expandX, left))</span></span><br><span class="line"><span class="regexp">        top = Math.max(0, Math.min(top - props.expandY, top))</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        const ctx = canvas.value.getContext(&apos;2d&apos;)</span></span><br><span class="line"><span class="regexp">        ctx.fillStyle = props.backgroundColor</span></span><br><span class="line"><span class="regexp">        ctx.fillRect(0, 0, canvas.value.width, canvas.value.height)</span></span><br><span class="line"><span class="regexp">        ctx.globalCompositeOperation = &apos;xor&apos;</span></span><br><span class="line"><span class="regexp">        ctx.fillStyle = &apos;#fff&apos;</span></span><br><span class="line"><span class="regexp">        ctx.fillRect(left, top, width, height)</span></span><br><span class="line"><span class="regexp">        emit(&apos;transfer-data&apos;, { height, width, top, left })</span></span><br><span class="line"><span class="regexp">      } else {</span></span><br><span class="line"><span class="regexp">        show = false</span></span><br><span class="line"><span class="regexp">        console.warn(&apos;&#x672A;&#x627E;&#x5230;#intro-item&#x5143;&#x7D20;&apos;)</span></span><br><span class="line"><span class="regexp">      }</span></span><br><span class="line"><span class="regexp">    }</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    onMounted(function() {</span></span><br><span class="line"><span class="regexp">      draw()</span></span><br><span class="line"><span class="regexp">    })</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    return {</span></span><br><span class="line"><span class="regexp">      canvas,</span></span><br><span class="line"><span class="regexp">      show,</span></span><br><span class="line"><span class="regexp">    }</span></span><br><span class="line"><span class="regexp">  },</span></span><br><span class="line"><span class="regexp">}</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=<span class="string">&quot;less&quot;</span> scoped&gt;</span><br><span class="line">.intro-mask {</span><br><span class="line">  position: fixed;</span><br><span class="line">  top: <span class="number">0</span>;</span><br><span class="line">  left: <span class="number">0</span>;</span><br><span class="line">  right: <span class="number">0</span>;</span><br><span class="line">  bottom: <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  canvas {</span><br><span class="line">    width: <span class="number">100</span>%;</span><br><span class="line">    height: <span class="number">100</span>%;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  .content {</span><br><span class="line">    color: #000;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: <span class="number">0</span>;</span><br><span class="line">    left: <span class="number">0</span>;</span><br><span class="line">    right: <span class="number">0</span>;</span><br><span class="line">    bottom: <span class="number">0</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br></pre></td></tr></table></figure><h1 id="&#x8FD0;&#x884C;&#x622A;&#x56FE;"><a href="#&#x8FD0;&#x884C;&#x622A;&#x56FE;" class="headerlink" title="&#x8FD0;&#x884C;&#x622A;&#x56FE;"></a>&#x8FD0;&#x884C;&#x622A;&#x56FE;</h1><p><img src="/2021/02/26/%E5%BC%95%E5%AF%BC%E5%BC%B9%E7%AA%97/intro-mask-example-7749083.jpg" alt="intro-mask-example"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Js&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x6709;&amp;#x65F6;&amp;#x5019;&amp;#x9700;&amp;#x8981;&amp;#x4E3A;&amp;#x65B0;&amp;#x7528;&amp;#x6237;&amp;#x8FDB;&amp;#x884C;&amp;#x5F15;&amp;#x5BFC;&amp;#x64CD
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>vue中使用highcharts和echarts的实践</title>
    <link href="https://over58.github.io/2021/02/26/vue%E4%B8%AD%E4%BD%BF%E7%94%A8highcharts%E5%92%8Cecharts%E7%9A%84%E5%AE%9E%E8%B7%B5/"/>
    <id>https://over58.github.io/2021/02/26/vue%E4%B8%AD%E4%BD%BF%E7%94%A8highcharts%E5%92%8Cecharts%E7%9A%84%E5%AE%9E%E8%B7%B5/</id>
    <published>2021-02-26T06:07:21.786Z</published>
    <updated>2021-02-26T06:07:21.786Z</updated>
    
    <content type="html"><![CDATA[<p>  &#x6211;&#x4ECE;&#x4E8B;&#x4E91;&#x5E73;&#x53F0;&#x524D;&#x7AEF;&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x7531;&#x4E8E;&#x9879;&#x76EE;&#x7684;&#x9700;&#x8981;&#xFF0C;&#x5199;&#x4E86;&#x4E00;&#x4E2A;&#x4E91;&#x76D1;&#x63A7;Monitor&#x9879;&#x76EE;&#x3002;&#x8D77;&#x521D;&#xFF0C;&#x6211;&#x9009;&#x62E9;&#x4E86; Echarts&#xFF0C; &#x539F;&#x56E0;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4E2D;&#x6587;&#x6587;&#x6863;&#xFF0C;&#x5B9A;&#x5236;&#x5316;&#x80FD;&#x529B;&#x4E5F;&#x6BD4;&#x8F83;&#x597D;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x5E74;&#x591A;&#x6765;&#xFF0C;&#x7528;&#x7684;&#x4E5F;&#x662F;&#x86EE;&#x987A;&#x624B;&#x7684;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x76D1;&#x63A7;&#x9879;&#x76EE;,&#x91CC;&#x9762;&#x5B58;&#x5728;&#x5927;&#x91CF;&#x7684;&#x56FE;&#xFF0C;&#x6BCF;&#x4E2A;&#x56FE;&#x6709;&#x7740;&#x5DE8;&#x91CF;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E14;&#x6BCF;&#x6761;line&#x7684;&#x540D;&#x5B57;&#x4E5F;&#x8D85;&#x957F;&#x3002;&#x5E26;&#x6765;&#x7684;&#x95EE;&#x9898;&#x5C31;&#x662F;&#xFF0C;&#x9875;&#x9762;&#x53CA;&#x5176;&#x5361;&#x987F;&#xFF0C;&#x5373;&#x4F7F;&#x662F;&#x6211;&#x9650;&#x5236;&#x4E86;&#x6BCF;&#x4E2A;&#x56FE;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x91CF;&#xFF0C;&#x4ECD;&#x7136;&#x65E0;&#x6CD5;&#x964D;&#x4F4E;&#xFF0C;&#x9875;&#x9762;&#x65E0;&#x64CD;&#x4F5C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;CPU&#x4ECD;&#x7136;&#x5360;&#x636E;20%&#x4EE5;&#x4E0A;&#xFF08;&#x516B;&#x4E2A;&#x56FE;&#xFF0C;&#x6BCF;&#x4E2A;&#x56FE;&#x5E73;&#x5747;10&#x6761;line&#xFF09;&#x3002;&#x7F51;&#x4E0A;&#x627E;&#x4E86;&#x4E00;&#x901A;&#xFF0C;&#x90FD;&#x6307;&#x5411;z_render()&#x51FD;&#x6570;&#xFF0C;echarts&#x4F1A;&#x4E0D;&#x505C;&#x7684;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x3002;&#x5B9E;&#x5728;&#x662F;&#x4E0D;&#x582A;&#x5FCD;&#x53D7;&#x8FD9;&#x6837;&#x7684;&#x5361;&#x987F;&#xFF0C;&#x5728;&#x8FDB;&#x884C;&#x4E86;&#x5145;&#x5206;&#x8C03;&#x7814;&#x7684;&#x60C5;&#x51B5;&#x4E0B;,&#x679C;&#x65AD;&#x6362;&#x4E86;highcharts&#x3002;</p><p>  &#x7ECF;&#x8FC7;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x6D4B;&#x8BD5;&#xFF1A;&#x540C;&#x7B49;&#x6570;&#x91CF;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;highcharts&#x548C;echarts &#x6240;&#x5360;&#x7684;&#x5185;&#x5B58;&#x76F8;&#x8FD1;&#xFF0C;&#x4F46;CPU&#x5360;&#x6BD4;&#x5F88;&#x4F4E;&#x3002;&#x4E3E;&#x4E00;&#x4E2A;&#x6817;&#x5B50;&#xFF0C;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x4E0A;&#x6709;&#x516B;&#x4E2A;&#x56FE;&#xFF0C;&#x6BCF;&#x4E2A;&#x56FE;&#x5E73;&#x5747;&#x5927;&#x6982;10&#x6761;&#x7EBF;&#xFF0C;&#x5F53;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x5B8C;&#x6210;&#xFF0C;&#x65E0;&#x4EFB;&#x4F55;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#x7684;&#x65F6;&#x5019;&#xFF0C;echarts&#x7684;CPU&#x5360;&#x6BD4;&#x7A33;&#x5B9A;&#x5728;20%&#x5DE6;&#x53F3;&#xFF0C;highcharts&#x59CB;&#x7EC8;&#x5728;1%&#x4EE5;&#x4E0B;&#x3002;</p><p><img src="/2021/02/26/vue%E4%B8%AD%E4%BD%BF%E7%94%A8highcharts%E5%92%8Cecharts%E7%9A%84%E5%AE%9E%E8%B7%B5/images/highcharts-q.png" alt="highcharts"><br><img src="/2021/02/26/vue%E4%B8%AD%E4%BD%BF%E7%94%A8highcharts%E5%92%8Cecharts%E7%9A%84%E5%AE%9E%E8%B7%B5/images/echarts-q.png" alt="echarts"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;  &amp;#x6211;&amp;#x4ECE;&amp;#x4E8B;&amp;#x4E91;&amp;#x5E73;&amp;#x53F0;&amp;#x524D;&amp;#x7AEF;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x9879;&amp;#x76EE;&amp;#x7684
      
    
    </summary>
    
    
      <category term="graph" scheme="https://over58.github.io/categories/graph/"/>
    
    
      <category term="vue" scheme="https://over58.github.io/tags/vue/"/>
    
      <category term="highcharts" scheme="https://over58.github.io/tags/highcharts/"/>
    
      <category term="echarts" scheme="https://over58.github.io/tags/echarts/"/>
    
  </entry>
  
  <entry>
    <title>js的事件模型</title>
    <link href="https://over58.github.io/2021/02/26/js%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B/"/>
    <id>https://over58.github.io/2021/02/26/js%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B/</id>
    <published>2021-02-26T06:07:21.774Z</published>
    <updated>2021-02-26T06:07:21.774Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x5F15;&#x8A00;"><a href="#&#x5F15;&#x8A00;" class="headerlink" title="&#x5F15;&#x8A00;"></a>&#x5F15;&#x8A00;</h3><p>&#x5176;&#x5B9E;&#xFF0C;&#x8BF4;&#x8D77;js&#x7684;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;&#xFF0C;&#x6709;&#x70B9;&#x57FA;&#x7840;&#x7684;&#x90FD;&#x80FD;&#x8BF4;&#x51E0;&#x53E5;&#xFF0C; &#x5206;&#x4E3A;&#x4E09;&#x4E2A;&#x9636;&#x6BB5;&#xFF0C; &#x6355;&#x83B7;-&#x4E8B;&#x4EF6;&#x5904;&#x7406;-&#x5192;&#x6CE1;&#xFF0C;&#x5DF4;&#x62C9;&#x5DF4;&#x62C9;&#x2026;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x5E76;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x5230;&#x6211;&#x4EEC; <strong>&#x201C;&#x4F1F;&#x5927;&#x201D;</strong> &#x7684;IE&#xFF0C;&#x6709;&#x70B9;&#x8003;&#x8651;&#x7684;&#x4E0D;&#x591F;&#x5168;&#x9762;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x7CFB;&#x7EDF;&#x6027;&#x7684;&#x8BE6;&#x7EC6;&#x7684;&#x8BB2;&#x4E00;&#x6CE2;&#x513F;</p><h3 id="&#x4E8B;&#x4EF6;&#x6A21;&#x578B;&#x7684;&#x524D;&#x4E16;&#x4ECA;&#x751F;"><a href="#&#x4E8B;&#x4EF6;&#x6A21;&#x578B;&#x7684;&#x524D;&#x4E16;&#x4ECA;&#x751F;" class="headerlink" title="&#x4E8B;&#x4EF6;&#x6A21;&#x578B;&#x7684;&#x524D;&#x4E16;&#x4ECA;&#x751F;"></a>&#x4E8B;&#x4EF6;&#x6A21;&#x578B;&#x7684;&#x524D;&#x4E16;&#x4ECA;&#x751F;</h3><p>&#x6545;&#x4E8B;&#x6E90;&#x4E8E;&#x4F20;&#x8BF4;&#x4E2D;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x5927;&#x6218;&#xFF0C;&#x5FAE;&#x8F6F;&#x7684; IE &#x548C;&#x7F51;&#x666F;&#x7684;Netspace Navigator&#x3002;<br>IE&#x7684;&#x4E8B;&#x4EF6;&#x6D41;&#x662F;&#x5192;&#x6CE1; &#x4ECE;&#x91CC;&#x9762;&#x5F80;&#x4E0A;&#x9762;&#x5192;, netscape&#x662F;&#x4ECE;&#x5916;&#x90E8;&#x5143;&#x7D20;&#x5F80;&#x5185;&#x90E8;&#x5143;&#x7D20;&#x6355;&#x83B7;;&#x540E;&#x6765;&#x51FA;&#x6765;&#x4E86;&#x4E2A;W3C&#x59D4;&#x5458;&#x4F1A;&#xFF0C;&#x60F3;&#x8981;&#x7EDF;&#x4E00;&#xFF0C;&#x4E3A;&#x4E86;&#x517C;&#x5BB9;&#xFF0C;&#x5BA3;&#x5E03;&#x4E86;&#x540E;&#x6765;&#x7684;W3C&#x4E8B;&#x4EF6;&#x6A21;&#x578B;&#xFF08;&#x6355;&#x83B7;-&#x4E8B;&#x4EF6;&#x5904;&#x7406;-&#x5192;&#x6CE1;&#xFF09;&#xFF0C;&#x4ECE;&#x6B64;&#x5929;&#x4E0B;&#x4E00;&#x7EDF;&#x3002; </p><a id="more"></a><h3 id="&#x4E8B;&#x4EF6;&#x7684;&#x4E09;&#x79CD;&#x6A21;&#x578B;"><a href="#&#x4E8B;&#x4EF6;&#x7684;&#x4E09;&#x79CD;&#x6A21;&#x578B;" class="headerlink" title="&#x4E8B;&#x4EF6;&#x7684;&#x4E09;&#x79CD;&#x6A21;&#x578B;"></a>&#x4E8B;&#x4EF6;&#x7684;&#x4E09;&#x79CD;&#x6A21;&#x578B;</h3><h4 id="DOM0-&#x539F;&#x59CB;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;"><a href="#DOM0-&#x539F;&#x59CB;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;" class="headerlink" title="DOM0(&#x539F;&#x59CB;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;)"></a>DOM0(&#x539F;&#x59CB;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;)</h4><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">input</span> id=<span class="string">&quot;myButton&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;Press Me&quot;</span> onclick=<span class="string">&quot;alert(&apos;thanks&apos;);&quot;</span> &gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">or</span></span><br><span class="line"></span><br><span class="line">document.getElementById(<span class="string">&quot;myButton&quot;</span>).onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span></span> {alert(<span class="string">&apos;thanks&apos;</span>);}</span><br></pre></td></tr></table></figure><p>&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x503C;&#x5E76;&#x4E14;&#x662F;false&#xFF0C;&#x5219;&#x4F1A;&#x963B;&#x6B62;&#x6D4F;&#x89C8;&#x5668;&#x6267;&#x884C;&#x9ED8;&#x8BA4;&#x7684;&#x52A8;&#x4F5C;</p><p>&#x4F18;&#x70B9;&#xFF1A;</p><blockquote><p>&#x6240;&#x6709;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x517C;&#x5BB9;</p></blockquote><p>&#x7F3A;&#x70B9;&#xFF1A;</p><blockquote><ol><li>&#x4EE3;&#x7801;&#x8026;&#x5408;&#x4E25;&#x91CD;</li><li>&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x5668;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#xFF0C;&#x91CD;&#x590D;&#x8D4B;&#x503C;&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x8986;&#x76D6;&#x524D;&#x9762;&#x7684;</li><li>&#x6CA1;&#x6709;&#x4E8B;&#x4EF6;&#x7684;&#x5192;&#x6CE1;&#x3001;&#x59D4;&#x6258;&#x7B49;&#x673A;&#x5236;&#x5B8C;&#x6210;&#x66F4;&#x4E3A;&#x8D1F;&#x8F7D;&#x7684;&#x60C5;&#x51B5;</li></ol></blockquote><h4 id="IE"><a href="#IE" class="headerlink" title="IE"></a>IE</h4><p>IE&#x5C06;event&#x4F5C;&#x4E3A;window&#x7684;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x3002;IE&#x7684;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;&#x53EA;&#x6709;&#x4E24;&#x6B65;&#xFF0C;&#x6267;&#x884C;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x5192;&#x6CE1;&#x3002;<br>&#x6DFB;&#x52A0;&#x548C;&#x79FB;&#x9664;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x7684;&#x65B9;&#x5F0F;</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">attachEvent</span><span class="params">( <span class="string">&quot;eventType&quot;</span>,<span class="string">&quot;handler&quot;</span>)</span></span></span><br><span class="line"><span class="comment">//&#x5176;&#x4E2D;evetType&#x4E3A;&#x4E8B;&#x4EF6;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5982;onclick&#xFF0C;&#x6CE8;&#x610F;&#x8981;&#x52A0;&#x2019;on&#x2019;&#x3002;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">detachEvent</span><span class="params">(<span class="string">&quot;eventType&quot;</span>,<span class="string">&quot;handler&quot;</span> )</span></span></span><br></pre></td></tr></table></figure><h4 id="DOM2"><a href="#DOM2" class="headerlink" title="DOM2"></a>DOM2</h4><p>&#x4E8B;&#x4EF6;&#x5206;&#x4E3A;&#x4E09;&#x4E2A;&#x9636;&#x6BB5;&#xFF1A; &#x6355;&#x83B7;-&#x5904;&#x7406;&#x76EE;&#x6807;-&#x5192;&#x6CE1;&#xFF08;IE8&#x4EE5;&#x53CA;&#x66F4;&#x65E9;&#x7248;&#x672C;&#x4E0D;&#x652F;&#x6301;DOM&#x4E8B;&#x4EF6;&#x6D41;&#xFF09;</p><ol><li>&#x6355;&#x83B7;&#x9636;&#x6BB5;&#xFF1A; &#x4E8B;&#x4EF6;&#x88AB;&#x4ECE;document&#x4E00;&#x76F4;&#x5411;&#x4E0B;&#x4F20;&#x64AD;&#x5230;&#x76EE;&#x6807;&#x5143;&#x7D20;,&#x5728;&#x8FD9;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F9D;&#x6B21;&#x68C0;&#x67E5;&#x7ECF;&#x8FC7;&#x7684;&#x8282;&#x70B9;&#x662F;&#x5426;&#x6CE8;&#x518C;&#x4E86;&#x8BE5;&#x4E8B;&#x4EF6;&#x7684;&#x76D1;&#x542C;&#x51FD;&#x6570;&#xFF0C;&#x82E5;&#x6709;&#x5219;&#x6267;&#x884C;&#x3002;</li><li>&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#xFF1A; &#x4E8B;&#x4EF6;&#x5230;&#x8FBE;&#x76EE;&#x6807;&#x5143;&#x7D20;,&#x6267;&#x884C;&#x76EE;&#x6807;&#x5143;&#x7D20;&#x7684;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;</li><li>&#x5192;&#x6CE1;&#xFF1A;    &#x4E8B;&#x4EF6;&#x4ECE;&#x76EE;&#x6807;&#x5143;&#x7D20;&#x4E0A;&#x5347;&#x4E00;&#x76F4;&#x5230;&#x8FBE;document&#xFF0C;&#x540C;&#x6837;&#x4F9D;&#x6B21;&#x68C0;&#x67E5;&#x7ECF;&#x8FC7;&#x7684;&#x8282;&#x70B9;&#x662F;&#x5426;&#x6CE8;&#x518C;&#x4E86;&#x8BE5;&#x4E8B;&#x4EF6;&#x7684;&#x76D1;&#x542C;&#x51FD;&#x6570;&#xFF0C;&#x6709;&#x5219;&#x6267;&#x884C;&#x3002;</li></ol><h3 id="&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;"><a href="#&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;" class="headerlink" title="&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;"></a>&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;</h3><h4 id="&#x5E38;&#x7528;&#x5BF9;&#x8C61;&#x548C;&#x5C5E;&#x6027;"><a href="#&#x5E38;&#x7528;&#x5BF9;&#x8C61;&#x548C;&#x5C5E;&#x6027;" class="headerlink" title="&#x5E38;&#x7528;&#x5BF9;&#x8C61;&#x548C;&#x5C5E;&#x6027;"></a>&#x5E38;&#x7528;&#x5BF9;&#x8C61;&#x548C;&#x5C5E;&#x6027;</h4><ul><li>DOM&#x4E8B;&#x4EF6;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x5E38;&#x7528;&#x5C5E;&#x6027;:</li></ul><ol><li>type&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;</li><li>currentTarget &#x5F53;&#x524D;&#x6B63;&#x5728;&#x5904;&#x7406;&#x7684;&#x4E8B;&#x4EF6;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x5728;&#x4E8B;&#x4EF6;&#x6355;&#x83B7;&#x6216;&#x5192;&#x6CE1;&#x9636;&#x6BB5;</li><li>target&#x83B7;&#x53D6;&#x4E8B;&#x4EF6;&#x76EE;&#x6807;</li><li>stopPropagation()&#x963B;&#x6B62;&#x4E8B;&#x4EF6;&#x5192;&#x6CE1;</li><li>preventDefault()&#x963B;&#x6B62;&#x4E8B;&#x4EF6;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;</li><li>keyCode&#xFF1A;&#x6309;&#x4E0B;&#x7684;&#x952E;&#x7684;&#x503C;&#xFF1B;</li><li>stopImmediatePropagation() (DOM3)&#x963B;&#x6B62;&#x4EFB;&#x4F55;&#x4E8B;&#x4EF6;&#x7684;&#x8FD0;&#x884C;&#xFF1B;&#x8BE6;&#x60C5;&#x770B;<a href="http://39.105.159.58:8080/2019/09/16/stopImmediatePropagation%E5%92%8CstopPropagation%E7%9A%84%E5%8C%BA%E5%88%AB/" target="_blank" rel="noopener">http://39.105.159.58:8080/2019/09/16/stopImmediatePropagation%E5%92%8CstopPropagation%E7%9A%84%E5%8C%BA%E5%88%AB/</a></li></ol><ul><li>IE&#x4E8B;&#x4EF6;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x5E38;&#x7528;&#x5C5E;&#x6027;:</li></ul><ol><li>type&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;</li><li>srcElement&#x83B7;&#x53D6;&#x4E8B;&#x4EF6;&#x76EE;&#x6807;</li><li>cancelBubble&#x963B;&#x6B62;&#x4E8B;&#x4EF6;&#x5192;&#x6CE1;</li><li>returnValue&#x963B;&#x6B62;&#x4E8B;&#x4EF6;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;</li></ol><h4 id="&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x4E2D;&#x548C;&#x5B9A;&#x4F4D;&#x76F8;&#x5173;&#x7684;&#x5C5E;&#x6027;"><a href="#&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x4E2D;&#x548C;&#x5B9A;&#x4F4D;&#x76F8;&#x5173;&#x7684;&#x5C5E;&#x6027;" class="headerlink" title="&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x4E2D;&#x548C;&#x5B9A;&#x4F4D;&#x76F8;&#x5173;&#x7684;&#x5C5E;&#x6027;"></a>&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x4E2D;&#x548C;&#x5B9A;&#x4F4D;&#x76F8;&#x5173;&#x7684;&#x5C5E;&#x6027;</h4><ol><li>x/y&#x4E0E;clientX/clientY&#x503C;&#x4E00;&#x6837;&#xFF0C;&#x8868;&#x793A;&#x8DDD;&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x89C6;&#x533A;&#x57DF;&#xFF08;&#x5DE5;&#x5177;&#x680F;&#x9664;&#x5916;&#x533A;&#x57DF;&#xFF09;&#x5DE6;/&#x4E0A;&#x7684;&#x8DDD;&#x79BB;&#xFF1B;</li><li>pageX/pageY&#xFF0C;&#x8DDD;&#x9875;&#x9762;&#x5DE6;/&#x4E0A;&#x7684;&#x8DDD;&#x79BB;&#xFF0C;&#x5B83;&#x4E0E;clientX/clientY&#x7684;&#x533A;&#x522B;&#x662F;&#x4E0D;&#x968F;&#x6EDA;&#x52A8;&#x6761;&#x7684;&#x4F4D;&#x7F6E;&#x53D8;&#x5316;&#xFF1B;</li><li>screenX/screenY&#xFF0C;&#x8DDD;&#x8BA1;&#x7B97;&#x673A;&#x663E;&#x793A;&#x5668;&#x5DE6;/&#x4E0A;&#x7684;&#x8DDD;&#x79BB;&#xFF0C;&#x62D6;&#x52A8;&#x4F60;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x4F4D;&#x7F6E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x53D8;&#x5316;&#xFF1B;</li><li>layerX/layerY&#x4E0E;offsetX/offsetY&#x503C;&#x4E00;&#x6837;&#xFF0C;&#x8868;&#x793A;&#x8DDD;&#x6709;&#x5B9A;&#x4F4D;&#x5C5E;&#x6027;&#x7684;&#x7236;&#x5143;&#x7D20;&#x5DE6;/&#x4E0A;&#x7684;&#x8DDD;&#x79BB;&#x3002;</li></ol><h3 id="&#x4E8B;&#x4EF6;&#x59D4;&#x6258;-&#x4EE3;&#x7406;"><a href="#&#x4E8B;&#x4EF6;&#x59D4;&#x6258;-&#x4EE3;&#x7406;" class="headerlink" title="&#x4E8B;&#x4EF6;&#x59D4;&#x6258;/&#x4EE3;&#x7406;"></a>&#x4E8B;&#x4EF6;&#x59D4;&#x6258;/&#x4EE3;&#x7406;</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//&#x7236;&#x5143;&#x7D20;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> dom= <span class="built_in">document</span>.getElementById(<span class="string">&apos;parent&apos;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="comment">//&#x7236;&#x5143;&#x7D20;&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE3;&#x7406;&#x5B50;&#x5143;&#x7D20;&#x7684;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;</span></span></span><br><span class="line"><span class="actionscript">  dom.onclick= <span class="function"><span class="keyword">function</span><span class="params">(event)</span> </span>{</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> event= event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> curTarget= event.target || event.srcElement;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span> (curTarget.tagName.toLowerCase() == <span class="string">&apos;li&apos;</span>) { <span class="comment">//&#x627E;&#x5230;&#x88AB;&#x4EE3;&#x7406;&#x7684;&#x8282;&#x70B9;</span></span></span><br><span class="line"><span class="actionscript">      <span class="comment">//&#x4E8B;&#x4EF6;&#x5904;&#x7406;</span></span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>&#x4F18;&#x70B9;&#xFF1A;</p><ol><li>&#x8282;&#x7701;&#x5185;&#x5B58;&#x5360;&#x7528;&#xFF0C;&#x51CF;&#x5C11;&#x4E8B;&#x4EF6;&#x6CE8;&#x518C;</li><li>&#x65B0;&#x589E;&#x5B50;&#x5BF9;&#x8C61;&#x65F6;&#x65E0;&#x9700;&#x518D;&#x6B21;&#x5BF9;&#x5176;&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#xFF0C;&#x9002;&#x5408;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x5143;&#x7D20;</li></ol><h3 id="eventBus&#x7684;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;"><a href="#eventBus&#x7684;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;" class="headerlink" title="eventBus&#x7684;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;"></a>eventBus&#x7684;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &#x5B8C;&#x6574;&#x7684;&#x601D;&#x8DEF;&#x5C31;&#x662F;&#xFF0C;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;map&#x5B58;&#x50A8; type&#xFF1A;&#x5904;&#x7406;&#x51FD;&#x6570;</span></span><br><span class="line"><span class="comment"> *  &#x6709;&#x4E24;&#x79CD;&#x5B58;&#x50A8;&#x5F62;&#x5F0F;</span></span><br><span class="line"><span class="comment"> *  type: function</span></span><br><span class="line"><span class="comment"> *  type: [function, funciton, ...]</span></span><br><span class="line"><span class="comment"> *  &#x5220;&#x9664;&#x548C;&#x6DFB;&#x52A0;&#x7684;&#x65F6;&#x5019;&#x8003;&#x8651;&#x5230;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x5C31;&#x884C;&#x4E86;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> EventEmitter{</span><br><span class="line">  <span class="keyword">constructor</span> (<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">this</span>._events = <span class="keyword">this</span>._events || <span class="keyword">new</span> Map()</span><br><span class="line">    <span class="keyword">this</span>._maxListeners = <span class="keyword">this</span>._maxListeners || <span class="number">10</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">EventEmitter.prototype.emit = <span class="function"><span class="keyword">function</span>(<span class="params"><span class="keyword">type</span>, ...args</span>)</span>{</span><br><span class="line">  <span class="keyword">let</span> handler = <span class="keyword">this</span>._events.get(<span class="keyword">type</span>)</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(handler)) {</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;handler.length;i++) {</span><br><span class="line">      <span class="keyword">if</span>(args.length &gt; <span class="number">0</span>) {</span><br><span class="line">        handler[i].apply(<span class="keyword">this</span>, args)</span><br><span class="line">      }<span class="keyword">else</span> {</span><br><span class="line">        handler[i].call(<span class="keyword">this</span>)</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }<span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">if</span>(args.length &gt;<span class="number">0</span>) {</span><br><span class="line">      handler.apply(<span class="keyword">this</span>, args)</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      handler.call(<span class="keyword">this</span>)</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">EventEmitter.prototype.addListener = <span class="function"><span class="keyword">function</span>(<span class="params"><span class="keyword">type</span>, fn</span>) </span>{</span><br><span class="line">  <span class="keyword">const</span> handler = <span class="keyword">this</span>._events.get(<span class="keyword">type</span>)</span><br><span class="line">  <span class="keyword">if</span>(!handler) {</span><br><span class="line">    <span class="keyword">this</span>._events.set(<span class="keyword">type</span>, handler)</span><br><span class="line">  }<span class="keyword">else</span> <span class="keyword">if</span>(handler &amp;&amp; <span class="keyword">typeof</span> handler === <span class="string">&apos;function&apos;</span>) {</span><br><span class="line">    <span class="keyword">this</span>._events.set(<span class="keyword">type</span>, [handler, fn])</span><br><span class="line">  }<span class="keyword">else</span> {</span><br><span class="line">    handler.push(fn)</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">EventEmitter.prototype.removeListener = <span class="function"><span class="keyword">function</span>(<span class="params"><span class="keyword">type</span>, fn</span>) </span>{</span><br><span class="line">  <span class="keyword">const</span> handler = <span class="keyword">this</span>._events.get(<span class="keyword">type</span>)</span><br><span class="line">  <span class="keyword">if</span>(handler &amp;&amp; <span class="keyword">typeof</span> handler === <span class="string">&apos;function&apos;</span>) {</span><br><span class="line">    <span class="keyword">this</span>._events.delete(<span class="keyword">type</span>)</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">let</span> position = <span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;handler.length;i++) {</span><br><span class="line">      <span class="keyword">if</span> (handler[i] === fn) {</span><br><span class="line">        position = i</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (position !== <span class="number">-1</span>) {</span><br><span class="line">      handler.splice(position, <span class="number">1</span>)</span><br><span class="line">      <span class="keyword">if</span> (handler.length === <span class="number">1</span>) {</span><br><span class="line">        <span class="keyword">this</span>._events.set(<span class="keyword">type</span>, handler[<span class="number">0</span>])</span><br><span class="line">      }</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;&amp;#x5F15;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x5F15;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5F15;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x5F15;&amp;#x8A00;&lt;/h3&gt;&lt;p&gt;&amp;#x5176;&amp;#x5B9E;&amp;#xFF0C;&amp;#x8BF4;&amp;#x8D77;js&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x6A21;&amp;#x578B;&amp;#xFF0C;&amp;#x6709;&amp;#x70B9;&amp;#x57FA;&amp;#x7840;&amp;#x7684;&amp;#x90FD;&amp;#x80FD;&amp;#x8BF4;&amp;#x51E0;&amp;#x53E5;&amp;#xFF0C; &amp;#x5206;&amp;#x4E3A;&amp;#x4E09;&amp;#x4E2A;&amp;#x9636;&amp;#x6BB5;&amp;#xFF0C; &amp;#x6355;&amp;#x83B7;-&amp;#x4E8B;&amp;#x4EF6;&amp;#x5904;&amp;#x7406;-&amp;#x5192;&amp;#x6CE1;&amp;#xFF0C;&amp;#x5DF4;&amp;#x62C9;&amp;#x5DF4;&amp;#x62C9;&amp;#x2026;&amp;#x3002;&amp;#x4F46;&amp;#x662F;&amp;#x8FD9;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x8003;&amp;#x8651;&amp;#x5230;&amp;#x6211;&amp;#x4EEC; &lt;strong&gt;&amp;#x201C;&amp;#x4F1F;&amp;#x5927;&amp;#x201D;&lt;/strong&gt; &amp;#x7684;IE&amp;#xFF0C;&amp;#x6709;&amp;#x70B9;&amp;#x8003;&amp;#x8651;&amp;#x7684;&amp;#x4E0D;&amp;#x591F;&amp;#x5168;&amp;#x9762;&amp;#x3002;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x7CFB;&amp;#x7EDF;&amp;#x6027;&amp;#x7684;&amp;#x8BE6;&amp;#x7EC6;&amp;#x7684;&amp;#x8BB2;&amp;#x4E00;&amp;#x6CE2;&amp;#x513F;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x4E8B;&amp;#x4EF6;&amp;#x6A21;&amp;#x578B;&amp;#x7684;&amp;#x524D;&amp;#x4E16;&amp;#x4ECA;&amp;#x751F;&quot;&gt;&lt;a href=&quot;#&amp;#x4E8B;&amp;#x4EF6;&amp;#x6A21;&amp;#x578B;&amp;#x7684;&amp;#x524D;&amp;#x4E16;&amp;#x4ECA;&amp;#x751F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E8B;&amp;#x4EF6;&amp;#x6A21;&amp;#x578B;&amp;#x7684;&amp;#x524D;&amp;#x4E16;&amp;#x4ECA;&amp;#x751F;&quot;&gt;&lt;/a&gt;&amp;#x4E8B;&amp;#x4EF6;&amp;#x6A21;&amp;#x578B;&amp;#x7684;&amp;#x524D;&amp;#x4E16;&amp;#x4ECA;&amp;#x751F;&lt;/h3&gt;&lt;p&gt;&amp;#x6545;&amp;#x4E8B;&amp;#x6E90;&amp;#x4E8E;&amp;#x4F20;&amp;#x8BF4;&amp;#x4E2D;&amp;#x7684;&amp;#x6D4F;&amp;#x89C8;&amp;#x5668;&amp;#x5927;&amp;#x6218;&amp;#xFF0C;&amp;#x5FAE;&amp;#x8F6F;&amp;#x7684; IE &amp;#x548C;&amp;#x7F51;&amp;#x666F;&amp;#x7684;Netspace Navigator&amp;#x3002;&lt;br&gt;IE&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x6D41;&amp;#x662F;&amp;#x5192;&amp;#x6CE1; &amp;#x4ECE;&amp;#x91CC;&amp;#x9762;&amp;#x5F80;&amp;#x4E0A;&amp;#x9762;&amp;#x5192;, netscape&amp;#x662F;&amp;#x4ECE;&amp;#x5916;&amp;#x90E8;&amp;#x5143;&amp;#x7D20;&amp;#x5F80;&amp;#x5185;&amp;#x90E8;&amp;#x5143;&amp;#x7D20;&amp;#x6355;&amp;#x83B7;;&amp;#x540E;&amp;#x6765;&amp;#x51FA;&amp;#x6765;&amp;#x4E86;&amp;#x4E2A;W3C&amp;#x59D4;&amp;#x5458;&amp;#x4F1A;&amp;#xFF0C;&amp;#x60F3;&amp;#x8981;&amp;#x7EDF;&amp;#x4E00;&amp;#xFF0C;&amp;#x4E3A;&amp;#x4E86;&amp;#x517C;&amp;#x5BB9;&amp;#xFF0C;&amp;#x5BA3;&amp;#x5E03;&amp;#x4E86;&amp;#x540E;&amp;#x6765;&amp;#x7684;W3C&amp;#x4E8B;&amp;#x4EF6;&amp;#x6A21;&amp;#x578B;&amp;#xFF08;&amp;#x6355;&amp;#x83B7;-&amp;#x4E8B;&amp;#x4EF6;&amp;#x5904;&amp;#x7406;-&amp;#x5192;&amp;#x6CE1;&amp;#xFF09;&amp;#xFF0C;&amp;#x4ECE;&amp;#x6B64;&amp;#x5929;&amp;#x4E0B;&amp;#x4E00;&amp;#x7EDF;&amp;#x3002; &lt;/p&gt;
    
    </summary>
    
    
    
      <category term="事件模型" scheme="https://over58.github.io/tags/%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>golang学习笔记</title>
    <link href="https://over58.github.io/2021/02/26/golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>https://over58.github.io/2021/02/26/golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2021-02-26T06:07:21.770Z</published>
    <updated>2021-02-26T06:07:21.770Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x6570;&#x7EC4;"><a href="#&#x6570;&#x7EC4;" class="headerlink" title="&#x6570;&#x7EC4;"></a>&#x6570;&#x7EC4;</h1><ol><li>&#x6570;&#x7EC4;&#x662F;<strong>&#x503C;&#x7C7B;&#x578B;</strong></li><li>&#x6570;&#x7EC4;&#x7684;&#x4E09;&#x79CD;&#x5B9A;&#x4E49;&#x65B9;&#x5F0F;&#xFF0C; var, : , [&#x2026;]int</li><li>&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x53EA;&#x6709;&#x4E00;&#x79CD;&#x4F20;&#x9012;&#xFF0C;&#x5C31;&#x662F;&#x503C;&#x4F20;&#x9012;</li></ol><h1 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h1><ol><li><p>slice&#x662F;&#x4E00;&#x4E2A;array&#x7684;view,&#x672C;&#x8EAB;&#x4E0D;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;slice&#x53EF;&#x4EE5;&#x5411;&#x540E;&#x6269;&#x5C55;&#xFF08;cap&#x4E2D;&#x8FDB;&#x884C;&#x62D3;&#x5C55;&#xFF09;&#xFF0C;&#x4E0D;&#x53EF;&#x4EE5;&#x5411;&#x524D;&#x62D3;&#x5C55; </p></li><li><p>Slice: ptr, len, cap</p></li><li><p>&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x5143;&#x7D20;&#x65F6;&#x5927;&#x4E8E;cap, &#x7CFB;&#x7EDF;&#x4F1A;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x65B0;&#x7684;array. &#x7531;&#x4E8E;&#x503C;&#x4F20;&#x9012;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x63A5;&#x53D7;append&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C; s = append(s, val)</p></li><li><p>&#x521B;&#x5EFA;</p><ol><li>S1  = []int{1,2,3,4,5} </li><li>Append(s1, val)</li><li>make([]int, 16 , 32)    type, len, cap</li></ol></li><li><p>&#x5220;&#x9664;</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s2 = <span class="built_in">append</span>(s2[:<span class="number">3</span>], s2[<span class="number">4</span>:]... )</span><br></pre></td></tr></table></figure></li></ol><a id="more"></a><h1 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h1><h2 id="&#x5B9A;&#x4E49;"><a href="#&#x5B9A;&#x4E49;" class="headerlink" title="&#x5B9A;&#x4E49;"></a>&#x5B9A;&#x4E49;</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>  ={</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;tom&quot;</span>,</span><br><span class="line">  <span class="string">&quot;age&quot;</span>: <span class="number">20</span>,</span><br><span class="line">  <span class="string">&quot;sex&quot;</span>: <span class="string">&quot;man&quot;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//&#x7B80;&#x5355;map</span></span><br><span class="line"><span class="keyword">map</span>[K]V </span><br><span class="line"><span class="comment">//&#x590D;&#x5408;map</span></span><br><span class="line"><span class="keyword">map</span>[K]<span class="keyword">map</span>[K2]V</span><br><span class="line"></span><br><span class="line"><span class="comment">//&#x7A7A;map</span></span><br><span class="line"><span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br></pre></td></tr></table></figure><h2 id="&#x53D6;&#x503C;"><a href="#&#x53D6;&#x503C;" class="headerlink" title="&#x53D6;&#x503C;"></a>&#x53D6;&#x503C;</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">courseNamem, ok : = m[<span class="string">&apos;cause&apos;</span>]</span><br><span class="line"></span><br><span class="line">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x53D6;&#x5230;&#x5BF9;&#x5E94;&#x7684;<span class="keyword">map</span>&#x7684;&#x503C;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x7684;&#x8FD4;&#x56DE;&#x7A7A;&#xFF0C; &#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6DFB;&#x52A0;&#x4E86;ok&#x6765;&#x5224;&#x65AD;<span class="keyword">map</span>&#x662F;&#x4E0D;&#x662F;&#x771F;&#x7684;&#x6709;&#x8FD9;&#x4E2A;key</span><br></pre></td></tr></table></figure><h2 id="&#x904D;&#x5386;"><a href="#&#x904D;&#x5386;" class="headerlink" title="&#x904D;&#x5386;"></a>&#x904D;&#x5386;</h2><p>range</p><h2 id="map&#x7684;key"><a href="#map&#x7684;key" class="headerlink" title="map&#x7684;key"></a>map&#x7684;key</h2><ol><li>&#x4F7F;&#x7528;&#x54C8;&#x5E0C;&#x8868;&#xFF0C;&#x5FC5;&#x987B;&#x53EF;&#x4EE5;&#x6BD4;&#x8F83;&#x76F8;&#x7B49;</li><li>&#x9664;&#x4E86;slice,map,funcion &#x7684;&#x5185;&#x5EFA;&#x7C7B;&#x578B;&#x90FD;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;key</li></ol><h1 id="&#x9762;&#x5411;&#x5BF9;&#x8C61;"><a href="#&#x9762;&#x5411;&#x5BF9;&#x8C61;" class="headerlink" title="&#x9762;&#x5411;&#x5BF9;&#x8C61;"></a>&#x9762;&#x5411;&#x5BF9;&#x8C61;</h1><h2 id="&#x7ED3;&#x6784;&#x4F53;"><a href="#&#x7ED3;&#x6784;&#x4F53;" class="headerlink" title="&#x7ED3;&#x6784;&#x4F53;"></a>&#x7ED3;&#x6784;&#x4F53;</h2><ol><li><p>&#x53EA;&#x652F;&#x6301;&#x5C01;&#x88C5;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x7EE7;&#x627F;&#x548C;&#x591A;&#x6001;</p></li><li><p>&#x6CA1;&#x6709;class,&#x53EA;&#x6709;struct</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> treeNode <span class="keyword">struct</span>{</span><br><span class="line">value <span class="keyword">int</span></span><br><span class="line">left, right *treeNode</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(node treeNode)</span> <span class="title">print</span><span class="params">()</span></span> {</span><br><span class="line">fmt.Println(node.value)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//&#x53EF;&#x4EE5;&#x66F4;&#x6539;&#x539F;&#x503C;&#xFF0C; &#x901A;&#x8FC7;&#x4F20;&#x4E2A;&#x5730;&#x5740;&#x8FDB;&#x53BB;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(node *treeNode)</span> <span class="title">setValue</span> <span class="params">(val <span class="keyword">int</span>)</span></span> {</span><br><span class="line">  node.vlaue = val</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>nil&#x6307;&#x9488;&#x4E5F;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x65B9;&#x6CD5;</p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x6570;&amp;#x7EC4;&quot;&gt;&lt;a href=&quot;#&amp;#x6570;&amp;#x7EC4;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6570;&amp;#x7EC4;&quot;&gt;&lt;/a&gt;&amp;#x6570;&amp;#x7EC4;&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&amp;#x6570;&amp;#x7EC4;&amp;#x662F;&lt;strong&gt;&amp;#x503C;&amp;#x7C7B;&amp;#x578B;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x4E09;&amp;#x79CD;&amp;#x5B9A;&amp;#x4E49;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C; var, : , [&amp;#x2026;]int&lt;/li&gt;
&lt;li&gt;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x4F20;&amp;#x9012;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x79CD;&amp;#x4F20;&amp;#x9012;&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;&amp;#x503C;&amp;#x4F20;&amp;#x9012;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;slice&quot;&gt;&lt;a href=&quot;#slice&quot; class=&quot;headerlink&quot; title=&quot;slice&quot;&gt;&lt;/a&gt;slice&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;slice&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;array&amp;#x7684;view,&amp;#x672C;&amp;#x8EAB;&amp;#x4E0D;&amp;#x5B58;&amp;#x50A8;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;slice&amp;#x53EF;&amp;#x4EE5;&amp;#x5411;&amp;#x540E;&amp;#x6269;&amp;#x5C55;&amp;#xFF08;cap&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x62D3;&amp;#x5C55;&amp;#xFF09;&amp;#xFF0C;&amp;#x4E0D;&amp;#x53EF;&amp;#x4EE5;&amp;#x5411;&amp;#x524D;&amp;#x62D3;&amp;#x5C55; &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Slice: ptr, len, cap&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x6DFB;&amp;#x52A0;&amp;#x5143;&amp;#x7D20;&amp;#x65F6;&amp;#x5927;&amp;#x4E8E;cap, &amp;#x7CFB;&amp;#x7EDF;&amp;#x4F1A;&amp;#x5206;&amp;#x914D;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B0;&amp;#x7684;array. &amp;#x7531;&amp;#x4E8E;&amp;#x503C;&amp;#x4F20;&amp;#x9012;&amp;#x7684;&amp;#x5173;&amp;#x7CFB;&amp;#xFF0C;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x63A5;&amp;#x53D7;append&amp;#x7684;&amp;#x8FD4;&amp;#x56DE;&amp;#x503C;&amp;#xFF0C; s = append(s, val)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x521B;&amp;#x5EFA;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;S1  = []int{1,2,3,4,5} &lt;/li&gt;
&lt;li&gt;Append(s1, val)&lt;/li&gt;
&lt;li&gt;make([]int, 16 , 32)    type, len, cap&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5220;&amp;#x9664;&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;s2 = &lt;span class=&quot;built_in&quot;&gt;append&lt;/span&gt;(s2[:&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;], s2[&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;:]... )&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>移动端适配方案</title>
    <link href="https://over58.github.io/2021/02/25/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88/"/>
    <id>https://over58.github.io/2021/02/25/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88/</id>
    <published>2021-02-25T16:38:16.000Z</published>
    <updated>2021-02-25T16:38:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>DPR = &#x8BBE;&#x5907;&#x50CF;&#x7D20;&#xFF08;&#x7269;&#x7406;&#x50CF;&#x7D20;&#x3001;&#x4E0D;&#x53D8;&#x7684;&#xFF09; / &#x8BBE;&#x5907;&#x72EC;&#x7ACB;&#x50CF;&#x7D20;(&#x76F8;&#x5BF9;&#x50CF;&#x7D20;)</p><h2 id="screen-width"><a href="#screen-width" class="headerlink" title="screen.width"></a>screen.width</h2><p>&#x6307;&#x7684;&#x662F;&#x663E;&#x793A;&#x5668;&#x6C34;&#x5E73;&#x65B9;&#x5411;&#x7684;&#x50CF;&#x7D20;&#xFF0C;&#x4E0D;&#x968F;&#x7740;&#x6211;&#x4EEC;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x7A97;&#x53E3;&#x53D8;&#x5316;&#x800C;&#x53D8;&#x5316;</p><blockquote><p>chrome&#x4E0A;&#x9762;&#x8FDB;&#x884C;&#x79FB;&#x52A8;&#x7AEF;&#x5F00;&#x53D1;&#x7684;&#x65F6;&#x5019;, screen.width&#x8868;&#x793A;&#x7684;&#x5C31;&#x662F;&#x9009;&#x62E9;&#x7684;&#x54CD;&#x5E94;&#x5F0F;&#x7A97;&#x53E3;&#x7684;&#x5BBD;&#x5EA6;</p></blockquote><h2 id="window-innerWidth"><a href="#window-innerWidth" class="headerlink" title="window.innerWidth"></a>window.innerWidth</h2><p>window.innerWidth&#x6307;&#x7684;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x7684;&#x5BBD;&#x5EA6;&#xFF0C;&#x662F;&#x53EF;&#x4EE5;&#x53D8;&#x5316;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x662F;CSS&#x50CF;&#x7D20;&#x3002;</p><blockquote><p>&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x5728;100%&#x7F29;&#x653E;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;window.innerWidth&#x7684;&#x503C;&#x4E3A;1192&#xFF0C;window.innerHeight&#x7684;&#x503C;&#x4E3A;455&#xFF0C;&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5C1D;&#x8BD5;&#x5C06;&#x653E;&#x5927;&#x5230;200%&#xFF0C;&#x53D1;&#x73B0;window.innerWidth&#x7684;&#x503C;&#x53D8;&#x6210;&#x4E86;&#x539F;&#x6765;&#x7684;1/2</p></blockquote><h3 id="&#x89E3;&#x91CA;&#x5982;&#x4E0B;"><a href="#&#x89E3;&#x91CA;&#x5982;&#x4E0B;" class="headerlink" title="&#x89E3;&#x91CA;&#x5982;&#x4E0B;"></a>&#x89E3;&#x91CA;&#x5982;&#x4E0B;</h3><p>&#x5148;&#x770B;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x8FD9;&#x4E2A;&#x516C;&#x5F0F;&#xFF0C; &#x6211;&#x4EEC;&#x4E00;&#x76F4;&#x62FF;&#x7684;&#x90FD;&#x662F;&#x76F8;&#x5BF9;&#x50CF;&#x7D20;&#x3002;</p><blockquote><p>DPR = &#x8BBE;&#x5907;&#x50CF;&#x7D20;&#xFF08;&#x7269;&#x7406;&#x50CF;&#x7D20;&#x3001;&#x4E0D;&#x53D8;&#x7684;&#xFF09; / &#x8BBE;&#x5907;&#x72EC;&#x7ACB;&#x50CF;&#x7D20;(&#x76F8;&#x5BF9;&#x50CF;&#x7D20;)</p></blockquote><p>&#x5F53;&#x6211;&#x4EEC;&#x653E;&#x5927;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x5C06;<strong>window.devicePixelRatio</strong> &#x653E;&#x5927;&#x4E3A;&#x539F;&#x6765;&#x7684;2&#x500D;&#x3002;&#x8BBE;&#x5907;&#x50CF;&#x7D20;&#x4E0D;&#x53D8;&#xFF0C; &#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x62FF;&#x5230;&#x7684;&#x76F8;&#x5BF9;&#x50CF;&#x7D20;&#x7684;&#x503C;&#x5C31;&#x53D8;&#x5F97;&#x987A;&#x7406;&#x6210;&#x7AE0;&#x4E86;</p><h2 id="&#x51E0;&#x4E2A;&#x5E38;&#x89C1;&#x5355;&#x4F4D;&#x7684;&#x5BF9;&#x6BD4;"><a href="#&#x51E0;&#x4E2A;&#x5E38;&#x89C1;&#x5355;&#x4F4D;&#x7684;&#x5BF9;&#x6BD4;" class="headerlink" title="&#x51E0;&#x4E2A;&#x5E38;&#x89C1;&#x5355;&#x4F4D;&#x7684;&#x5BF9;&#x6BD4;"></a>&#x51E0;&#x4E2A;&#x5E38;&#x89C1;&#x5355;&#x4F4D;&#x7684;&#x5BF9;&#x6BD4;</h2><ul><li>window.innerWidth&#x6307;&#x7684;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x7684;&#x5BBD;&#x5EA6;&#xFF08;&#x5305;&#x542B;&#x6EDA;&#x52A8;&#x6761;&#xFF09;&#xFF0C;&#x7528;CSS&#x50CF;&#x7D20;(&#x76F8;&#x5BF9;&#x50CF;&#x7D20;)&#x8861;&#x91CF;&#xFF0C;<strong>&#x4F1A;&#x53D8;</strong></li><li>document.documentElement.clientWidth&#x6307;&#x7684;&#x662F;viewport&#x7684;&#x5BBD;&#x5EA6;&#xFF0C;&#x7B49;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x7684;&#x5BBD;&#x5EA6;&#xFF08;&#x4E0D;&#x5305;&#x542B;&#x6EDA;&#x52A8;&#x6761;&#xFF09;, <strong>&#x7528;CSS&#x50CF;&#x7D20;(&#x76F8;&#x5BF9;&#x50CF;&#x7D20;)&#x8861;&#x91CF;</strong> <strong>&#x4F1A;&#x53D8;</strong></li><li>document.documentElement.offsetWidth&#x6307;&#x7684;&#x662F;html&#x7684;&#x5BBD;&#x5EA6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x7684;&#x5BBD;&#x5EA6;  <strong>&#x4F1A;&#x53D8;</strong></li><li>document.documentElement.offsetHeight&#x6307;&#x7684;&#x662F;html&#x7684;&#x9AD8;&#x5EA6;&#xFF0C;&#x6CA1;&#x6709;&#x663E;&#x793A;&#x7ED9;html&#x6307;&#x5B9A;&#x9AD8;&#x5EA6;&#x7684;&#x8BDD;&#xFF0C;&#x4E3A;0   <strong>&#x4E0D;&#x4F1A;&#x53D8;</strong></li></ul><blockquote><p>&#x201D;&#x4F1A;&#x53D8;&#x201C; &#x6307;&#x7684;&#x662F;&#x968F;&#x7740;window.devicePixelRatio&#x53D8;&#x5316;&#x800C;&#x53D8;&#x5316;</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;DPR = &amp;#x8BBE;&amp;#x5907;&amp;#x50CF;&amp;#x7D20;&amp;#xFF08;&amp;#x7269;&amp;#x7406;&amp;#x50CF;&amp;#x7D20;&amp;#x3001;&amp;#x4E0D;&amp;#x53D8;&amp;#x7684;&amp;#xFF09; / &amp;#x8BBE;&amp;#x5907;
      
    
    </summary>
    
    
      <category term="js知识库" scheme="https://over58.github.io/categories/js%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>css中的各种单位</title>
    <link href="https://over58.github.io/2021/02/25/css%E4%B8%AD%E7%9A%84%E5%90%84%E7%A7%8D%E5%8D%95%E4%BD%8D/"/>
    <id>https://over58.github.io/2021/02/25/css%E4%B8%AD%E7%9A%84%E5%90%84%E7%A7%8D%E5%8D%95%E4%BD%8D/</id>
    <published>2021-02-25T15:25:42.000Z</published>
    <updated>2021-02-25T15:25:42.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x7269;&#x7406;&#x50CF;&#x7D20;&#xFF08;&#x8BBE;&#x5907;&#x50CF;&#x7D20;&#xFF09;"><a href="#&#x7269;&#x7406;&#x50CF;&#x7D20;&#xFF08;&#x8BBE;&#x5907;&#x50CF;&#x7D20;&#xFF09;" class="headerlink" title="&#x7269;&#x7406;&#x50CF;&#x7D20;&#xFF08;&#x8BBE;&#x5907;&#x50CF;&#x7D20;&#xFF09;"></a>&#x7269;&#x7406;&#x50CF;&#x7D20;&#xFF08;&#x8BBE;&#x5907;&#x50CF;&#x7D20;&#xFF09;</h2><p>&#x8868;&#x793A;&#x7269;&#x7406;&#x8BBE;&#x5907;&#x4E2D;&#x6700;&#x5C0F;&#x7684;&#x70B9;&#xFF0C; &#x662F;&#x7EDD;&#x5BF9;&#x5355;&#x4F4D;</p><h2 id="px"><a href="#px" class="headerlink" title="px"></a>px</h2><ul><li>&#x76F8;&#x5BF9;&#x5355;&#x4F4D;</li><li>px / &#x8BBE;&#x5907;&#x50CF;&#x7D20; = dpr</li></ul><h2 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h2><p>html&#x4E2D;font-size&#x7684;&#x503C;</p><h2 id><a href="#" class="headerlink" title="%"></a>%</h2><p>&#x76F8;&#x5BF9;&#x4E8E;&#x7236;&#x5143;&#x7D20;</p><h2 id="em"><a href="#em" class="headerlink" title="em"></a>em</h2><p>&#x5F53;&#x524D;&#x5143;&#x7D20;&#x4E2D;font-size&#x7684;&#x503C;&#x3002;&#x5982;&#x5F53;&#x524D;&#x5BF9;&#x884C;&#x5185;&#x6587;&#x672C;&#x7684;&#x5B57;&#x4F53;&#x5C3A;&#x5BF8;&#x672A;&#x88AB;&#x4EBA;&#x4E3A;&#x8BBE;&#x7F6E;&#xFF0C;&#x5219;&#x76F8;&#x5BF9;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x9ED8;&#x8BA4;&#x5B57;&#x4F53;&#x5C3A;&#x5BF8;&#x3002;</p><p>EM&#x7279;&#x70B9;</p><ol><li>em&#x7684;&#x503C;&#x5E76;&#x4E0D;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF1B;</li><li>em&#x4F1A;&#x7EE7;&#x627F;&#x7236;&#x7EA7;&#x5143;&#x7D20;&#x7684;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#x3002;</li></ol><a id="more"></a><blockquote><p>&#x6CE8;&#x610F;&#xFF1A;&#x4EFB;&#x610F;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x9ED8;&#x8BA4;&#x5B57;&#x4F53;&#x9AD8;&#x90FD;&#x662F;16px&#x3002;&#x6240;&#x6709;&#x672A;&#x7ECF;&#x8C03;&#x6574;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x7B26;&#x5408;: 1em=16px&#x3002;&#x90A3;&#x4E48;12px=0.75em,10px=0.625em&#x3002;&#x4E3A;&#x4E86;&#x7B80;&#x5316;font-size&#x7684;&#x6362;&#x7B97;&#xFF0C;&#x9700;&#x8981;&#x5728;css&#x4E2D;&#x7684;body&#x9009;&#x62E9;&#x5668;&#x4E2D;&#x58F0;&#x660E;Font-size=62.5%&#xFF0C;&#x8FD9;&#x5C31;&#x4F7F;em&#x503C;&#x53D8;&#x4E3A; 16px*62.5%=10px, &#x8FD9;&#x6837;12px=1.2em, 10px=1em, &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x53EA;&#x9700;&#x8981;&#x5C06;&#x4F60;&#x7684;&#x539F;&#x6765;&#x7684;px&#x6570;&#x503C;&#x9664;&#x4EE5;10&#xFF0C;&#x7136;&#x540E;&#x6362;&#x4E0A;em&#x4F5C;&#x4E3A;&#x5355;&#x4F4D;&#x5C31;&#x884C;&#x4E86;&#x3002;</p></blockquote><blockquote><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5728;&#x5199;CSS&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4E24;&#x70B9;&#xFF1A;</p><ol><li>body&#x9009;&#x62E9;&#x5668;&#x4E2D;&#x58F0;&#x660E;Font-size=62.5%&#xFF1B;</li><li>&#x5C06;&#x4F60;&#x7684;&#x539F;&#x6765;&#x7684;px&#x6570;&#x503C;&#x9664;&#x4EE5;10&#xFF0C;&#x7136;&#x540E;&#x6362;&#x4E0A;em&#x4F5C;&#x4E3A;&#x5355;&#x4F4D;&#xFF1B;</li><li>&#x91CD;&#x65B0;&#x8BA1;&#x7B97;&#x90A3;&#x4E9B;&#x88AB;&#x653E;&#x5927;&#x7684;&#x5B57;&#x4F53;&#x7684;em&#x6570;&#x503C;&#x3002;&#x907F;&#x514D;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#x7684;&#x91CD;&#x590D;&#x58F0;&#x660E;&#x3002;</li></ol></blockquote><blockquote><p>&#x4E5F;&#x5C31;&#x662F;&#x907F;&#x514D;1.2 * 1.2= 1.44&#x7684;&#x73B0;&#x8C61;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#x4F60;&#x5728;#content&#x4E2D;&#x58F0;&#x660E;&#x4E86;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#x4E3A;1.2em&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x58F0;&#x660E;p&#x7684;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#x65F6;&#x5C31;&#x53EA;&#x80FD;&#x662F;1em&#xFF0C;&#x800C;&#x4E0D;&#x662F;1.2em, &#x56E0;&#x4E3A;&#x6B64;em&#x975E;&#x5F7C;em&#xFF0C;&#x5B83;&#x56E0;&#x7EE7;&#x627F;#content&#x7684;&#x5B57;&#x4F53;&#x9AD8;&#x800C;&#x53D8;&#x4E3A;&#x4E86;1em=12px&#x3002;</p></blockquote><h2 id="vh-vw"><a href="#vh-vw" class="headerlink" title="vh/vw"></a>vh/vw</h2><p>&#x5206;&#x522B;&#x662F;&#x89C6;&#x7A97;&#x7684;&#x9AD8;&#x548C;&#x5BBD;&#xFF0C; &#x76F8;&#x5BF9;&#x4E8E;&#x89C6;&#x7A97;&#xFF0C;&#x5C06;&#x89C6;&#x7A97;&#x5206;&#x6210;&#x4E86;100&#x4EFD;</p><h2 id="vmin-vmax"><a href="#vmin-vmax" class="headerlink" title="vmin/vmax"></a>vmin/vmax</h2><ul><li>vmin &#x4EE3;&#x8868;vh&#x3001;vw&#x4E2D;&#x7684;&#x6700;&#x5C0F;&#x503C;</li><li>vmax &#x4EE3;&#x8868;vh&#x3001;vw&#x4E2D;&#x7684;&#x6700;&#x5927;&#x503C;</li></ul><h2 id="fr"><a href="#fr" class="headerlink" title="fr"></a>fr</h2><p>fr&#x662F;&#x4E00;&#x4E2A;&#x81EA;&#x9002;&#x5E94;&#x5355;&#x4F4D;&#xFF0C;&#x88AB;&#x7528;&#x4E8E;&#x5728;&#x4E00;&#x7CFB;&#x5217;&#x957F;&#x5EA6;&#x503C;&#x4E2D;&#x5206;&#x914D;&#x5269;&#x4F59;&#x7A7A;&#x95F4;</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.grid</span> {</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">4</span>, <span class="number">25%</span>);</span><br><span class="line">  <span class="attribute">grid-column-gap</span>: <span class="number">10px</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x5E38;&#x5E38;&#x548C;repeat&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x7528;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repeat(number of columns/rows, the column width we want);</span><br></pre></td></tr></table></figure><h2 id="&#x6570;&#x5B57;"><a href="#&#x6570;&#x5B57;" class="headerlink" title="&#x6570;&#x5B57;"></a>&#x6570;&#x5B57;</h2><p>&#x5728;&#x5199;line-height&#x7684;&#x65F6;&#x5019;&#x76F4;&#x63A5;&#x5199;&#x6570;&#x5B57;&#xFF0C;&#x4EE3;&#x8868;&#x662F;&#x51E0;&#x500D;&#x7684;font-size</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;&amp;#x7269;&amp;#x7406;&amp;#x50CF;&amp;#x7D20;&amp;#xFF08;&amp;#x8BBE;&amp;#x5907;&amp;#x50CF;&amp;#x7D20;&amp;#xFF09;&quot;&gt;&lt;a href=&quot;#&amp;#x7269;&amp;#x7406;&amp;#x50CF;&amp;#x7D20;&amp;#xFF08;&amp;#x8BBE;&amp;#x5907;&amp;#x50CF;&amp;#x7D20;&amp;#xFF09;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7269;&amp;#x7406;&amp;#x50CF;&amp;#x7D20;&amp;#xFF08;&amp;#x8BBE;&amp;#x5907;&amp;#x50CF;&amp;#x7D20;&amp;#xFF09;&quot;&gt;&lt;/a&gt;&amp;#x7269;&amp;#x7406;&amp;#x50CF;&amp;#x7D20;&amp;#xFF08;&amp;#x8BBE;&amp;#x5907;&amp;#x50CF;&amp;#x7D20;&amp;#xFF09;&lt;/h2&gt;&lt;p&gt;&amp;#x8868;&amp;#x793A;&amp;#x7269;&amp;#x7406;&amp;#x8BBE;&amp;#x5907;&amp;#x4E2D;&amp;#x6700;&amp;#x5C0F;&amp;#x7684;&amp;#x70B9;&amp;#xFF0C; &amp;#x662F;&amp;#x7EDD;&amp;#x5BF9;&amp;#x5355;&amp;#x4F4D;&lt;/p&gt;
&lt;h2 id=&quot;px&quot;&gt;&lt;a href=&quot;#px&quot; class=&quot;headerlink&quot; title=&quot;px&quot;&gt;&lt;/a&gt;px&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&amp;#x76F8;&amp;#x5BF9;&amp;#x5355;&amp;#x4F4D;&lt;/li&gt;
&lt;li&gt;px / &amp;#x8BBE;&amp;#x5907;&amp;#x50CF;&amp;#x7D20; = dpr&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rem&quot;&gt;&lt;a href=&quot;#rem&quot; class=&quot;headerlink&quot; title=&quot;rem&quot;&gt;&lt;/a&gt;rem&lt;/h2&gt;&lt;p&gt;html&amp;#x4E2D;font-size&amp;#x7684;&amp;#x503C;&lt;/p&gt;
&lt;h2 id&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;%&quot;&gt;&lt;/a&gt;%&lt;/h2&gt;&lt;p&gt;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7236;&amp;#x5143;&amp;#x7D20;&lt;/p&gt;
&lt;h2 id=&quot;em&quot;&gt;&lt;a href=&quot;#em&quot; class=&quot;headerlink&quot; title=&quot;em&quot;&gt;&lt;/a&gt;em&lt;/h2&gt;&lt;p&gt;&amp;#x5F53;&amp;#x524D;&amp;#x5143;&amp;#x7D20;&amp;#x4E2D;font-size&amp;#x7684;&amp;#x503C;&amp;#x3002;&amp;#x5982;&amp;#x5F53;&amp;#x524D;&amp;#x5BF9;&amp;#x884C;&amp;#x5185;&amp;#x6587;&amp;#x672C;&amp;#x7684;&amp;#x5B57;&amp;#x4F53;&amp;#x5C3A;&amp;#x5BF8;&amp;#x672A;&amp;#x88AB;&amp;#x4EBA;&amp;#x4E3A;&amp;#x8BBE;&amp;#x7F6E;&amp;#xFF0C;&amp;#x5219;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6D4F;&amp;#x89C8;&amp;#x5668;&amp;#x7684;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B57;&amp;#x4F53;&amp;#x5C3A;&amp;#x5BF8;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;EM&amp;#x7279;&amp;#x70B9;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;em&amp;#x7684;&amp;#x503C;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x56FA;&amp;#x5B9A;&amp;#x7684;&amp;#xFF1B;&lt;/li&gt;
&lt;li&gt;em&amp;#x4F1A;&amp;#x7EE7;&amp;#x627F;&amp;#x7236;&amp;#x7EA7;&amp;#x5143;&amp;#x7D20;&amp;#x7684;&amp;#x5B57;&amp;#x4F53;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="js知识库" scheme="https://over58.github.io/categories/js%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>webpack的hash、chunkhash、contenthash</title>
    <link href="https://over58.github.io/2021/02/25/webpack%E7%9A%84hash%E3%80%81chunkhash%E3%80%81contenthash/"/>
    <id>https://over58.github.io/2021/02/25/webpack%E7%9A%84hash%E3%80%81chunkhash%E3%80%81contenthash/</id>
    <published>2021-02-25T15:22:13.000Z</published>
    <updated>2021-02-25T15:22:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x5BF9;&#x4E8E;webpack&#x7684;hash&#xFF0C;&#x5E38;&#x7528;&#x4E8E;cdn&#x7F13;&#x5B58;&#x3002;&#x6211;&#x7406;&#x89E3;&#x7684;&#x662F;&#x6587;&#x4EF6;&#x4E0D;&#x53D8;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6700;&#x540E;&#x6253;&#x5305;&#x51FA;&#x6765;&#x7684;hash&#x4E32;&#x4E5F;&#x4E0D;&#x4F1A;&#x53D8;&#x3002;&#x6700;&#x8FD1;&#x88AB;&#x95EE;&#x5230;&#x4E86;&#x8FD9;&#x662F;&#x4E09;&#x4E2A;hash&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5C31;&#x67E5;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x53D1;&#x73B0;&#x8FD8;&#x5F88;&#x6709;&#x8BB2;&#x7A76;&#x3002;</p><p>&#x5148;&#x770B;&#x4E00;&#x4E0B;&#x4E09;&#x4E2A;hash&#x7684;&#x89E3;&#x91CA;&#xFF1A;</p><ul><li>[hash] is a &#x201C;unique hash generated for every build&#x201D;  &#x6BCF;&#x6B21;build&#x90FD;&#x4F1A;&#x53D8;</li><li>[chunkhash] is &#x201C;based on each chunks&#x2019; content&#x201D;  &#x57FA;&#x4E8E;&#x6BCF;&#x4E2A;chunk&#x5185;&#x5BB9;&#x751F;&#x4EA7;&#x7684;hash&#x503C;&#xFF0C; &#x6BCF;&#x6B21;chunk&#x5185;&#x5BB9;&#x53D8;&#x4E86;&#xFF0C;chunk&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x54C8;&#x5E0C;&#x503C;&#x5C31;&#x90FD;&#x53D8;&#x4E86;</li><li>[contenthash] is &#x201C;generated for extracted content&#x201D;   &#x57FA;&#x4E8E;&#x5177;&#x4F53;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x751F;&#x6210;&#x6587;&#x4EF6;&#x81EA;&#x5DF1;&#x7684;hash</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;webpack&amp;#x7684;hash&amp;#xFF0C;&amp;#x5E38;&amp;#x7528;&amp;#x4E8E;cdn&amp;#x7F13;&amp;#x5B58;&amp;#x3002;&amp;#x6211;&amp;#x7406;&amp;#x89E3;&amp;#x7684;&amp;#x662F;&amp;#x
      
    
    </summary>
    
    
      <category term="webpack" scheme="https://over58.github.io/categories/webpack/"/>
    
    
  </entry>
  
  <entry>
    <title>批量发送请求batchRequest</title>
    <link href="https://over58.github.io/2021/02/24/%E6%89%B9%E9%87%8F%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82batchRequest/"/>
    <id>https://over58.github.io/2021/02/24/%E6%89%B9%E9%87%8F%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82batchRequest/</id>
    <published>2021-02-24T15:58:32.000Z</published>
    <updated>2021-02-24T15:58:32.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BatchRequest</span> </span>{</span><br><span class="line">    <span class="keyword">constructor</span>(max = 3) {</span><br><span class="line">        <span class="keyword">this</span>.queue = [];</span><br><span class="line">        <span class="keyword">this</span>.max = max</span><br><span class="line">    }</span><br><span class="line">    addRequest(fn) {</span><br><span class="line">        <span class="keyword">this</span>.queue.push(fn)</span><br><span class="line">    }</span><br><span class="line">    run() {</span><br><span class="line">        <span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.queue.length) {</span><br><span class="line">            timer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">                <span class="built_in">Array</span>.from({ <span class="attr">length</span>: <span class="built_in">Math</span>.max(<span class="number">0</span>, <span class="keyword">this</span>.max - count) }).forEach(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">                    <span class="keyword">let</span> fn = <span class="keyword">this</span>.queue.shift()</span><br><span class="line">                    <span class="keyword">if</span> (fn) {</span><br><span class="line">                        count++</span><br><span class="line">                        <span class="built_in">console</span>.log(<span class="string">&apos;&#x6267;&#x884C;&apos;</span>)</span><br><span class="line">                        fn().then(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">                            <span class="built_in">console</span>.log(<span class="string">&apos;over&apos;</span>)</span><br><span class="line">                            count--</span><br><span class="line">                        })</span><br><span class="line">                    }</span><br><span class="line">                })</span><br><span class="line">            })</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            clearInterval(timer)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> BatchRequest()</span><br><span class="line">a.addRequest(fn)</span><br><span class="line">a.addRequest(fn)</span><br><span class="line">a.addRequest(fn)</span><br><span class="line">a.addRequest(fn)</span><br><span class="line">a.addRequest(fn)</span><br><span class="line"></span><br><span class="line">a.run()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l
      
    
    </summary>
    
    
      <category term="js知识库" scheme="https://over58.github.io/categories/js%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>能不能实现图片懒加载？</title>
    <link href="https://over58.github.io/2021/02/24/%E8%83%BD%E4%B8%8D%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%EF%BC%9F/"/>
    <id>https://over58.github.io/2021/02/24/%E8%83%BD%E4%B8%8D%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%EF%BC%9F/</id>
    <published>2021-02-24T12:28:52.000Z</published>
    <updated>2021-02-24T12:28:52.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x65B9;&#x6848;&#x4E00;-clientHeight&#x3001;scrollTop-&#x548C;-offsetTop"><a href="#&#x65B9;&#x6848;&#x4E00;-clientHeight&#x3001;scrollTop-&#x548C;-offsetTop" class="headerlink" title="&#x65B9;&#x6848;&#x4E00;:clientHeight&#x3001;scrollTop &#x548C; offsetTop"></a>&#x65B9;&#x6848;&#x4E00;:clientHeight&#x3001;scrollTop &#x548C; offsetTop</h2><p>&#x9996;&#x5148;&#x7ED9;&#x56FE;&#x7247;&#x4E00;&#x4E2A;&#x5360;&#x4F4D;&#x8D44;&#x6E90;:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">&quot;default.jpg&quot;</span> data-src=<span class="string">&quot;http://www.xxx.com/target.jpg&quot;</span> /&gt;</span><br><span class="line">&#x63A5;&#x7740;&#xFF0C;&#x901A;&#x8FC7;&#x76D1;&#x542C; scroll &#x4E8B;&#x4EF6;&#x6765;&#x5224;&#x65AD;&#x56FE;&#x7247;&#x662F;&#x5426;&#x5230;&#x8FBE;&#x89C6;&#x53E3;:</span><br><span class="line"><span class="keyword">let</span> img = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;img&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> num = img.length;</span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;<span class="comment">//&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x4ECE;&#x7B2C;&#x4E00;&#x5F20;&#x56FE;&#x7247;&#x5F00;&#x59CB;&#x8BA1;</span></span><br><span class="line"></span><br><span class="line">lazyload();<span class="comment">//&#x9996;&#x6B21;&#x52A0;&#x8F7D;&#x522B;&#x5FD8;&#x4E86;&#x663E;&#x793A;&#x56FE;&#x7247;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&apos;scroll&apos;</span>, lazyload);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lazyload</span>(<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">let</span> viewHeight = <span class="built_in">document</span>.documentElement.clientHeight;<span class="comment">//&#x89C6;&#x53E3;&#x9AD8;&#x5EA6;</span></span><br><span class="line">  <span class="keyword">let</span> scrollTop = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;<span class="comment">//&#x6EDA;&#x52A8;&#x6761;&#x5377;&#x53BB;&#x7684;&#x9AD8;&#x5EA6;</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = count; i &lt;num; i++) {</span><br><span class="line">    <span class="comment">// &#x5143;&#x7D20;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x51FA;&#x73B0;&#x5728;&#x89C6;&#x53E3;&#x4E2D;</span></span><br><span class="line">    <span class="keyword">if</span>(img[i].offsetTop &lt; scrollHeight + viewHeight) {</span><br><span class="line">      <span class="keyword">if</span>(img[i].getAttribute(<span class="string">&quot;src&quot;</span>) !== <span class="string">&quot;default.jpg&quot;</span>) <span class="keyword">continue</span>;</span><br><span class="line">      img[i].src = img[i].getAttribute(<span class="string">&quot;data-src&quot;</span>);</span><br><span class="line">      count ++;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x5F53;&#x7136;&#xFF0C;&#x6700;&#x597D;&#x5BF9; scroll &#x4E8B;&#x4EF6;&#x505A;&#x8282;&#x6D41;&#x5904;&#x7406;&#xFF0C;&#x4EE5;&#x514D;&#x9891;&#x7E41;&#x89E6;&#x53D1;:</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// throttle&#x51FD;&#x6570;&#x6211;&#x4EEC;&#x4E0A;&#x8282;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;</span></span><br><span class="line">window.add<span class="constructor">EventListener(&apos;<span class="params">scroll</span>&apos;, <span class="params">throttle</span>(<span class="params">lazyload</span>, 200)</span>);</span><br></pre></td></tr></table></figure><h2 id="&#x65B9;&#x6848;&#x4E8C;&#xFF1A;getBoundingClientRect"><a href="#&#x65B9;&#x6848;&#x4E8C;&#xFF1A;getBoundingClientRect" class="headerlink" title="&#x65B9;&#x6848;&#x4E8C;&#xFF1A;getBoundingClientRect"></a>&#x65B9;&#x6848;&#x4E8C;&#xFF1A;getBoundingClientRect</h2><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x7528;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x5224;&#x65AD;&#x56FE;&#x7247;&#x662F;&#x5426;&#x51FA;&#x73B0;&#x5728;&#x4E86;&#x5F53;&#x524D;&#x89C6;&#x53E3;, &#x5373; DOM &#x5143;&#x7D20;&#x7684; getBoundingClientRect API&#x3002;<br>&#x4E0A;&#x8FF0;&#x7684; lazyload &#x51FD;&#x6570;&#x6539;&#x6210;&#x4E0B;&#x9762;&#x8FD9;&#x6837;:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lazyload</span>(<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = count; i &lt;num; i++) {</span><br><span class="line">    <span class="comment">// &#x5143;&#x7D20;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x51FA;&#x73B0;&#x5728;&#x89C6;&#x53E3;&#x4E2D;</span></span><br><span class="line">    <span class="keyword">if</span>(img[i].getBoundingClientRect().top &lt; <span class="built_in">document</span>.documentElement.clientHeight) {</span><br><span class="line">      <span class="keyword">if</span>(img[i].getAttribute(<span class="string">&quot;src&quot;</span>) !== <span class="string">&quot;default.jpg&quot;</span>) <span class="keyword">continue</span>;</span><br><span class="line">      img[i].src = img[i].getAttribute(<span class="string">&quot;data-src&quot;</span>);</span><br><span class="line">      count ++;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="&#x65B9;&#x6848;&#x4E09;-IntersectionObserver"><a href="#&#x65B9;&#x6848;&#x4E09;-IntersectionObserver" class="headerlink" title="&#x65B9;&#x6848;&#x4E09;: IntersectionObserver"></a>&#x65B9;&#x6848;&#x4E09;: IntersectionObserver</h2><p>&#x8FD9;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x7F6E;&#x7684;&#x4E00;&#x4E2A;API&#xFF0C;&#x5B9E;&#x73B0;&#x4E86;&#x76D1;&#x542C;window&#x7684;scroll&#x4E8B;&#x4EF6;&#x3001;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5728;&#x89C6;&#x53E3;&#x4E2D;&#x4EE5;&#x53CA;&#x8282;&#x6D41;&#x4E09;&#x5927;&#x529F;&#x80FD;&#x3002;<br>&#x6211;&#x4EEC;&#x6765;&#x5177;&#x4F53;&#x8BD5;&#x4E00;&#x628A;&#xFF1A;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> img = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;img&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> observer = <span class="keyword">new</span> IntersectionObserver(<span class="function"><span class="params">changes</span> =&gt;</span> {</span><br><span class="line">  <span class="comment">//changes &#x662F;&#x88AB;&#x89C2;&#x5BDF;&#x7684;&#x5143;&#x7D20;&#x96C6;&#x5408;</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>, len = changes.length; i &lt; len; i++) {</span><br><span class="line">    <span class="keyword">let</span> change = changes[i];</span><br><span class="line">    <span class="comment">// &#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5728;&#x89C6;&#x53E3;&#x4E2D;</span></span><br><span class="line">    <span class="keyword">if</span>(change.isIntersecting) {</span><br><span class="line">      <span class="keyword">const</span> imgElement = change.target;</span><br><span class="line">      imgElement.src = imgElement.getAttribute(<span class="string">&quot;data-src&quot;</span>);</span><br><span class="line">      observer.unobserve(imgElement);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br><span class="line">observer.observe(img);</span><br></pre></td></tr></table></figure><p>&#x8FD9;&#x6837;&#x5C31;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x5B9E;&#x73B0;&#x4E86;&#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x4E2A;IntersectionObserver&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4F5C;&#x5176;&#x4ED6;&#x8D44;&#x6E90;&#x7684;&#x9884;&#x52A0;&#x8F7D;&#xFF0C;&#x529F;&#x80FD;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#x3002;</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x65B9;&amp;#x6848;&amp;#x4E00;-clientHeight&amp;#x3001;scrollTop-&amp;#x548C;-offsetTop&quot;&gt;&lt;a href=&quot;#&amp;#x65B9;&amp;#x6848;&amp;#x4E00;-clientHeight&amp;#x3001;sc
      
    
    </summary>
    
    
      <category term="js知识库" scheme="https://over58.github.io/categories/js%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>HTTPS为什么让数据传输更安全</title>
    <link href="https://over58.github.io/2021/02/24/HTTPS%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AE%A9%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%9B%B4%E5%AE%89%E5%85%A8/"/>
    <id>https://over58.github.io/2021/02/24/HTTPS%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AE%A9%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%9B%B4%E5%AE%89%E5%85%A8/</id>
    <published>2021-02-24T12:27:20.000Z</published>
    <updated>2021-02-24T12:27:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8C08;&#x5230;<code>HTTPS</code>, &#x5C31;&#x4E0D;&#x5F97;&#x4E0D;&#x8C08;&#x5230;&#x4E0E;&#x4E4B;&#x76F8;&#x5BF9;&#x7684;<code>HTTP</code>&#x3002;<code>HTTP</code>&#x7684;&#x7279;&#x6027;&#x662F;&#x660E;&#x6587;&#x4F20;&#x8F93;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x4F20;&#x8F93;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x73AF;&#x8282;&#xFF0C;&#x6570;&#x636E;&#x90FD;&#x6709;&#x53EF;&#x80FD;&#x88AB;&#x7B2C;&#x4E09;&#x65B9;&#x7A83;&#x53D6;&#x6216;&#x8005;&#x7BE1;&#x6539;&#xFF0C;&#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;HTTP &#x6570;&#x636E;&#x7ECF;&#x8FC7; TCP &#x5C42;&#xFF0C;&#x7136;&#x540E;&#x7ECF;&#x8FC7;<code>WIFI&#x8DEF;&#x7531;&#x5668;</code>&#x3001;<code>&#x8FD0;&#x8425;&#x5546;</code>&#x548C;<code>&#x76EE;&#x6807;&#x670D;&#x52A1;&#x5668;</code>&#xFF0C;&#x8FD9;&#x4E9B;&#x73AF;&#x8282;&#x4E2D;&#x90FD;&#x53EF;&#x80FD;&#x88AB;&#x4E2D;&#x95F4;&#x4EBA;&#x62FF;&#x5230;&#x6570;&#x636E;&#x5E76;&#x8FDB;&#x884C;&#x7BE1;&#x6539;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x8BF4;&#x7684;<strong>&#x4E2D;&#x95F4;&#x4EBA;&#x653B;&#x51FB;</strong>&#x3002;</p><p>&#x4E3A;&#x4E86;&#x9632;&#x8303;&#x8FD9;&#x6837;&#x4E00;&#x7C7B;&#x653B;&#x51FB;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x5F97;&#x5DF2;&#x8981;&#x5F15;&#x5165;&#x65B0;&#x7684;&#x52A0;&#x5BC6;&#x65B9;&#x6848;&#xFF0C;&#x5373; HTTPS&#x3002;</p><p><code>HTTPS</code>&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x534F;&#x8BAE;, &#x800C;&#x662F;&#x4E00;&#x4E2A;&#x52A0;&#x5F3A;&#x7248;&#x7684;<code>HTTP</code>&#x3002;&#x5176;&#x539F;&#x7406;&#x662F;&#x5728;<code>HTTP</code>&#x548C;<code>TCP</code>&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x4E86;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x5C42;&#xFF0C;&#x5F53;<code>HTTP</code>&#x548C;<code>TCP</code>&#x901A;&#x4FE1;&#x65F6;&#x5E76;&#x4E0D;&#x662F;&#x50CF;&#x4EE5;&#x524D;&#x90A3;&#x6837;&#x76F4;&#x63A5;&#x901A;&#x4FE1;&#xFF0C;&#x76F4;&#x63A5;&#x7ECF;&#x8FC7;&#x4E86;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x5C42;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#xFF0C;&#x5C06;&#x52A0;&#x5BC6;&#x540E;&#x7684;&#x6570;&#x636E;&#x5305;&#x4F20;&#x7ED9;<code>TCP</code>, &#x54CD;&#x5E94;&#x7684;&#xFF0C;<code>TCP</code>&#x5FC5;&#x987B;&#x5C06;&#x6570;&#x636E;&#x5305;&#x89E3;&#x5BC6;&#xFF0C;&#x624D;&#x80FD;&#x4F20;&#x7ED9;&#x4E0A;&#x9762;&#x7684;<code>HTTP</code>&#x3002;&#x8FD9;&#x4E2A;&#x4E2D;&#x95F4;&#x5C42;&#x4E5F;&#x53EB;<code>&#x5B89;&#x5168;&#x5C42;</code>&#x3002;<code>&#x5B89;&#x5168;&#x5C42;</code>&#x7684;&#x6838;&#x5FC3;&#x5C31;&#x662F;&#x5BF9;&#x6570;&#x636E;<code>&#x52A0;&#x89E3;&#x5BC6;</code>&#x3002;</p><p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x5256;&#x6790;&#x4E00;&#x4E0B;<code>HTTPS</code>&#x7684;&#x52A0;&#x89E3;&#x5BC6;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;&#x3002;</p><h3 id="&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x548C;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;"><a href="#&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x548C;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;" class="headerlink" title="&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x548C;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;"></a>&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x548C;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</h3><h4 id="&#x6982;&#x5FF5;"><a href="#&#x6982;&#x5FF5;" class="headerlink" title="&#x6982;&#x5FF5;"></a>&#x6982;&#x5FF5;</h4><p>&#x9996;&#x5148;&#x9700;&#x8981;&#x7406;&#x89E3;<code>&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</code>&#x548C;<code>&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</code>&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x7136;&#x540E;&#x8BA8;&#x8BBA;&#x4E24;&#x8005;&#x5E94;&#x7528;&#x540E;&#x7684;&#x6548;&#x679C;&#x5982;&#x4F55;&#x3002;</p><p><code>&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</code>&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x6307;&#x7684;&#x662F;<code>&#x52A0;&#x5BC6;</code>&#x548C;<code>&#x89E3;&#x5BC6;</code>&#x7528;&#x7684;&#x662F;<strong>&#x540C;&#x6837;&#x7684;&#x5BC6;&#x94A5;</strong>&#x3002;</p><p>&#x800C;&#x5BF9;&#x4E8E;<code>&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</code>&#xFF0C;&#x5982;&#x679C;&#x6709; A&#x3001; B &#x4E24;&#x628A;&#x5BC6;&#x94A5;&#xFF0C;&#x5982;&#x679C;&#x7528; A &#x52A0;&#x5BC6;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x5305;&#x53EA;&#x80FD;&#x7528; B &#x89E3;&#x5BC6;&#xFF0C;&#x53CD;&#x4E4B;&#xFF0C;&#x5982;&#x679C;&#x7528; B &#x52A0;&#x5BC6;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x5305;&#x53EA;&#x80FD;&#x7528; A &#x89E3;&#x5BC6;&#x3002;</p><h4 id="&#x52A0;&#x89E3;&#x5BC6;&#x8FC7;&#x7A0B;"><a href="#&#x52A0;&#x89E3;&#x5BC6;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x52A0;&#x89E3;&#x5BC6;&#x8FC7;&#x7A0B;"></a>&#x52A0;&#x89E3;&#x5BC6;&#x8FC7;&#x7A0B;</h4><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6765;&#x8C08;&#x8C08;<code>&#x6D4F;&#x89C8;&#x5668;</code>&#x548C;<code>&#x670D;&#x52A1;&#x5668;</code>&#x8FDB;&#x884C;&#x534F;&#x5546;&#x52A0;&#x89E3;&#x5BC6;&#x7684;&#x8FC7;&#x7A0B;&#x3002;</p><p>&#x9996;&#x5148;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x6570;<code>client_random</code>&#x548C;&#x4E00;&#x4E2A;&#x52A0;&#x5BC6;&#x7684;&#x65B9;&#x6CD5;&#x5217;&#x8868;&#x3002;</p><p>&#x670D;&#x52A1;&#x5668;&#x63A5;&#x6536;&#x540E;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x8FD4;&#x56DE;&#x53E6;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x6570;<code>server_random</code>&#x548C;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x3002;</p><p>&#x73B0;&#x5728;&#xFF0C;&#x4E24;&#x8005;&#x62E5;&#x6709;&#x4E09;&#x6837;&#x76F8;&#x540C;&#x7684;&#x51ED;&#x8BC1;: <code>client_random</code>&#x3001;<code>server_random</code>&#x548C;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x3002;</p><p>&#x63A5;&#x7740;&#x7528;&#x8FD9;&#x4E2A;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x5C06;&#x4E24;&#x4E2A;&#x968F;&#x673A;&#x6570;&#x6DF7;&#x5408;&#x8D77;&#x6765;&#x751F;&#x6210;&#x5BC6;&#x94A5;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BC6;&#x94A5;&#x5C31;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x901A;&#x4FE1;&#x7684;<code>&#x6697;&#x53F7;</code>&#x3002;</p><h4 id="&#x5404;&#x81EA;&#x5E94;&#x7528;&#x7684;&#x6548;&#x679C;"><a href="#&#x5404;&#x81EA;&#x5E94;&#x7528;&#x7684;&#x6548;&#x679C;" class="headerlink" title="&#x5404;&#x81EA;&#x5E94;&#x7528;&#x7684;&#x6548;&#x679C;"></a>&#x5404;&#x81EA;&#x5E94;&#x7528;&#x7684;&#x6548;&#x679C;</h4><p>&#x5982;&#x679C;&#x7528;<code>&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</code>&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x90A3;&#x4E48;&#x7B2C;&#x4E09;&#x65B9;&#x53EF;&#x4EE5;&#x5728;&#x4E2D;&#x95F4;&#x83B7;&#x53D6;&#x5230;<code>client_random</code>&#x3001;<code>server_random</code>&#x548C;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#xFF0C;&#x7531;&#x4E8E;&#x8FD9;&#x4E2A;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x540C;&#x65F6;&#x53EF;&#x4EE5;&#x89E3;&#x5BC6;&#xFF0C;&#x6240;&#x4EE5;&#x4E2D;&#x95F4;&#x4EBA;&#x53EF;&#x4EE5;&#x6210;&#x529F;&#x5BF9;&#x6697;&#x53F7;&#x8FDB;&#x884C;&#x89E3;&#x5BC6;&#xFF0C;&#x62FF;&#x5230;&#x6570;&#x636E;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x5C31;&#x5C06;&#x8FD9;&#x79CD;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;&#x7834;&#x89E3;&#x4E86;&#x3002;</p><p>&#x65E2;&#x7136;<code>&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</code>&#x8FD9;&#x4E48;&#x4E0D;&#x582A;&#x4E00;&#x51FB;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x8BD5;&#x4E00;&#x8BD5;<code>&#x975E;&#x5BF9;&#x79F0;</code>&#x52A0;&#x5BC6;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;&#x4E2D;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x624B;&#x91CC;&#x6709;&#x4E24;&#x628A;&#x94A5;&#x5319;&#xFF0C;&#x4E00;&#x628A;&#x662F;<code>&#x516C;&#x94A5;</code>&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6BCF;&#x4E2A;&#x4EBA;&#x90FD;&#x80FD;&#x62FF;&#x5230;&#xFF0C;&#x662F;&#x516C;&#x5F00;&#x7684;&#xFF0C;&#x53E6;&#x4E00;&#x628A;&#x662F;<code>&#x79C1;&#x94A5;</code>&#xFF0C;&#x8FD9;&#x628A;&#x79C1;&#x94A5;&#x53EA;&#x6709;&#x670D;&#x52A1;&#x5668;&#x81EA;&#x5DF1;&#x77E5;&#x9053;&#x3002;</p><p>&#x597D;&#xFF0C;&#x73B0;&#x5728;&#x5F00;&#x59CB;&#x4F20;&#x8F93;&#x3002;</p><p>&#x6D4F;&#x89C8;&#x5668;&#x628A;<code>client_random</code>&#x548C;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x5217;&#x8868;&#x4F20;&#x8FC7;&#x6765;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x63A5;&#x6536;&#x5230;&#xFF0C;&#x628A;<code>server_random</code>&#x3001;<code>&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;</code>&#x548C;<code>&#x516C;&#x94A5;</code>&#x4F20;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x3002;</p><p>&#x73B0;&#x5728;&#x4E24;&#x8005;&#x62E5;&#x6709;&#x76F8;&#x540C;&#x7684;<code>client_random</code>&#x3001;<code>server_random</code>&#x548C;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x3002;&#x7136;&#x540E;&#x6D4F;&#x89C8;&#x5668;&#x7528;&#x516C;&#x94A5;&#x5C06;<code>client_random</code>&#x548C;<code>server_random</code>&#x52A0;&#x5BC6;&#xFF0C;&#x751F;&#x6210;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x901A;&#x4FE1;&#x7684;<code>&#x6697;&#x53F7;</code>&#x3002;</p><p>&#x8FD9;&#x65F6;&#x5019;&#x7531;&#x4E8E;&#x662F;<strong>&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</strong>&#xFF0C;&#x516C;&#x94A5;&#x52A0;&#x5BC6;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x53EA;&#x80FD;&#x7528;<code>&#x79C1;&#x94A5;</code>&#x89E3;&#x5BC6;&#xFF0C;&#x56E0;&#x6B64;&#x4E2D;&#x95F4;&#x4EBA;&#x5C31;&#x7B97;&#x62FF;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x4F20;&#x6765;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7531;&#x4E8E;&#x4ED6;&#x6CA1;&#x6709;&#x79C1;&#x94A5;&#xFF0C;&#x7167;&#x6837;&#x65E0;&#x6CD5;&#x89E3;&#x5BC6;&#xFF0C;&#x4FDD;&#x8BC1;&#x4E86;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002;</p><p>&#x8FD9;&#x96BE;&#x9053;&#x4E00;&#x5B9A;&#x5C31;&#x5B89;&#x5168;&#x5417;&#xFF1F;&#x806A;&#x660E;&#x7684;&#x5C0F;&#x4F19;&#x4F34;&#x65E9;&#x5C31;&#x53D1;&#x73B0;&#x4E86;&#x7AEF;&#x502A;&#x3002;&#x56DE;&#x5230;<code>&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</code>&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x516C;&#x94A5;&#x52A0;&#x5BC6;&#x7684;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x7528;&#x79C1;&#x94A5;&#x89E3;&#x5BC6;&#xFF0C;&#x90A3;&#x79C1;&#x94A5;&#x52A0;&#x5BC6;&#x7684;&#x6570;&#x636E;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x516C;&#x94A5;&#x89E3;&#x5BC6;&#x5440;&#xFF01;</p><p>&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x53EA;&#x80FD;&#x7528;&#x79C1;&#x94A5;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;(&#x56E0;&#x4E3A;&#x5982;&#x679C;&#x5B83;&#x7528;&#x516C;&#x94A5;&#x90A3;&#x4E48;&#x6D4F;&#x89C8;&#x5668;&#x4E5F;&#x6CA1;&#x6CD5;&#x89E3;&#x5BC6;&#x5566;)&#xFF0C;&#x4E2D;&#x95F4;&#x4EBA;&#x4E00;&#x65E6;&#x62FF;&#x5230;&#x516C;&#x94A5;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x670D;&#x52A1;&#x7AEF;&#x4F20;&#x6765;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x89E3;&#x5BC6;&#x4E86;&#xFF0C;&#x5C31;&#x8FD9;&#x6837;&#x53C8;&#x88AB;&#x7834;&#x89E3;&#x4E86;&#x3002;&#x800C;&#x4E14;&#xFF0C;&#x53EA;&#x662F;&#x91C7;&#x7528;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#xFF0C;&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x7684;&#x6D88;&#x8017;&#x4E5F;&#x662F;&#x76F8;&#x5F53;&#x5DE8;&#x5927;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x6682;&#x4E14;&#x4E0D;&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x3002;</p><h3 id="&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x548C;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7684;&#x7ED3;&#x5408;"><a href="#&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x548C;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7684;&#x7ED3;&#x5408;" class="headerlink" title="&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x548C;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7684;&#x7ED3;&#x5408;"></a>&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x548C;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7684;&#x7ED3;&#x5408;</h3><p>&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x548C;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#xFF0C;&#x5355;&#x72EC;&#x5E94;&#x7528;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#xFF0C;&#x90FD;&#x4F1A;&#x5B58;&#x5728;&#x5B89;&#x5168;&#x9690;&#x60A3;&#x3002;&#x90A3;&#x6211;&#x4EEC;&#x80FD;&#x4E0D;&#x80FD;&#x628A;&#x4E24;&#x8005;&#x7ED3;&#x5408;&#xFF0C;&#x8FDB;&#x4E00;&#x6B65;&#x4FDD;&#x8BC1;&#x5B89;&#x5168;&#x5462;&#xFF1F;</p><p>&#x5176;&#x5B9E;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x6F14;&#x793A;&#x4E00;&#x4E0B;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#xFF1A;</p><ol><li>&#x6D4F;&#x89C8;&#x5668;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;<code>client_random</code>&#x548C;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x5217;&#x8868;&#x3002;</li><li>&#x670D;&#x52A1;&#x5668;&#x63A5;&#x6536;&#x5230;&#xFF0C;&#x8FD4;&#x56DE;<code>server_random</code>&#x3001;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x4EE5;&#x53CA;&#x516C;&#x94A5;&#x3002;</li><li>&#x6D4F;&#x89C8;&#x5668;&#x63A5;&#x6536;&#xFF0C;&#x63A5;&#x7740;&#x751F;&#x6210;&#x53E6;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x6570;<code>pre_random</code>, &#x5E76;&#x4E14;&#x7528;&#x516C;&#x94A5;&#x52A0;&#x5BC6;&#xFF0C;&#x4F20;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#x3002;(&#x6572;&#x9ED1;&#x677F;&#xFF01;&#x91CD;&#x70B9;&#x64CD;&#x4F5C;&#xFF01;)</li><li>&#x670D;&#x52A1;&#x5668;&#x7528;&#x79C1;&#x94A5;&#x89E3;&#x5BC6;&#x8FD9;&#x4E2A;&#x88AB;&#x52A0;&#x5BC6;&#x540E;&#x7684;<code>pre_random</code>&#x3002;</li></ol><p>&#x73B0;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x548C;&#x670D;&#x52A1;&#x5668;&#x6709;&#x4E09;&#x6837;&#x76F8;&#x540C;&#x7684;&#x51ED;&#x8BC1;:<code>client_random</code>&#x3001;<code>server_random</code>&#x548C;<code>pre_random</code>&#x3002;&#x7136;&#x540E;&#x4E24;&#x8005;&#x7528;&#x76F8;&#x540C;&#x7684;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x6DF7;&#x5408;&#x8FD9;&#x4E09;&#x4E2A;&#x968F;&#x673A;&#x6570;&#xFF0C;&#x751F;&#x6210;&#x6700;&#x7EC8;&#x7684;<code>&#x5BC6;&#x94A5;</code>&#x3002;</p><p>&#x7136;&#x540E;&#x6D4F;&#x89C8;&#x5668;&#x548C;&#x670D;&#x52A1;&#x5668;&#x5C3D;&#x7BA1;&#x7528;&#x4E00;&#x6837;&#x7684;&#x5BC6;&#x94A5;&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#xFF0C;&#x5373;&#x4F7F;&#x7528;<code>&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</code>&#x3002;</p><p>&#x8FD9;&#x4E2A;&#x6700;&#x7EC8;&#x7684;&#x5BC6;&#x94A5;&#x662F;&#x5F88;&#x96BE;&#x88AB;&#x4E2D;&#x95F4;&#x4EBA;&#x62FF;&#x5230;&#x7684;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;? &#x56E0;&#x4E3A;&#x4E2D;&#x95F4;&#x4EBA;&#x6CA1;&#x6709;&#x79C1;&#x94A5;&#xFF0C;&#x4ECE;&#x800C;<strong>&#x62FF;&#x4E0D;&#x5230;pre_random</strong>&#xFF0C;&#x4E5F;&#x5C31;&#x65E0;&#x6CD5;&#x751F;&#x6210;&#x6700;&#x7EC8;&#x7684;&#x5BC6;&#x94A5;&#x4E86;&#x3002;</p><p>&#x56DE;&#x5934;&#x6BD4;&#x8F83;&#x4E00;&#x4E0B;&#x548C;&#x5355;&#x7EAF;&#x7684;&#x4F7F;&#x7528;<strong>&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</strong>, &#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x505A;&#x4E86;&#x4EC0;&#x4E48;&#x6539;&#x8FDB;&#x5462;&#xFF1F;&#x672C;&#x8D28;&#x4E0A;&#x662F;<strong>&#x9632;&#x6B62;&#x4E86;&#x79C1;&#x94A5;&#x52A0;&#x5BC6;&#x7684;&#x6570;&#x636E;&#x5916;&#x4F20;</strong>&#x3002;&#x5355;&#x72EC;&#x4F7F;&#x7528;<strong>&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</strong>&#xFF0C;&#x6700;&#x5927;&#x7684;&#x6F0F;&#x6D1E;&#x5728;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x4F20;&#x6570;&#x636E;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x53EA;&#x80FD;&#x7528;<code>&#x79C1;&#x94A5;</code>&#x52A0;&#x5BC6;&#xFF0C;&#x8FD9;&#x662F;&#x5371;&#x9669;&#x4EA7;&#x751F;&#x7684;&#x6839;&#x6E90;&#x3002;&#x5229;&#x7528;<code>&#x5BF9;&#x79F0;&#x548C;&#x975E;&#x5BF9;&#x79F0;</code>&#x52A0;&#x5BC6;&#x7ED3;&#x5408;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5C31;&#x9632;&#x6B62;&#x4E86;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x8BC1;&#x4E86;&#x5B89;&#x5168;&#x3002;</p><h3 id="&#x6DFB;&#x52A0;&#x6570;&#x5B57;&#x8BC1;&#x4E66;"><a href="#&#x6DFB;&#x52A0;&#x6570;&#x5B57;&#x8BC1;&#x4E66;" class="headerlink" title="&#x6DFB;&#x52A0;&#x6570;&#x5B57;&#x8BC1;&#x4E66;"></a>&#x6DFB;&#x52A0;&#x6570;&#x5B57;&#x8BC1;&#x4E66;</h3><p>&#x5C3D;&#x7BA1;&#x901A;&#x8FC7;&#x4E24;&#x8005;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;&#x7684;&#x7ED3;&#x5408;&#xFF0C;&#x80FD;&#x591F;&#x5F88;&#x597D;&#x5730;&#x5B9E;&#x73B0;&#x52A0;&#x5BC6;&#x4F20;&#x8F93;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x8FD8;&#x662F;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x3002;&#x9ED1;&#x5BA2;&#x5982;&#x679C;&#x91C7;&#x7528; DNS &#x52AB;&#x6301;&#xFF0C;&#x5C06;&#x76EE;&#x6807;&#x5730;&#x5740;&#x66FF;&#x6362;&#x6210;&#x9ED1;&#x5BA2;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x7136;&#x540E;&#x9ED1;&#x5BA2;&#x81EA;&#x5DF1;&#x9020;&#x4E00;&#x4EFD;&#x516C;&#x94A5;&#x548C;&#x79C1;&#x94A5;&#xFF0C;&#x7167;&#x6837;&#x80FD;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x3002;&#x800C;&#x5BF9;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x7528;&#x6237;&#x800C;&#x8A00;&#xFF0C;&#x4ED6;&#x662F;&#x4E0D;&#x77E5;&#x9053;&#x81EA;&#x5DF1;&#x6B63;&#x5728;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x5371;&#x9669;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x3002;</p><p>&#x4E8B;&#x5B9E;&#x4E0A;<code>HTTPS</code>&#x5728;&#x4E0A;&#x8FF0;<code>&#x7ED3;&#x5408;&#x5BF9;&#x79F0;&#x548C;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</code>&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x53C8;&#x6DFB;&#x52A0;&#x4E86;<code>&#x6570;&#x5B57;&#x8BC1;&#x4E66;&#x8BA4;&#x8BC1;</code>&#x7684;&#x6B65;&#x9AA4;&#x3002;&#x5176;&#x76EE;&#x7684;&#x5C31;&#x662F;&#x8BA9;&#x670D;&#x52A1;&#x5668;&#x8BC1;&#x660E;&#x81EA;&#x5DF1;&#x7684;&#x8EAB;&#x4EFD;&#x3002;</p><h4 id="&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;"><a href="#&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;"></a>&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;</h4><p>&#x4E3A;&#x4E86;&#x83B7;&#x53D6;&#x8FD9;&#x4E2A;&#x8BC1;&#x4E66;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x8FD0;&#x8425;&#x8005;&#x9700;&#x8981;&#x5411;&#x7B2C;&#x4E09;&#x65B9;&#x8BA4;&#x8BC1;&#x673A;&#x6784;&#x83B7;&#x53D6;&#x6388;&#x6743;&#xFF0C;&#x8FD9;&#x4E2A;&#x7B2C;&#x4E09;&#x65B9;&#x673A;&#x6784;&#x4E5F;&#x53EB;<code>CA</code>(<code>Certificate Authority</code>), &#x8BA4;&#x8BC1;&#x901A;&#x8FC7;&#x540E; CA &#x4F1A;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#x9881;&#x53D1;<strong>&#x6570;&#x5B57;&#x8BC1;&#x4E66;</strong>&#x3002;</p><p>&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x8BC1;&#x4E66;&#x6709;&#x4E24;&#x4E2A;&#x4F5C;&#x7528;:</p><ol><li>&#x670D;&#x52A1;&#x5668;&#x5411;&#x6D4F;&#x89C8;&#x5668;&#x8BC1;&#x660E;&#x81EA;&#x5DF1;&#x7684;&#x8EAB;&#x4EFD;&#x3002;</li><li>&#x628A;&#x516C;&#x94A5;&#x4F20;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x3002;</li></ol><p>&#x8FD9;&#x4E2A;&#x9A8C;&#x8BC1;&#x7684;&#x8FC7;&#x7A0B;&#x53D1;&#x751F;&#x5728;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x5462;&#xFF1F;</p><p>&#x5F53;&#x670D;&#x52A1;&#x5668;&#x4F20;&#x9001;<code>server_random</code>&#x3001;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x987A;&#x4FBF;&#x4F1A;&#x5E26;&#x4E0A;<code>&#x6570;&#x5B57;&#x8BC1;&#x4E66;</code>(&#x5305;&#x542B;&#x4E86;<code>&#x516C;&#x94A5;</code>), &#x63A5;&#x7740;&#x6D4F;&#x89C8;&#x5668;&#x63A5;&#x6536;&#x4E4B;&#x540E;&#x5C31;&#x4F1A;&#x5F00;&#x59CB;&#x9A8C;&#x8BC1;&#x6570;&#x5B57;&#x8BC1;&#x4E66;&#x3002;&#x5982;&#x679C;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#xFF0C;&#x90A3;&#x4E48;&#x540E;&#x9762;&#x7684;&#x8FC7;&#x7A0B;&#x7167;&#x5E38;&#x8FDB;&#x884C;&#xFF0C;&#x5426;&#x5219;&#x62D2;&#x7EDD;&#x6267;&#x884C;&#x3002;</p><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x6765;&#x68B3;&#x7406;&#x4E00;&#x4E0B;<code>HTTPS</code>&#x6700;&#x7EC8;&#x7684;&#x52A0;&#x89E3;&#x5BC6;&#x8FC7;&#x7A0B;:</p><p>![image-20210224135155149](/Users/xuyongchao/Library/Application Support/typora-user-images/image-20210224135155149.png)</p><h4 id="&#x8BA4;&#x8BC1;&#x8FC7;&#x7A0B;"><a href="#&#x8BA4;&#x8BC1;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x8BA4;&#x8BC1;&#x8FC7;&#x7A0B;"></a>&#x8BA4;&#x8BC1;&#x8FC7;&#x7A0B;</h4><p>&#x6D4F;&#x89C8;&#x5668;&#x62FF;&#x5230;&#x6570;&#x5B57;&#x8BC1;&#x4E66;&#x540E;&#xFF0C;&#x5982;&#x4F55;&#x6765;&#x5BF9;&#x8BC1;&#x4E66;&#x8FDB;&#x884C;&#x8BA4;&#x8BC1;&#x5462;&#xFF1F;</p><p>&#x9996;&#x5148;&#xFF0C;&#x4F1A;&#x8BFB;&#x53D6;&#x8BC1;&#x4E66;&#x4E2D;&#x7684;&#x660E;&#x6587;&#x5185;&#x5BB9;&#x3002;CA &#x8FDB;&#x884C;&#x6570;&#x5B57;&#x8BC1;&#x4E66;&#x7684;&#x7B7E;&#x540D;&#x65F6;&#x4F1A;&#x4FDD;&#x5B58;&#x4E00;&#x4E2A; Hash &#x51FD;&#x6570;&#xFF0C;&#x6765;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x6765;&#x8BA1;&#x7B97;&#x660E;&#x6587;&#x5185;&#x5BB9;&#x5F97;&#x5230;<code>&#x4FE1;&#x606F;A</code>&#xFF0C;&#x7136;&#x540E;&#x7528;&#x516C;&#x94A5;&#x89E3;&#x5BC6;&#x660E;&#x6587;&#x5185;&#x5BB9;&#x5F97;&#x5230;<code>&#x4FE1;&#x606F;B</code>&#xFF0C;&#x4E24;&#x4EFD;&#x4FE1;&#x606F;&#x505A;&#x6BD4;&#x5BF9;&#xFF0C;&#x4E00;&#x81F4;&#x5219;&#x8868;&#x793A;&#x8BA4;&#x8BC1;&#x5408;&#x6CD5;&#x3002;</p><p>&#x5F53;&#x7136;&#x6709;&#x65F6;&#x5019;&#x5BF9;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x800C;&#x8A00;&#xFF0C;&#x5B83;&#x4E0D;&#x77E5;&#x9053;&#x54EA;&#x4E9B; CA &#x662F;&#x503C;&#x5F97;&#x4FE1;&#x4EFB;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x4F1A;&#x7EE7;&#x7EED;&#x67E5;&#x627E; CA &#x7684;&#x4E0A;&#x7EA7; CA&#xFF0C;&#x4EE5;&#x540C;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x6BD4;&#x5BF9;&#x65B9;&#x5F0F;&#x9A8C;&#x8BC1;&#x4E0A;&#x7EA7; CA &#x7684;&#x5408;&#x6CD5;&#x6027;&#x3002;&#x4E00;&#x822C;&#x6839;&#x7EA7;&#x7684; CA &#x4F1A;&#x5185;&#x7F6E;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5F53;&#x4E2D;&#xFF0C;&#x5F53;&#x7136;&#x5982;&#x679C;&#x5411;&#x4E0A;&#x627E;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x6839;&#x7EA7;&#x7684; CA&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x88AB;&#x89C6;&#x4E3A;&#x4E0D;&#x5408;&#x6CD5;&#x3002;</p><h3 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><p>HTTPS&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x534F;&#x8BAE;, &#x5B83;&#x5728;<code>HTTP</code>&#x548C;<code>TCP</code>&#x7684;&#x4F20;&#x8F93;&#x4E2D;&#x5EFA;&#x7ACB;&#x4E86;&#x4E00;&#x4E2A;&#x5B89;&#x5168;&#x5C42;&#xFF0C;&#x5229;&#x7528;<code>&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;</code>&#x548C;<code>&#x975E;&#x5BF9;&#x79F0;&#x673A;&#x5BC6;</code>&#x7ED3;&#x5408;&#x6570;&#x5B57;&#x8BC1;&#x4E66;&#x8BA4;&#x8BC1;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x8BA9;&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;&#x7684;&#x5B89;&#x5168;&#x6027;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x3002;</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;#x8C08;&amp;#x5230;&lt;code&gt;HTTPS&lt;/code&gt;, &amp;#x5C31;&amp;#x4E0D;&amp;#x5F97;&amp;#x4E0D;&amp;#x8C08;&amp;#x5230;&amp;#x4E0E;&amp;#x4E4B;&amp;#x76F8;&amp;#x5BF9;&amp;#x7684;&lt;code&gt;HTTP&lt;/c
      
    
    </summary>
    
    
      <category term="js知识库" scheme="https://over58.github.io/categories/js%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>说一说CSRF攻击</title>
    <link href="https://over58.github.io/2021/02/24/%E8%AF%B4%E4%B8%80%E8%AF%B4CSRF%E6%94%BB%E5%87%BB/"/>
    <id>https://over58.github.io/2021/02/24/%E8%AF%B4%E4%B8%80%E8%AF%B4CSRF%E6%94%BB%E5%87%BB/</id>
    <published>2021-02-24T12:26:28.000Z</published>
    <updated>2021-02-24T12:26:28.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x4EC0;&#x4E48;&#x662F;CSRF&#x653B;&#x51FB;&#xFF1F;"><a href="#&#x4EC0;&#x4E48;&#x662F;CSRF&#x653B;&#x51FB;&#xFF1F;" class="headerlink" title="&#x4EC0;&#x4E48;&#x662F;CSRF&#x653B;&#x51FB;&#xFF1F;"></a>&#x4EC0;&#x4E48;&#x662F;CSRF&#x653B;&#x51FB;&#xFF1F;</h3><p>CSRF(Cross-site request forgery), &#x5373;&#x8DE8;&#x7AD9;&#x8BF7;&#x6C42;&#x4F2A;&#x9020;&#xFF0C;&#x6307;&#x7684;&#x662F;&#x9ED1;&#x5BA2;&#x8BF1;&#x5BFC;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x94FE;&#x63A5;&#xFF0C;&#x6253;&#x5F00;&#x9ED1;&#x5BA2;&#x7684;&#x7F51;&#x7AD9;&#xFF0C;&#x7136;&#x540E;&#x9ED1;&#x5BA2;&#x5229;&#x7528;&#x7528;&#x6237;<strong>&#x76EE;&#x524D;&#x7684;&#x767B;&#x5F55;&#x72B6;&#x6001;</strong>&#x53D1;&#x8D77;&#x8DE8;&#x7AD9;&#x8BF7;&#x6C42;&#x3002;</p><p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;, &#x4F60;&#x5728;&#x67D0;&#x4E2A;&#x8BBA;&#x575B;&#x70B9;&#x51FB;&#x4E86;&#x9ED1;&#x5BA2;&#x7CBE;&#x5FC3;&#x6311;&#x9009;&#x7684;&#x5C0F;&#x59D0;&#x59D0;&#x56FE;&#x7247;&#xFF0C;&#x4F60;&#x70B9;&#x51FB;&#x540E;&#xFF0C;&#x8FDB;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9875;&#x9762;&#x3002;</p><p>&#x90A3;&#x4E48;&#x606D;&#x559C;&#x4F60;&#xFF0C;&#x88AB;&#x653B;&#x51FB;&#x4E86;:&#xFF09;</p><p>&#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x6BD4;&#x8F83;&#x597D;&#x5947;&#xFF0C;&#x600E;&#x4E48;&#x7A81;&#x7136;&#x5C31;&#x88AB;&#x653B;&#x51FB;&#x4E86;&#x5462;&#xFF1F;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x62C6;&#x89E3;&#x4E00;&#x4E0B;&#x5F53;&#x4F60;&#x70B9;&#x51FB;&#x4E86;&#x94FE;&#x63A5;&#x4E4B;&#x540E;&#xFF0C;&#x9ED1;&#x5BA2;&#x5728;&#x80CC;&#x540E;&#x505A;&#x4E86;&#x54EA;&#x4E9B;&#x4E8B;&#x60C5;&#x3002;</p><p>&#x53EF;&#x80FD;&#x4F1A;&#x505A;&#x4E09;&#x6837;&#x4E8B;&#x60C5;&#x3002;&#x5217;&#x4E3E;&#x5982;&#x4E0B;&#xFF1A;</p><h4 id="1-&#x81EA;&#x52A8;&#x53D1;-GET-&#x8BF7;&#x6C42;"><a href="#1-&#x81EA;&#x52A8;&#x53D1;-GET-&#x8BF7;&#x6C42;" class="headerlink" title="1. &#x81EA;&#x52A8;&#x53D1; GET &#x8BF7;&#x6C42;"></a>1. &#x81EA;&#x52A8;&#x53D1; GET &#x8BF7;&#x6C42;</h4><p>&#x9ED1;&#x5BA2;&#x7F51;&#x9875;&#x91CC;&#x9762;&#x53EF;&#x80FD;&#x6709;&#x4E00;&#x6BB5;&#x8FD9;&#x6837;&#x7684;&#x4EE3;&#x7801;:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://xxx.com/info?user=hhh&amp;count=100&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>&#x8FDB;&#x5165;&#x9875;&#x9762;&#x540E;&#x81EA;&#x52A8;&#x53D1;&#x9001; get &#x8BF7;&#x6C42;&#xFF0C;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x4E2A;&#x8BF7;&#x6C42;&#x4F1A;&#x81EA;&#x52A8;&#x5E26;&#x4E0A;&#x5173;&#x4E8E; xxx.com &#x7684; cookie &#x4FE1;&#x606F;(&#x8FD9;&#x91CC;&#x662F;&#x5047;&#x5B9A;&#x4F60;&#x5DF2;&#x7ECF;&#x5728; xxx.com &#x4E2D;&#x767B;&#x5F55;&#x8FC7;)&#x3002;</p><p>&#x5047;&#x5982;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6CA1;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x9A8C;&#x8BC1;&#x673A;&#x5236;&#xFF0C;&#x5B83;&#x53EF;&#x80FD;&#x8BA4;&#x4E3A;&#x53D1;&#x8BF7;&#x6C42;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x6B63;&#x5E38;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x56E0;&#x4E3A;&#x643A;&#x5E26;&#x4E86;&#x76F8;&#x5E94;&#x7684; cookie&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x5404;&#x79CD;&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x8F6C;&#x8D26;&#x6C47;&#x6B3E;&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x7684;&#x6076;&#x610F;&#x64CD;&#x4F5C;&#x3002;</p><h4 id="2-&#x81EA;&#x52A8;&#x53D1;-POST-&#x8BF7;&#x6C42;"><a href="#2-&#x81EA;&#x52A8;&#x53D1;-POST-&#x8BF7;&#x6C42;" class="headerlink" title="2. &#x81EA;&#x52A8;&#x53D1; POST &#x8BF7;&#x6C42;"></a>2. &#x81EA;&#x52A8;&#x53D1; POST &#x8BF7;&#x6C42;</h4><p>&#x9ED1;&#x5BA2;&#x53EF;&#x80FD;&#x81EA;&#x5DF1;&#x586B;&#x4E86;&#x4E00;&#x4E2A;&#x8868;&#x5355;&#xFF0C;&#x5199;&#x4E86;&#x4E00;&#x6BB5;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;&#x7684;&#x811A;&#x672C;&#x3002;</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&apos;hacker-form&apos;</span> <span class="attr">action</span>=<span class="string">&quot;https://xxx.com/info&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">value</span>=<span class="string">&quot;hhh&quot;</span> /&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;count&quot;</span> <span class="attr">value</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">&apos;hacker-form&apos;</span>).submit();</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>&#x540C;&#x6837;&#x4E5F;&#x4F1A;&#x643A;&#x5E26;&#x76F8;&#x5E94;&#x7684;&#x7528;&#x6237; cookie &#x4FE1;&#x606F;&#xFF0C;&#x8BA9;&#x670D;&#x52A1;&#x5668;&#x8BEF;&#x4EE5;&#x4E3A;&#x662F;&#x4E00;&#x4E2A;&#x6B63;&#x5E38;&#x7684;&#x7528;&#x6237;&#x5728;&#x64CD;&#x4F5C;&#xFF0C;&#x8BA9;&#x5404;&#x79CD;&#x6076;&#x610F;&#x7684;&#x64CD;&#x4F5C;&#x53D8;&#x4E3A;&#x53EF;&#x80FD;&#x3002;</p><h4 id="3-&#x8BF1;&#x5BFC;&#x70B9;&#x51FB;&#x53D1;&#x9001;-GET-&#x8BF7;&#x6C42;"><a href="#3-&#x8BF1;&#x5BFC;&#x70B9;&#x51FB;&#x53D1;&#x9001;-GET-&#x8BF7;&#x6C42;" class="headerlink" title="3. &#x8BF1;&#x5BFC;&#x70B9;&#x51FB;&#x53D1;&#x9001; GET &#x8BF7;&#x6C42;"></a>3. &#x8BF1;&#x5BFC;&#x70B9;&#x51FB;&#x53D1;&#x9001; GET &#x8BF7;&#x6C42;</h4><p>&#x5728;&#x9ED1;&#x5BA2;&#x7684;&#x7F51;&#x7AD9;&#x4E0A;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x653E;&#x4E0A;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;&#xFF0C;&#x9A71;&#x4F7F;&#x4F60;&#x6765;&#x70B9;&#x51FB;:</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a <span class="attribute">href</span>=<span class="string">&quot;https://xxx/info?user=hhh&amp;count=100&quot;</span> <span class="attribute">taget</span>=<span class="string">&quot;_blank&quot;</span>&gt;&#x70B9;&#x51FB;&#x8FDB;&#x5165;&#x4FEE;&#x4ED9;&#x4E16;&#x754C;&lt;/a&gt;</span><br></pre></td></tr></table></figure><p>&#x70B9;&#x51FB;&#x540E;&#xFF0C;&#x81EA;&#x52A8;&#x53D1;&#x9001; get &#x8BF7;&#x6C42;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x548C;<code>&#x81EA;&#x52A8;&#x53D1; GET &#x8BF7;&#x6C42;</code>&#x90E8;&#x5206;&#x540C;&#x7406;&#x3002;</p><p>&#x8FD9;&#x5C31;&#x662F;<code>CSRF</code>&#x653B;&#x51FB;&#x7684;&#x539F;&#x7406;&#x3002;&#x548C;<code>XSS</code>&#x653B;&#x51FB;&#x5BF9;&#x6BD4;&#xFF0C;CSRF &#x653B;&#x51FB;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x5C06;&#x6076;&#x610F;&#x4EE3;&#x7801;&#x6CE8;&#x5165;&#x7528;&#x6237;&#x5F53;&#x524D;&#x9875;&#x9762;&#x7684;<code>html</code>&#x6587;&#x6863;&#x4E2D;&#xFF0C;&#x800C;&#x662F;&#x8DF3;&#x8F6C;&#x5230;&#x65B0;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x5229;&#x7528;&#x670D;&#x52A1;&#x5668;&#x7684;<strong>&#x9A8C;&#x8BC1;&#x6F0F;&#x6D1E;</strong>&#x548C;<strong>&#x7528;&#x6237;&#x4E4B;&#x524D;&#x7684;&#x767B;&#x5F55;&#x72B6;&#x6001;</strong>&#x6765;&#x6A21;&#x62DF;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;</p><h3 id="&#x9632;&#x8303;&#x63AA;&#x65BD;"><a href="#&#x9632;&#x8303;&#x63AA;&#x65BD;" class="headerlink" title="&#x9632;&#x8303;&#x63AA;&#x65BD;"></a>&#x9632;&#x8303;&#x63AA;&#x65BD;</h3><h4 id="1-&#x5229;&#x7528;Cookie&#x7684;SameSite&#x5C5E;&#x6027;"><a href="#1-&#x5229;&#x7528;Cookie&#x7684;SameSite&#x5C5E;&#x6027;" class="headerlink" title="1. &#x5229;&#x7528;Cookie&#x7684;SameSite&#x5C5E;&#x6027;"></a>1. &#x5229;&#x7528;Cookie&#x7684;SameSite&#x5C5E;&#x6027;</h4><p><code>CSRF&#x653B;&#x51FB;</code>&#x4E2D;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x73AF;&#x5C31;&#x662F;&#x81EA;&#x52A8;&#x53D1;&#x9001;&#x76EE;&#x6807;&#x7AD9;&#x70B9;&#x4E0B;&#x7684; <code>Cookie</code>,&#x7136;&#x540E;&#x5C31;&#x662F;&#x8FD9;&#x4E00;&#x4EFD; Cookie &#x6A21;&#x62DF;&#x4E86;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x3002;&#x56E0;&#x6B64;&#x5728;<code>Cookie</code>&#x4E0A;&#x9762;&#x4E0B;&#x6587;&#x7AE0;&#x662F;&#x9632;&#x8303;&#x7684;&#x4E0D;&#x4E8C;&#x4E4B;&#x9009;&#x3002;</p><p>&#x6070;&#x597D;&#xFF0C;&#x5728; Cookie &#x5F53;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x8BF7;&#x6C42;&#x4E2D; Cookie &#x7684;&#x643A;&#x5E26;&#x4F5C;&#x4E00;&#x4E9B;&#x9650;&#x5236;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x5C31;&#x662F;<code>SameSite</code>&#x3002;</p><p><code>SameSite</code>&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E09;&#x4E2A;&#x503C;&#xFF0C;<code>Strict</code>&#x3001;<code>Lax</code>&#x548C;<code>None</code>&#x3002;</p><p><strong>a.</strong> &#x5728;<code>Strict</code>&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5B8C;&#x5168;&#x7981;&#x6B62;&#x7B2C;&#x4E09;&#x65B9;&#x8BF7;&#x6C42;&#x643A;&#x5E26;Cookie&#x3002;&#x6BD4;&#x5982;&#x8BF7;&#x6C42;<code>sanyuan.com</code>&#x7F51;&#x7AD9;&#x53EA;&#x80FD;&#x5728;<code>sanyuan.com</code>&#x57DF;&#x540D;&#x5F53;&#x4E2D;&#x8BF7;&#x6C42;&#x624D;&#x80FD;&#x643A;&#x5E26; Cookie&#xFF0C;&#x5728;&#x5176;&#x4ED6;&#x7F51;&#x7AD9;&#x8BF7;&#x6C42;&#x90FD;&#x4E0D;&#x80FD;&#x3002;</p><p><strong>b.</strong> &#x5728;<code>Lax</code>&#x6A21;&#x5F0F;&#xFF0C;&#x5C31;&#x5BBD;&#x677E;&#x4E00;&#x70B9;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x80FD;&#x5728; <code>get &#x65B9;&#x6CD5;&#x63D0;&#x4EA4;&#x8868;&#x5355;</code>&#x51B5;&#x6216;&#x8005;<code>a &#x6807;&#x7B7E;&#x53D1;&#x9001; get &#x8BF7;&#x6C42;</code>&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x643A;&#x5E26; Cookie&#xFF0C;&#x5176;&#x4ED6;&#x60C5;&#x51B5;&#x5747;&#x4E0D;&#x80FD;&#x3002;</p><p><strong>c.</strong> &#x5728;<code>None</code>&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x9ED8;&#x8BA4;&#x6A21;&#x5F0F;&#xFF0C;&#x8BF7;&#x6C42;&#x4F1A;&#x81EA;&#x52A8;&#x643A;&#x5E26;&#x4E0A; Cookie&#x3002;</p><h4 id="2-&#x9A8C;&#x8BC1;&#x6765;&#x6E90;&#x7AD9;&#x70B9;"><a href="#2-&#x9A8C;&#x8BC1;&#x6765;&#x6E90;&#x7AD9;&#x70B9;" class="headerlink" title="2. &#x9A8C;&#x8BC1;&#x6765;&#x6E90;&#x7AD9;&#x70B9;"></a>2. &#x9A8C;&#x8BC1;&#x6765;&#x6E90;&#x7AD9;&#x70B9;</h4><p>&#x8FD9;&#x5C31;&#x9700;&#x8981;&#x8981;&#x7528;&#x5230;&#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x7684;&#x4E24;&#x4E2A;&#x5B57;&#x6BB5;: <strong>Origin</strong>&#x548C;<strong>Referer</strong>&#x3002;</p><p>&#x5176;&#x4E2D;&#xFF0C;<strong>Origin</strong>&#x53EA;&#x5305;&#x542B;&#x57DF;&#x540D;&#x4FE1;&#x606F;&#xFF0C;&#x800C;<strong>Referer</strong>&#x5305;&#x542B;&#x4E86;<code>&#x5177;&#x4F53;</code>&#x7684; URL &#x8DEF;&#x5F84;&#x3002;</p><p>&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x4E24;&#x8005;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x4F2A;&#x9020;&#x7684;&#xFF0C;&#x901A;&#x8FC7; Ajax &#x4E2D;&#x81EA;&#x5B9A;&#x4E49;&#x8BF7;&#x6C42;&#x5934;&#x5373;&#x53EF;&#xFF0C;&#x5B89;&#x5168;&#x6027;&#x7565;&#x5DEE;&#x3002;</p><h4 id="3-CSRF-Token"><a href="#3-CSRF-Token" class="headerlink" title="3. CSRF Token"></a>3. CSRF Token</h4><p><code>Django</code>&#x4F5C;&#x4E3A; Python &#x7684;&#x4E00;&#x95E8;&#x540E;&#x7AEF;&#x6846;&#x67B6;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x7528;&#x5B83;&#x5F00;&#x53D1;&#x8FC7;&#x7684;&#x540C;&#x5B66;&#x5C31;&#x77E5;&#x9053;&#xFF0C;&#x5728;&#x5B83;&#x7684;&#x6A21;&#x677F;(template)&#x4E2D;, &#x5F00;&#x53D1;&#x8868;&#x5355;&#x65F6;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x9644;&#x4E0A;&#x8FD9;&#x6837;&#x4E00;&#x884C;&#x4EE3;&#x7801;:</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name"><span class="name">csrf_token</span></span> %}</span></span><br></pre></td></tr></table></figure><p>&#x8FD9;&#x5C31;&#x662F;<code>CSRF Token</code>&#x7684;&#x5178;&#x578B;&#x5E94;&#x7528;&#x3002;&#x90A3;&#x5B83;&#x7684;&#x539F;&#x7406;&#x662F;&#x600E;&#x6837;&#x7684;&#x5462;&#xFF1F;</p><p>&#x9996;&#x5148;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5C06;&#x5176;&#x690D;&#x5165;&#x5230;&#x8FD4;&#x56DE;&#x7684;&#x9875;&#x9762;&#x4E2D;&#x3002;</p><p>&#x7136;&#x540E;&#x6D4F;&#x89C8;&#x5668;&#x5982;&#x679C;&#x8981;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x5C31;&#x5FC5;&#x987B;&#x5E26;&#x4E0A;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7136;&#x540E;&#x670D;&#x52A1;&#x5668;&#x6765;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x5408;&#x6CD5;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5408;&#x6CD5;&#x5219;&#x4E0D;&#x4E88;&#x54CD;&#x5E94;&#x3002;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4E5F;&#x5C31;&#x662F;<code>CSRF Token</code>&#xFF0C;&#x901A;&#x5E38;&#x7B2C;&#x4E09;&#x65B9;&#x7AD9;&#x70B9;&#x65E0;&#x6CD5;&#x62FF;&#x5230;&#x8FD9;&#x4E2A; token, &#x56E0;&#x6B64;&#x4E5F;&#x5C31;&#x662F;&#x88AB;&#x670D;&#x52A1;&#x5668;&#x7ED9;&#x62D2;&#x7EDD;&#x3002;</p><h3 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><p>CSRF(Cross-site request forgery), &#x5373;&#x8DE8;&#x7AD9;&#x8BF7;&#x6C42;&#x4F2A;&#x9020;&#xFF0C;&#x6307;&#x7684;&#x662F;&#x9ED1;&#x5BA2;&#x8BF1;&#x5BFC;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x94FE;&#x63A5;&#xFF0C;&#x6253;&#x5F00;&#x9ED1;&#x5BA2;&#x7684;&#x7F51;&#x7AD9;&#xFF0C;&#x7136;&#x540E;&#x9ED1;&#x5BA2;&#x5229;&#x7528;&#x7528;&#x6237;&#x76EE;&#x524D;&#x7684;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x53D1;&#x8D77;&#x8DE8;&#x7AD9;&#x8BF7;&#x6C42;&#x3002;</p><p><code>CSRF</code>&#x653B;&#x51FB;&#x4E00;&#x822C;&#x4F1A;&#x6709;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;:</p><ul><li>&#x81EA;&#x52A8; GET &#x8BF7;&#x6C42;</li><li>&#x81EA;&#x52A8; POST &#x8BF7;&#x6C42;</li><li>&#x8BF1;&#x5BFC;&#x70B9;&#x51FB;&#x53D1;&#x9001; GET &#x8BF7;&#x6C42;&#x3002;</li></ul><p>&#x9632;&#x8303;&#x63AA;&#x65BD;: <code>&#x5229;&#x7528; Cookie &#x7684; SameSite &#x5C5E;&#x6027;</code>&#x3001;<code>&#x9A8C;&#x8BC1;&#x6765;&#x6E90;&#x7AD9;&#x70B9;</code>&#x548C;<code>CSRF Token</code>&#x3002;</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;CSRF&amp;#x653B;&amp;#x51FB;&amp;#xFF1F;&quot;&gt;&lt;a href=&quot;#&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;CSRF&amp;#x653B;&amp;#x51FB;&amp;#xFF1F;&quot; class=&quot;headerl
      
    
    </summary>
    
    
      <category term="网络" scheme="https://over58.github.io/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
  </entry>
  
  <entry>
    <title>说一说XSS攻击</title>
    <link href="https://over58.github.io/2021/02/24/%E8%AF%B4%E4%B8%80%E8%AF%B4XSS%E6%94%BB%E5%87%BB/"/>
    <id>https://over58.github.io/2021/02/24/%E8%AF%B4%E4%B8%80%E8%AF%B4XSS%E6%94%BB%E5%87%BB/</id>
    <published>2021-02-24T12:25:58.000Z</published>
    <updated>2021-02-24T12:25:58.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x4EC0;&#x4E48;&#x662F;-XSS-&#x653B;&#x51FB;&#xFF1F;"><a href="#&#x4EC0;&#x4E48;&#x662F;-XSS-&#x653B;&#x51FB;&#xFF1F;" class="headerlink" title="&#x4EC0;&#x4E48;&#x662F; XSS &#x653B;&#x51FB;&#xFF1F;"></a>&#x4EC0;&#x4E48;&#x662F; XSS &#x653B;&#x51FB;&#xFF1F;</h3><p><code>XSS</code> &#x5168;&#x79F0;&#x662F; <code>Cross Site Scripting</code>(&#x5373;<code>&#x8DE8;&#x7AD9;&#x811A;&#x672C;</code>)&#xFF0C;&#x4E3A;&#x4E86;&#x548C; CSS &#x533A;&#x5206;&#xFF0C;&#x6545;&#x53EB;&#x5B83;<code>XSS</code>&#x3002;XSS &#x653B;&#x51FB;&#x662F;&#x6307;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6267;&#x884C;&#x6076;&#x610F;&#x811A;&#x672C;(&#x65E0;&#x8BBA;&#x662F;&#x8DE8;&#x57DF;&#x8FD8;&#x662F;&#x540C;&#x57DF;)&#xFF0C;&#x4ECE;&#x800C;&#x62FF;&#x5230;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#x5E76;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;</p><p>&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x4E00;&#x822C;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x4E0B;&#x9762;&#x8FD9;&#x4E9B;&#x4E8B;&#x60C5;:</p><ol><li>&#x7A83;&#x53D6;<code>Cookie</code>&#x3002;</li><li>&#x76D1;&#x542C;&#x7528;&#x6237;&#x884C;&#x4E3A;&#xFF0C;&#x6BD4;&#x5982;&#x8F93;&#x5165;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x540E;&#x76F4;&#x63A5;&#x53D1;&#x9001;&#x5230;&#x9ED1;&#x5BA2;&#x670D;&#x52A1;&#x5668;&#x3002;</li><li>&#x4FEE;&#x6539; DOM &#x4F2A;&#x9020;&#x767B;&#x5F55;&#x8868;&#x5355;&#x3002;</li><li>&#x5728;&#x9875;&#x9762;&#x4E2D;&#x751F;&#x6210;&#x6D6E;&#x7A97;&#x5E7F;&#x544A;&#x3002;</li></ol><p>&#x901A;&#x5E38;&#x60C5;&#x51B5;&#xFF0C;XSS &#x653B;&#x51FB;&#x7684;&#x5B9E;&#x73B0;&#x6709;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x2014;&#x2014;<strong>&#x5B58;&#x50A8;&#x578B;</strong>&#x3001;<strong>&#x53CD;&#x5C04;&#x578B;</strong>&#x548C;<strong>&#x6587;&#x6863;&#x578B;</strong>&#x3002;&#x539F;&#x7406;&#x90FD;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x5148;&#x6765;&#x4E00;&#x4E00;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x3002;</p><h4 id="&#x5B58;&#x50A8;&#x578B;"><a href="#&#x5B58;&#x50A8;&#x578B;" class="headerlink" title="&#x5B58;&#x50A8;&#x578B;"></a>&#x5B58;&#x50A8;&#x578B;</h4><p><code>&#x5B58;&#x50A8;&#x578B;</code>&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#x5C31;&#x662F;&#x5C06;&#x6076;&#x610F;&#x811A;&#x672C;&#x5B58;&#x50A8;&#x4E86;&#x8D77;&#x6765;&#xFF0C;&#x786E;&#x5B9E;&#xFF0C;&#x5B58;&#x50A8;&#x578B;&#x7684; XSS &#x5C06;&#x811A;&#x672C;&#x5B58;&#x50A8;&#x5230;&#x4E86;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x6267;&#x884C;&#x8FD9;&#x4E9B;&#x811A;&#x672C;&#xFF0C;&#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x653B;&#x51FB;&#x7684;&#x6548;&#x679C;&#x3002;</p><p>&#x5E38;&#x89C1;&#x7684;&#x573A;&#x666F;&#x662F;&#x7559;&#x8A00;&#x8BC4;&#x8BBA;&#x533A;&#x63D0;&#x4EA4;&#x4E00;&#x6BB5;&#x811A;&#x672C;&#x4EE3;&#x7801;&#xFF0C;&#x5982;&#x679C;&#x524D;&#x540E;&#x7AEF;&#x6CA1;&#x6709;&#x505A;&#x597D;&#x8F6C;&#x4E49;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x90A3;&#x8BC4;&#x8BBA;&#x5185;&#x5BB9;&#x5B58;&#x5230;&#x4E86;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5728;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x8FC7;&#x7A0B;&#x4E2D;<code>&#x76F4;&#x63A5;&#x6267;&#x884C;</code>, &#x76F8;&#x5F53;&#x4E8E;&#x6267;&#x884C;&#x4E00;&#x6BB5;&#x672A;&#x77E5;&#x903B;&#x8F91;&#x7684; JS &#x4EE3;&#x7801;&#xFF0C;&#x662F;&#x975E;&#x5E38;&#x6050;&#x6016;&#x7684;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x5B58;&#x50A8;&#x578B;&#x7684; XSS &#x653B;&#x51FB;&#x3002;</p><h4 id="&#x53CD;&#x5C04;&#x578B;"><a href="#&#x53CD;&#x5C04;&#x578B;" class="headerlink" title="&#x53CD;&#x5C04;&#x578B;"></a>&#x53CD;&#x5C04;&#x578B;</h4><p><code>&#x53CD;&#x5C04;&#x578B;XSS</code>&#x6307;&#x7684;&#x662F;&#x6076;&#x610F;&#x811A;&#x672C;&#x4F5C;&#x4E3A;<strong>&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x7684;&#x4E00;&#x90E8;&#x5206;</strong>&#x3002;</p><p>&#x6BD4;&#x5982;&#x6211;&#x8F93;&#x5165;:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://sanyuan.com?q=<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript">alert(<span class="string">&quot;&#x4F60;&#x5B8C;&#x86CB;&#x4E86;&quot;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>&#x8FD9;&#x6768;&#xFF0C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4F1A;&#x62FF;&#x5230;<code>q</code>&#x53C2;&#x6570;,&#x7136;&#x540E;&#x5C06;&#x5185;&#x5BB9;&#x8FD4;&#x56DE;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x7AEF;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5C06;&#x8FD9;&#x4E9B;&#x5185;&#x5BB9;&#x4F5C;&#x4E3A;HTML&#x7684;&#x4E00;&#x90E8;&#x5206;&#x89E3;&#x6790;&#xFF0C;&#x53D1;&#x73B0;&#x662F;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#xFF0C;&#x76F4;&#x63A5;&#x6267;&#x884C;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x88AB;&#x653B;&#x51FB;&#x4E86;&#x3002;</p><p>&#x4E4B;&#x6240;&#x4EE5;&#x53EB;&#x5B83;<code>&#x53CD;&#x5C04;&#x578B;</code>, &#x662F;&#x56E0;&#x4E3A;&#x6076;&#x610F;&#x811A;&#x672C;&#x662F;&#x901A;&#x8FC7;&#x4F5C;&#x4E3A;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x7ECF;&#x8FC7;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x53CD;&#x5C04;&#x5230;HTML&#x6587;&#x6863;&#x4E2D;&#xFF0C;&#x6267;&#x884C;&#x89E3;&#x6790;&#x3002;&#x548C;<code>&#x5B58;&#x50A8;&#x578B;</code>&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x662F;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5E76;&#x4E0D;&#x4F1A;&#x5B58;&#x50A8;&#x8FD9;&#x4E9B;&#x6076;&#x610F;&#x811A;&#x672C;&#x3002;</p><h4 id="&#x6587;&#x6863;&#x578B;"><a href="#&#x6587;&#x6863;&#x578B;" class="headerlink" title="&#x6587;&#x6863;&#x578B;"></a>&#x6587;&#x6863;&#x578B;</h4><p>&#x6587;&#x6863;&#x578B;&#x7684; XSS &#x653B;&#x51FB;&#x5E76;&#x4E0D;&#x4F1A;&#x7ECF;&#x8FC7;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x800C;&#x662F;&#x4F5C;&#x4E3A;&#x4E2D;&#x95F4;&#x4EBA;&#x7684;&#x89D2;&#x8272;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;&#x52AB;&#x6301;&#x5230;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x7136;&#x540E;<strong>&#x4FEE;&#x6539;&#x91CC;&#x9762;&#x7684; html &#x6587;&#x6863;</strong>&#xFF01;</p><p>&#x8FD9;&#x6837;&#x7684;&#x52AB;&#x6301;&#x65B9;&#x5F0F;&#x5305;&#x62EC;<code>WIFI&#x8DEF;&#x7531;&#x5668;&#x52AB;&#x6301;</code>&#x6216;&#x8005;<code>&#x672C;&#x5730;&#x6076;&#x610F;&#x8F6F;&#x4EF6;</code>&#x7B49;&#x3002;</p><h3 id="&#x9632;&#x8303;&#x63AA;&#x65BD;"><a href="#&#x9632;&#x8303;&#x63AA;&#x65BD;" class="headerlink" title="&#x9632;&#x8303;&#x63AA;&#x65BD;"></a>&#x9632;&#x8303;&#x63AA;&#x65BD;</h3><p>&#x660E;&#x767D;&#x4E86;&#x4E09;&#x79CD;<code>XSS</code>&#x653B;&#x51FB;&#x7684;&#x539F;&#x7406;&#xFF0C;&#x6211;&#x4EEC;&#x80FD;&#x53D1;&#x73B0;&#x4E00;&#x4E2A;&#x5171;&#x540C;&#x70B9;: &#x90FD;&#x662F;&#x8BA9;&#x6076;&#x610F;&#x811A;&#x672C;&#x76F4;&#x63A5;&#x80FD;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6267;&#x884C;&#x3002;</p><p>&#x90A3;&#x4E48;&#x8981;&#x9632;&#x8303;&#x5B83;&#xFF0C;&#x5C31;&#x662F;&#x8981;&#x907F;&#x514D;&#x8FD9;&#x4E9B;&#x811A;&#x672C;&#x4EE3;&#x7801;&#x7684;&#x6267;&#x884C;&#x3002;</p><p>&#x4E3A;&#x4E86;&#x5B8C;&#x6210;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x5FC5;&#x987B;&#x505A;&#x5230;<strong>&#x4E00;&#x4E2A;&#x4FE1;&#x5FF5;&#xFF0C;&#x4E24;&#x4E2A;&#x5229;&#x7528;</strong>&#x3002;</p><h4 id="&#x4E00;&#x4E2A;&#x4FE1;&#x5FF5;"><a href="#&#x4E00;&#x4E2A;&#x4FE1;&#x5FF5;" class="headerlink" title="&#x4E00;&#x4E2A;&#x4FE1;&#x5FF5;"></a>&#x4E00;&#x4E2A;&#x4FE1;&#x5FF5;</h4><p>&#x5343;&#x4E07;&#x4E0D;&#x8981;&#x76F8;&#x4FE1;&#x4EFB;&#x4F55;&#x7528;&#x6237;&#x7684;&#x8F93;&#x5165;&#xFF01;</p><p>&#x65E0;&#x8BBA;&#x662F;&#x5728;&#x524D;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x90FD;&#x8981;&#x5BF9;&#x7528;&#x6237;&#x7684;&#x8F93;&#x5165;&#x8FDB;&#x884C;<strong>&#x8F6C;&#x7801;</strong>&#x6216;&#x8005;<strong>&#x8FC7;&#x6EE4;</strong>&#x3002;</p><p>&#x5982;:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript">alert(<span class="string">&apos;&#x4F60;&#x5B8C;&#x86CB;&#x4E86;&apos;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>&#x8F6C;&#x7801;&#x540E;&#x53D8;&#x4E3A;:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript">alert(<span class="string">&apos;&#x4F60;&#x5B8C;&#x86CB;&#x4E86;&apos;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>&#x8FD9;&#x6837;&#x7684;&#x4EE3;&#x7801;&#x5728; html &#x89E3;&#x6790;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x662F;&#x65E0;&#x6CD5;&#x6267;&#x884C;&#x7684;&#x3002;</p><p>&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x5173;&#x952E;&#x8BCD;&#x8FC7;&#x6EE4;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5C06; script &#x6807;&#x7B7E;&#x7ED9;&#x5220;&#x9664;&#x3002;&#x90A3;&#x4E48;&#x73B0;&#x5728;&#x7684;&#x5185;&#x5BB9;&#x53EA;&#x5269;&#x4E0B;:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>&#x4EC0;&#x4E48;&#x4E5F;&#x6CA1;&#x6709;&#x4E86;:&#xFF09;</p><h4 id="&#x5229;&#x7528;-CSP"><a href="#&#x5229;&#x7528;-CSP" class="headerlink" title="&#x5229;&#x7528; CSP"></a>&#x5229;&#x7528; CSP</h4><p>CSP&#xFF0C;&#x5373;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x5B89;&#x5168;&#x7B56;&#x7565;&#xFF0C;&#x5B83;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;&#x5C31;&#x662F;&#x670D;&#x52A1;&#x5668;&#x51B3;&#x5B9A;&#x6D4F;&#x89C8;&#x5668;&#x52A0;&#x8F7D;&#x54EA;&#x4E9B;&#x8D44;&#x6E90;&#xFF0C;&#x5177;&#x4F53;&#x6765;&#x8BF4;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x4EE5;&#x4E0B;&#x529F;&#x80FD;:</p><ol><li>&#x9650;&#x5236;&#x5176;&#x4ED6;&#x57DF;&#x4E0B;&#x7684;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;&#x3002;</li><li>&#x7981;&#x6B62;&#x5411;&#x5176;&#x5B83;&#x57DF;&#x63D0;&#x4EA4;&#x6570;&#x636E;&#x3002;</li><li>&#x63D0;&#x4F9B;&#x4E0A;&#x62A5;&#x673A;&#x5236;&#xFF0C;&#x80FD;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x53CA;&#x65F6;&#x53D1;&#x73B0; XSS &#x653B;&#x51FB;&#x3002;</li></ol><h4 id="&#x5229;&#x7528;-HttpOnly"><a href="#&#x5229;&#x7528;-HttpOnly" class="headerlink" title="&#x5229;&#x7528; HttpOnly"></a>&#x5229;&#x7528; HttpOnly</h4><p>&#x5F88;&#x591A; XSS &#x653B;&#x51FB;&#x811A;&#x672C;&#x90FD;&#x662F;&#x7528;&#x6765;&#x7A83;&#x53D6;Cookie, &#x800C;&#x8BBE;&#x7F6E; Cookie &#x7684; HttpOnly &#x5C5E;&#x6027;&#x540E;&#xFF0C;JavaScript &#x4FBF;&#x65E0;&#x6CD5;&#x8BFB;&#x53D6; Cookie &#x7684;&#x503C;&#x3002;&#x8FD9;&#x6837;&#x4E5F;&#x80FD;&#x5F88;&#x597D;&#x7684;&#x9632;&#x8303; XSS &#x653B;&#x51FB;&#x3002;</p><h3 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><p><code>XSS</code> &#x653B;&#x51FB;&#x662F;&#x6307;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6267;&#x884C;&#x6076;&#x610F;&#x811A;&#x672C;, &#x7136;&#x540E;&#x62FF;&#x5230;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;&#x4E3B;&#x8981;&#x5206;&#x4E3A;<code>&#x5B58;&#x50A8;&#x578B;</code>&#x3001;<code>&#x53CD;&#x5C04;&#x578B;</code>&#x548C;<code>&#x6587;&#x6863;&#x578B;</code>&#x3002;&#x9632;&#x8303;&#x7684;&#x63AA;&#x65BD;&#x5305;&#x62EC;:</p><ul><li>&#x4E00;&#x4E2A;&#x4FE1;&#x5FF5;: &#x4E0D;&#x8981;&#x76F8;&#x4FE1;&#x7528;&#x6237;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x5185;&#x5BB9;&#x8F6C;&#x7801;&#x6216;&#x8005;&#x8FC7;&#x6EE4;&#xFF0C;&#x8BA9;&#x5176;&#x4E0D;&#x53EF;&#x6267;&#x884C;&#x3002;</li><li>&#x4E24;&#x4E2A;&#x5229;&#x7528;: &#x5229;&#x7528; CSP&#xFF0C;&#x5229;&#x7528; Cookie &#x7684; HttpOnly &#x5C5E;&#x6027;&#x3002;</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;-XSS-&amp;#x653B;&amp;#x51FB;&amp;#xFF1F;&quot;&gt;&lt;a href=&quot;#&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;-XSS-&amp;#x653B;&amp;#x51FB;&amp;#xFF1F;&quot; class=&quot;heade
      
    
    </summary>
    
    
      <category term="网络" scheme="https://over58.github.io/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
  </entry>
  
  <entry>
    <title>谈谈你对重绘和回流的理解</title>
    <link href="https://over58.github.io/2021/02/24/%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9%E9%87%8D%E7%BB%98%E5%92%8C%E5%9B%9E%E6%B5%81%E7%9A%84%E7%90%86%E8%A7%A3/"/>
    <id>https://over58.github.io/2021/02/24/%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9%E9%87%8D%E7%BB%98%E5%92%8C%E5%9B%9E%E6%B5%81%E7%9A%84%E7%90%86%E8%A7%A3/</id>
    <published>2021-02-24T12:25:21.000Z</published>
    <updated>2021-02-24T12:25:21.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x6211;&#x4EEC;&#x9996;&#x5148;&#x6765;&#x56DE;&#x987E;&#x4E00;&#x4E0B;<code>&#x6E32;&#x67D3;&#x6D41;&#x6C34;&#x7EBF;</code>&#x7684;&#x6D41;&#x7A0B;:</p><p>![image-20210224135331182](/Users/xuyongchao/Library/Application Support/typora-user-images/image-20210224135331182.png)</p><p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x6765;&#x4EE5;&#x6B64;&#x4E3A;&#x4F9D;&#x636E;&#x6765;&#x4ECB;&#x7ECD;&#x91CD;&#x7ED8;&#x548C;&#x56DE;&#x6D41;&#xFF0C;&#x4EE5;&#x53CA;&#x8BA9;&#x66F4;&#x65B0;&#x89C6;&#x56FE;&#x7684;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x2014;&#x2014;&#x5408;&#x6210;&#x3002;</p><h3 id="&#x56DE;&#x6D41;"><a href="#&#x56DE;&#x6D41;" class="headerlink" title="&#x56DE;&#x6D41;"></a>&#x56DE;&#x6D41;</h3><p>&#x9996;&#x5148;&#x4ECB;&#x7ECD;<code>&#x56DE;&#x6D41;</code>&#x3002;<code>&#x56DE;&#x6D41;</code>&#x4E5F;&#x53EB;<code>&#x91CD;&#x6392;</code>&#x3002;</p><h4 id="&#x89E6;&#x53D1;&#x6761;&#x4EF6;"><a href="#&#x89E6;&#x53D1;&#x6761;&#x4EF6;" class="headerlink" title="&#x89E6;&#x53D1;&#x6761;&#x4EF6;"></a>&#x89E6;&#x53D1;&#x6761;&#x4EF6;</h4><p>&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x5C31;&#x662F;&#x5F53;&#x6211;&#x4EEC;&#x5BF9; DOM &#x7ED3;&#x6784;&#x7684;&#x4FEE;&#x6539;&#x5F15;&#x53D1; DOM &#x51E0;&#x4F55;&#x5C3A;&#x5BF8;&#x53D8;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x53D1;&#x751F;<code>&#x56DE;&#x6D41;</code>&#x7684;&#x8FC7;&#x7A0B;&#x3002;</p><p>&#x5177;&#x4F53;&#x4E00;&#x70B9;&#xFF0C;&#x6709;&#x4EE5;&#x4E0B;&#x7684;&#x64CD;&#x4F5C;&#x4F1A;&#x89E6;&#x53D1;&#x56DE;&#x6D41;:</p><ol><li>&#x4E00;&#x4E2A; DOM &#x5143;&#x7D20;&#x7684;&#x51E0;&#x4F55;&#x5C5E;&#x6027;&#x53D8;&#x5316;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x51E0;&#x4F55;&#x5C5E;&#x6027;&#x6709;<code>width</code>&#x3001;<code>height</code>&#x3001;<code>padding</code>&#x3001;<code>margin</code>&#x3001;<code>left</code>&#x3001;<code>top</code>&#x3001;<code>border</code> &#x7B49;&#x7B49;, &#x8FD9;&#x4E2A;&#x5F88;&#x597D;&#x7406;&#x89E3;&#x3002;</li><li>&#x4F7F; DOM &#x8282;&#x70B9;&#x53D1;&#x751F;<code>&#x589E;&#x51CF;</code>&#x6216;&#x8005;<code>&#x79FB;&#x52A8;</code>&#x3002;</li><li>&#x8BFB;&#x5199; <code>offset</code>&#x65CF;&#x3001;<code>scroll</code>&#x65CF;&#x548C;<code>client</code>&#x65CF;&#x5C5E;&#x6027;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E3A;&#x4E86;&#x83B7;&#x53D6;&#x8FD9;&#x4E9B;&#x503C;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x56DE;&#x6D41;&#x64CD;&#x4F5C;&#x3002;</li><li>&#x8C03;&#x7528; <code>window.getComputedStyle</code> &#x65B9;&#x6CD5;&#x3002;</li></ol><h4 id="&#x56DE;&#x6D41;&#x8FC7;&#x7A0B;"><a href="#&#x56DE;&#x6D41;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x56DE;&#x6D41;&#x8FC7;&#x7A0B;"></a>&#x56DE;&#x6D41;&#x8FC7;&#x7A0B;</h4><p>&#x4F9D;&#x7167;&#x4E0A;&#x9762;&#x7684;&#x6E32;&#x67D3;&#x6D41;&#x6C34;&#x7EBF;&#xFF0C;&#x89E6;&#x53D1;&#x56DE;&#x6D41;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C; DOM &#x7ED3;&#x6784;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x5219;&#x91CD;&#x65B0;&#x6E32;&#x67D3; DOM &#x6811;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x540E;&#x9762;&#x7684;&#x6D41;&#x7A0B;(&#x5305;&#x62EC;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E4B;&#x5916;&#x7684;&#x4EFB;&#x52A1;)&#x5168;&#x90E8;&#x8D70;&#x4E00;&#x904D;&#x3002;</p><p>![image-20210224135359846](/Users/xuyongchao/Library/Application Support/typora-user-images/image-20210224135359846.png)</p><p>&#x76F8;&#x5F53;&#x4E8E;&#x5C06;&#x89E3;&#x6790;&#x548C;&#x5408;&#x6210;&#x7684;&#x8FC7;&#x7A0B;&#x91CD;&#x65B0;&#x53C8;&#x8D70;&#x4E86;&#x4E00;&#x7BC7;&#xFF0C;&#x5F00;&#x9500;&#x662F;&#x975E;&#x5E38;&#x5927;&#x7684;&#x3002;</p><h3 id="&#x91CD;&#x7ED8;"><a href="#&#x91CD;&#x7ED8;" class="headerlink" title="&#x91CD;&#x7ED8;"></a>&#x91CD;&#x7ED8;</h3><h4 id="&#x89E6;&#x53D1;&#x6761;&#x4EF6;-1"><a href="#&#x89E6;&#x53D1;&#x6761;&#x4EF6;-1" class="headerlink" title="&#x89E6;&#x53D1;&#x6761;&#x4EF6;"></a>&#x89E6;&#x53D1;&#x6761;&#x4EF6;</h4><p>&#x5F53; DOM &#x7684;&#x4FEE;&#x6539;&#x5BFC;&#x81F4;&#x4E86;&#x6837;&#x5F0F;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x5F71;&#x54CD;&#x51E0;&#x4F55;&#x5C5E;&#x6027;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;<code>&#x91CD;&#x7ED8;</code>(<code>repaint</code>)&#x3002;</p><h4 id="&#x91CD;&#x7ED8;&#x8FC7;&#x7A0B;"><a href="#&#x91CD;&#x7ED8;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x91CD;&#x7ED8;&#x8FC7;&#x7A0B;"></a>&#x91CD;&#x7ED8;&#x8FC7;&#x7A0B;</h4><p>&#x7531;&#x4E8E;&#x6CA1;&#x6709;&#x5BFC;&#x81F4; DOM &#x51E0;&#x4F55;&#x5C5E;&#x6027;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x56E0;&#x6B64;&#x5143;&#x7D20;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#x4E0D;&#x9700;&#x8981;&#x66F4;&#x65B0;&#xFF0C;&#x4ECE;&#x800C;&#x7701;&#x53BB;&#x5E03;&#x5C40;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</p><p>![image-20210224135420524](/Users/xuyongchao/Library/Application Support/typora-user-images/image-20210224135420524.png)</p><p>&#x8DF3;&#x8FC7;&#x4E86;<code>&#x751F;&#x6210;&#x5E03;&#x5C40;&#x6811;</code>&#x548C;<code>&#x5EFA;&#x56FE;&#x5C42;&#x6811;</code>&#x7684;&#x9636;&#x6BB5;&#xFF0C;&#x76F4;&#x63A5;&#x751F;&#x6210;&#x7ED8;&#x5236;&#x5217;&#x8868;&#xFF0C;&#x7136;&#x540E;&#x7EE7;&#x7EED;&#x8FDB;&#x884C;&#x5206;&#x5757;&#x3001;&#x751F;&#x6210;&#x4F4D;&#x56FE;&#x7B49;&#x540E;&#x9762;&#x4E00;&#x7CFB;&#x5217;&#x64CD;&#x4F5C;&#x3002;</p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x91CD;&#x7ED8;&#x4E0D;&#x4E00;&#x5B9A;&#x5BFC;&#x81F4;&#x56DE;&#x6D41;&#xFF0C;&#x4F46;&#x56DE;&#x6D41;&#x4E00;&#x5B9A;&#x53D1;&#x751F;&#x4E86;&#x91CD;&#x7ED8;&#x3002;</p><h3 id="&#x5408;&#x6210;"><a href="#&#x5408;&#x6210;" class="headerlink" title="&#x5408;&#x6210;"></a>&#x5408;&#x6210;</h3><p>&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x662F;&#x76F4;&#x63A5;&#x5408;&#x6210;&#x3002;&#x6BD4;&#x5982;&#x5229;&#x7528; CSS3 &#x7684;<code>transform</code>&#x3001;<code>opacity</code>&#x3001;<code>filter</code>&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5408;&#x6210;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5927;&#x5BB6;&#x5E38;&#x8BF4;&#x7684;<strong>GPU&#x52A0;&#x901F;</strong>&#x3002;</p><h4 id="GPU&#x52A0;&#x901F;&#x7684;&#x539F;&#x56E0;"><a href="#GPU&#x52A0;&#x901F;&#x7684;&#x539F;&#x56E0;" class="headerlink" title="GPU&#x52A0;&#x901F;&#x7684;&#x539F;&#x56E0;"></a>GPU&#x52A0;&#x901F;&#x7684;&#x539F;&#x56E0;</h4><p>&#x5728;&#x5408;&#x6210;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F1A;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x5E03;&#x5C40;&#x548C;&#x7ED8;&#x5236;&#x6D41;&#x7A0B;&#xFF0C;&#x76F4;&#x63A5;&#x8FDB;&#x5165;<code>&#x975E;&#x4E3B;&#x7EBF;&#x7A0B;</code>&#x5904;&#x7406;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x5373;&#x76F4;&#x63A5;&#x4EA4;&#x7ED9;<code>&#x5408;&#x6210;&#x7EBF;&#x7A0B;</code>&#x5904;&#x7406;&#x3002;&#x4EA4;&#x7ED9;&#x5B83;&#x5904;&#x7406;&#x6709;&#x4E24;&#x5927;&#x597D;&#x5904;:</p><ol><li>&#x80FD;&#x591F;&#x5145;&#x5206;&#x53D1;&#x6325;<code>GPU</code>&#x7684;&#x4F18;&#x52BF;&#x3002;&#x5408;&#x6210;&#x7EBF;&#x7A0B;&#x751F;&#x6210;&#x4F4D;&#x56FE;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x5E76;&#x5728;&#x5176;&#x4E2D;&#x4F7F;&#x7528;<code>GPU</code>&#x8FDB;&#x884C;&#x52A0;&#x901F;&#x751F;&#x6210;&#xFF0C;&#x800C;GPU &#x662F;&#x64C5;&#x957F;&#x5904;&#x7406;&#x4F4D;&#x56FE;&#x6570;&#x636E;&#x7684;&#x3002;</li><li>&#x6CA1;&#x6709;&#x5360;&#x7528;&#x4E3B;&#x7EBF;&#x7A0B;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x5373;&#x4F7F;&#x4E3B;&#x7EBF;&#x7A0B;&#x5361;&#x4F4F;&#x4E86;&#xFF0C;&#x6548;&#x679C;&#x4F9D;&#x7136;&#x80FD;&#x591F;&#x6D41;&#x7545;&#x5730;&#x5C55;&#x793A;&#x3002;</li></ol><h3 id="&#x5B9E;&#x8DF5;&#x610F;&#x4E49;"><a href="#&#x5B9E;&#x8DF5;&#x610F;&#x4E49;" class="headerlink" title="&#x5B9E;&#x8DF5;&#x610F;&#x4E49;"></a>&#x5B9E;&#x8DF5;&#x610F;&#x4E49;</h3><p>&#x77E5;&#x9053;&#x4E0A;&#x9762;&#x7684;&#x539F;&#x7406;&#x4E4B;&#x540E;&#xFF0C;&#x5BF9;&#x4E8E;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x6709;&#x4EC0;&#x4E48;&#x6307;&#x5BFC;&#x610F;&#x4E49;&#x5462;&#xFF1F;</p><ol><li>&#x907F;&#x514D;&#x9891;&#x7E41;&#x4F7F;&#x7528; style&#xFF0C;&#x800C;&#x662F;&#x91C7;&#x7528;&#x4FEE;&#x6539;<code>class</code>&#x7684;&#x65B9;&#x5F0F;&#x3002;</li><li>&#x4E0D;&#x8981;&#x628A; DOM &#x8282;&#x70B9;&#x7684;&#x5C5E;&#x6027;&#x503C;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x91CC;&#x5F53;&#x6210;&#x5FAA;&#x73AF;&#x91CC;&#x7684;&#x53D8;&#x91CF;&#x3002;&#x4E0D;&#x7136;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x5927;&#x91CF;&#x5730;&#x8BFB;&#x5199;&#x8FD9;&#x4E2A;&#x7ED3;&#x70B9;&#x7684;&#x5C5E;&#x6027;&#x3002;</li><li>&#x53EF;&#x80FD;&#x7684;&#x4FEE;&#x6539;&#x5C42;&#x7EA7;&#x6BD4;&#x8F83;&#x4F4E;&#x7684; DOM&#x8282;&#x70B9;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x6539;&#x53D8;&#x5C42;&#x7EA7;&#x6BD4;&#x8F83;&#x5E95;&#x7684; DOM&#x8282;&#x70B9;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x9020;&#x6210;&#x5927;&#x9762;&#x79EF;&#x7684; reflow&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x53EF;&#x80FD;&#x5F71;&#x54CD;&#x8303;&#x56F4;&#x5F88;&#x5C0F;&#x3002; &#x56E0;&#x4E3A;&#x6539;&#x53D8; DOM &#x6811;&#x4E2D;&#x7684;&#x4E00;&#x7EA7;&#x4F1A;&#x5BFC;&#x81F4;&#x6240;&#x6709;&#x5C42;&#x7EA7;&#x7684;&#x6539;&#x53D8;&#xFF0C;&#x4E0A;&#x81F3;&#x6839;&#x90E8;&#xFF0C;&#x4E0B;&#x81F3;&#x88AB;&#x6539;&#x53D8;&#x8282;&#x70B9;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x3002;&#x8FD9;&#x5BFC;&#x81F4;&#x5927;&#x91CF;&#x65F6;&#x95F4;&#x8017;&#x8D39;&#x5728;&#x6267;&#x884C; reflow &#x4E0A;&#x9762;</li><li>&#x907F;&#x514D;&#x4F7F;&#x7528;CSS&#x7684;JavaScript&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5982;&#x679C;css&#x91CC;&#x6709;expression&#xFF0C;&#x6BCF;&#x6B21;&#x90FD;&#x4F1A;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;&#x4E00;&#x904D;&#x3002;</li><li>&#x4F7F;&#x7528;<code>createDocumentFragment</code>&#x8FDB;&#x884C;&#x6279;&#x91CF;&#x7684; DOM &#x64CD;&#x4F5C;&#x3002;</li><li>&#x5BF9;&#x4E8E; resize&#x3001;scroll &#x7B49;&#x8FDB;&#x884C;&#x9632;&#x6296;/&#x8282;&#x6D41;&#x5904;&#x7406;&#x3002;</li><li>&#x6DFB;&#x52A0; will-change: tranform &#xFF0C;&#x8BA9;&#x6E32;&#x67D3;&#x5F15;&#x64CE;&#x4E3A;&#x5176;&#x5355;&#x72EC;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x56FE;&#x5C42;&#xFF0C;&#x5F53;&#x8FD9;&#x4E9B;&#x53D8;&#x6362;&#x53D1;&#x751F;&#x65F6;&#xFF0C;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x5229;&#x7528;&#x5408;&#x6210;&#x7EBF;&#x7A0B;&#x53BB;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x53D8;&#x6362;&#xFF0C;&#x800C;&#x4E0D;&#x7275;&#x626F;&#x5230;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF0C;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x6E32;&#x67D3;&#x6548;&#x7387;&#x3002;&#x5F53;&#x7136;&#x8FD9;&#x4E2A;&#x53D8;&#x5316;&#x4E0D;&#x9650;&#x4E8E;<code>tranform</code>, &#x4EFB;&#x4F55;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5408;&#x6210;&#x6548;&#x679C;&#x7684; CSS &#x5C5E;&#x6027;&#x90FD;&#x80FD;&#x7528;<code>will-change</code>&#x6765;&#x58F0;&#x660E;&#x3002;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x5B9E;&#x9645;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x4E00;&#x884C;<code>will-change: tranform</code>&#x62EF;&#x6551;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x70B9;&#x51FB;&#x76F4;&#x8FBE;&#x3002;</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x9996;&amp;#x5148;&amp;#x6765;&amp;#x56DE;&amp;#x987E;&amp;#x4E00;&amp;#x4E0B;&lt;code&gt;&amp;#x6E32;&amp;#x67D3;&amp;#x6D41;&amp;#x6C34;&amp;#x7EBF;&lt;/code&gt;&amp;#x7684;&amp;#x6
      
    
    </summary>
    
    
      <category term="js知识库" scheme="https://over58.github.io/categories/js%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>说一说浏览器的本地存储?各自优劣如何?</title>
    <link href="https://over58.github.io/2021/02/24/%E8%AF%B4%E4%B8%80%E8%AF%B4%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8-%E5%90%84%E8%87%AA%E4%BC%98%E5%8A%A3%E5%A6%82%E4%BD%95/"/>
    <id>https://over58.github.io/2021/02/24/%E8%AF%B4%E4%B8%80%E8%AF%B4%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8-%E5%90%84%E8%87%AA%E4%BC%98%E5%8A%A3%E5%A6%82%E4%BD%95/</id>
    <published>2021-02-24T12:16:37.000Z</published>
    <updated>2021-02-24T12:16:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x672C;&#x5730;&#x5B58;&#x50A8;&#x4E3B;&#x8981;&#x5206;&#x4E3A;<code>Cookie</code>&#x3001;<code>WebStorage</code>&#x548C;<code>IndexedDB</code>, &#x5176;&#x4E2D;<code>WebStorage</code>&#x53C8;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;<code>localStorage</code>&#x548C;<code>sessionStorage</code>&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x4E00;&#x4E00;&#x5206;&#x6790;&#x8FD9;&#x4E9B;&#x672C;&#x5730;&#x5B58;&#x50A8;&#x65B9;&#x6848;&#x3002;</p><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p><code>Cookie</code> &#x6700;&#x5F00;&#x59CB;&#x88AB;&#x8BBE;&#x8BA1;&#x51FA;&#x6765;&#x5176;&#x5B9E;&#x5E76;&#x4E0D;&#x662F;&#x6765;&#x505A;&#x672C;&#x5730;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x4E3A;&#x4E86;&#x5F25;&#x8865;<code>HTTP</code>&#x5728;<strong>&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x4E0A;&#x7684;&#x4E0D;&#x8DB3;</strong>&#x3002;</p><p><code>HTTP</code> &#x534F;&#x8BAE;&#x662F;&#x4E00;&#x4E2A;&#x65E0;&#x72B6;&#x6001;&#x534F;&#x8BAE;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x8BF7;&#x6C42;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#xFF0C;&#x6545;&#x4E8B;&#x5C31;&#x8FD9;&#x6837;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x4E0B;&#x6B21;&#x53D1;&#x8BF7;&#x6C42;&#x5982;&#x4F55;&#x8BA9;&#x670D;&#x52A1;&#x7AEF;&#x77E5;&#x9053;&#x5BA2;&#x6237;&#x7AEF;&#x662F;&#x8C01;&#x5462;&#xFF1F;</p><p>&#x8FD9;&#x79CD;&#x80CC;&#x666F;&#x4E0B;&#xFF0C;&#x5C31;&#x4EA7;&#x751F;&#x4E86; <code>Cookie</code>.</p><p>Cookie &#x672C;&#x8D28;&#x4E0A;&#x5C31;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x91CC;&#x9762;&#x5B58;&#x50A8;&#x7684;&#x4E00;&#x4E2A;&#x5F88;&#x5C0F;&#x7684;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x90E8;&#x4EE5;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5B58;&#x50A8;(&#x5728;chrome&#x5F00;&#x53D1;&#x8005;&#x9762;&#x677F;&#x7684;<code>Application</code>&#x8FD9;&#x4E00;&#x680F;&#x53EF;&#x4EE5;&#x770B;&#x5230;)&#x3002;&#x5411;&#x540C;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x4E0B;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x90FD;&#x4F1A;&#x643A;&#x5E26;&#x76F8;&#x540C;&#x7684; Cookie&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x62FF;&#x5230; Cookie &#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x4FBF;&#x80FD;&#x62FF;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x72B6;&#x6001;&#x3002;</p><p>Cookie &#x7684;&#x4F5C;&#x7528;&#x5F88;&#x597D;&#x7406;&#x89E3;&#xFF0C;&#x5C31;&#x662F;&#x7528;&#x6765;&#x505A;<strong>&#x72B6;&#x6001;&#x5B58;&#x50A8;</strong>&#x7684;&#xFF0C;&#x4F46;&#x5B83;&#x4E5F;&#x662F;&#x6709;&#x8BF8;&#x591A;&#x81F4;&#x547D;&#x7684;&#x7F3A;&#x9677;&#x7684;&#xFF1A;</p><ol><li>&#x5BB9;&#x91CF;&#x7F3A;&#x9677;&#x3002;Cookie &#x7684;&#x4F53;&#x79EF;&#x4E0A;&#x9650;&#x53EA;&#x6709;<code>4KB</code>&#xFF0C;&#x53EA;&#x80FD;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x5C11;&#x91CF;&#x7684;&#x4FE1;&#x606F;&#x3002;</li><li>&#x6027;&#x80FD;&#x7F3A;&#x9677;&#x3002;Cookie &#x7D27;&#x8DDF;&#x57DF;&#x540D;&#xFF0C;&#x4E0D;&#x7BA1;&#x57DF;&#x540D;&#x4E0B;&#x9762;&#x7684;&#x67D0;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x9700;&#x4E0D;&#x9700;&#x8981;&#x8FD9;&#x4E2A; Cookie &#xFF0C;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x643A;&#x5E26;&#x4E0A;&#x5B8C;&#x6574;&#x7684; Cookie&#xFF0C;&#x8FD9;&#x6837;&#x968F;&#x7740;&#x8BF7;&#x6C42;&#x6570;&#x7684;&#x589E;&#x591A;&#xFF0C;&#x5176;&#x5B9E;&#x4F1A;&#x9020;&#x6210;&#x5DE8;&#x5927;&#x7684;&#x6027;&#x80FD;&#x6D6A;&#x8D39;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x8BF7;&#x6C42;&#x643A;&#x5E26;&#x4E86;&#x5F88;&#x591A;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x5185;&#x5BB9;&#x3002;</li><li>&#x5B89;&#x5168;&#x7F3A;&#x9677;&#x3002;&#x7531;&#x4E8E; Cookie &#x4EE5;&#x7EAF;&#x6587;&#x672C;&#x7684;&#x5F62;&#x5F0F;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x4F20;&#x9012;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x88AB;&#x975E;&#x6CD5;&#x7528;&#x6237;&#x622A;&#x83B7;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x7BE1;&#x6539;&#xFF0C;&#x5728; Cookie &#x7684;&#x6709;&#x6548;&#x671F;&#x5185;&#x91CD;&#x65B0;&#x53D1;&#x9001;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8FD9;&#x662F;&#x76F8;&#x5F53;&#x5371;&#x9669;&#x7684;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5728;<code>HttpOnly</code>&#x4E3A; false &#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Cookie &#x4FE1;&#x606F;&#x80FD;&#x76F4;&#x63A5;&#x901A;&#x8FC7; JS &#x811A;&#x672C;&#x6765;&#x8BFB;&#x53D6;&#x3002;</li></ol><h3 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h3><h4 id="&#x548C;Cookie&#x5F02;&#x540C;"><a href="#&#x548C;Cookie&#x5F02;&#x540C;" class="headerlink" title="&#x548C;Cookie&#x5F02;&#x540C;"></a>&#x548C;Cookie&#x5F02;&#x540C;</h4><p><code>localStorage</code>&#x6709;&#x4E00;&#x70B9;&#x8DDF;<code>Cookie</code>&#x4E00;&#x6837;&#xFF0C;&#x5C31;&#x662F;&#x9488;&#x5BF9;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#xFF0C;&#x5373;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x4E0B;&#xFF0C;&#x4F1A;&#x5B58;&#x50A8;&#x76F8;&#x540C;&#x7684;&#x4E00;&#x6BB5;<strong>localStorage</strong>&#x3002;</p><p>&#x4E0D;&#x8FC7;&#x5B83;&#x76F8;&#x5BF9;<code>Cookie</code>&#x8FD8;&#x662F;&#x6709;&#x76F8;&#x5F53;&#x591A;&#x7684;&#x533A;&#x522B;&#x7684;:</p><ol><li>&#x5BB9;&#x91CF;&#x3002;localStorage &#x7684;&#x5BB9;&#x91CF;&#x4E0A;&#x9650;&#x4E3A;<strong>5M</strong>&#xFF0C;&#x76F8;&#x6BD4;&#x4E8E;<code>Cookie</code>&#x7684; 4K &#x5927;&#x5927;&#x589E;&#x52A0;&#x3002;&#x5F53;&#x7136;&#x8FD9;&#x4E2A; 5M &#x662F;&#x9488;&#x5BF9;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x662F;&#x6301;&#x4E45;&#x5B58;&#x50A8;&#x7684;&#x3002;</li><li>&#x53EA;&#x5B58;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x53C2;&#x4E0E;&#x4E0E;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x901A;&#x4FE1;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x5F88;&#x597D;&#x5730;&#x907F;&#x514D;&#x4E86; Cookie &#x5E26;&#x6765;&#x7684;<strong>&#x6027;&#x80FD;&#x95EE;&#x9898;</strong>&#x548C;<strong>&#x5B89;&#x5168;&#x95EE;&#x9898;</strong>&#x3002;</li><li>&#x63A5;&#x53E3;&#x5C01;&#x88C5;&#x3002;&#x901A;&#x8FC7;<code>localStorage</code>&#x66B4;&#x9732;&#x5728;&#x5168;&#x5C40;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x5B83;&#x7684; <code>setItem</code> &#x548C; <code>getItem</code>&#x7B49;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x3002;</li></ol><h4 id="&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;"><a href="#&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;" class="headerlink" title="&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;"></a>&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;</h4><p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x5177;&#x4F53;&#x770B;&#x770B;&#x5982;&#x4F55;&#x6765;&#x64CD;&#x4F5C;<code>localStorage</code>&#x3002;</p><ul><li></li><li></li><li></li></ul><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = { name: <span class="string">&quot;sanyuan&quot;</span>, age: <span class="number">18</span> };localStorage.set<span class="constructor">Item(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;sanyuan&quot;</span>)</span>; localStorage.set<span class="constructor">Item(<span class="string">&quot;info&quot;</span>, JSON.<span class="params">stringify</span>(<span class="params">obj</span>)</span>);</span><br></pre></td></tr></table></figure><p>&#x63A5;&#x7740;&#x8FDB;&#x5165;&#x76F8;&#x540C;&#x7684;&#x57DF;&#x540D;&#x65F6;&#x5C31;&#x80FD;&#x62FF;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x503C;:</p><ul><li></li><li></li></ul><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = localStorage.get<span class="constructor">Item(<span class="string">&quot;name&quot;</span>)</span>;<span class="keyword">let</span> info = <span class="module-access"><span class="module"><span class="identifier">JSON</span>.</span></span>parse(localStorage.get<span class="constructor">Item(<span class="string">&quot;info&quot;</span>)</span>);</span><br></pre></td></tr></table></figure><p>&#x4ECE;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;<code>localStorage</code>&#x5176;&#x5B9E;&#x5B58;&#x50A8;&#x7684;&#x90FD;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5B58;&#x50A8;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x8C03;&#x7528;<code>JSON</code>&#x7684;<code>stringify</code>&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;&#x7528;<code>JSON.parse</code>&#x6765;&#x89E3;&#x6790;&#x6210;&#x5BF9;&#x8C61;&#x3002;</p><h4 id="&#x5E94;&#x7528;&#x573A;&#x666F;"><a href="#&#x5E94;&#x7528;&#x573A;&#x666F;" class="headerlink" title="&#x5E94;&#x7528;&#x573A;&#x666F;"></a>&#x5E94;&#x7528;&#x573A;&#x666F;</h4><p>&#x5229;&#x7528;<code>localStorage</code>&#x7684;&#x8F83;&#x5927;&#x5BB9;&#x91CF;&#x548C;&#x6301;&#x4E45;&#x7279;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>localStorage</code>&#x5B58;&#x50A8;&#x4E00;&#x4E9B;&#x5185;&#x5BB9;&#x7A33;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x6BD4;&#x5982;&#x5B98;&#x7F51;&#x7684;<code>logo</code>&#xFF0C;&#x5B58;&#x50A8;<code>Base64</code>&#x683C;&#x5F0F;&#x7684;&#x56FE;&#x7247;&#x8D44;&#x6E90;&#xFF0C;&#x56E0;&#x6B64;&#x5229;&#x7528;<code>localStorage</code></p><h3 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h3><h4 id="&#x7279;&#x70B9;"><a href="#&#x7279;&#x70B9;" class="headerlink" title="&#x7279;&#x70B9;"></a>&#x7279;&#x70B9;</h4><p><code>sessionStorage</code>&#x4EE5;&#x4E0B;&#x65B9;&#x9762;&#x548C;<code>localStorage</code>&#x4E00;&#x81F4;:</p><ul><li>&#x5BB9;&#x91CF;&#x3002;&#x5BB9;&#x91CF;&#x4E0A;&#x9650;&#x4E5F;&#x4E3A; 5M&#x3002;</li><li>&#x53EA;&#x5B58;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x53C2;&#x4E0E;&#x4E0E;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x901A;&#x4FE1;&#x3002;</li><li>&#x63A5;&#x53E3;&#x5C01;&#x88C5;&#x3002;&#x9664;&#x4E86;<code>sessionStorage</code>&#x540D;&#x5B57;&#x6709;&#x6240;&#x53D8;&#x5316;&#xFF0C;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x3001;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x5747;&#x548C;<code>localStorage</code>&#x4E00;&#x6837;&#x3002;</li></ul><p>&#x4F46;<code>sessionStorage</code>&#x548C;<code>localStorage</code>&#x6709;&#x4E00;&#x4E2A;&#x672C;&#x8D28;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x524D;&#x8005;&#x53EA;&#x662F;&#x4F1A;&#x8BDD;&#x7EA7;&#x522B;&#x7684;&#x5B58;&#x50A8;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;&#x3002;&#x4F1A;&#x8BDD;&#x7ED3;&#x675F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x9875;&#x9762;&#x5173;&#x95ED;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;<code>sessionStorage</code>&#x5C31;&#x4E0D;&#x590D;&#x5B58;&#x5728;&#x4E86;&#x3002;</p><h4 id="&#x5E94;&#x7528;&#x573A;&#x666F;-1"><a href="#&#x5E94;&#x7528;&#x573A;&#x666F;-1" class="headerlink" title="&#x5E94;&#x7528;&#x573A;&#x666F;"></a>&#x5E94;&#x7528;&#x573A;&#x666F;</h4><ol><li>&#x53EF;&#x4EE5;&#x7528;&#x5B83;&#x5BF9;&#x8868;&#x5355;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x7EF4;&#x62A4;&#xFF0C;&#x5C06;&#x8868;&#x5355;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5728;&#x91CC;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x9875;&#x9762;&#x5373;&#x4F7F;&#x5237;&#x65B0;&#x4E5F;&#x4E0D;&#x4F1A;&#x8BA9;&#x4E4B;&#x524D;&#x7684;&#x8868;&#x5355;&#x4FE1;&#x606F;&#x4E22;&#x5931;&#x3002;</li><li>&#x53EF;&#x4EE5;&#x7528;&#x5B83;&#x5B58;&#x50A8;&#x672C;&#x6B21;&#x6D4F;&#x89C8;&#x8BB0;&#x5F55;&#x3002;&#x5982;&#x679C;&#x5173;&#x95ED;&#x9875;&#x9762;&#x540E;&#x4E0D;&#x9700;&#x8981;&#x8FD9;&#x4E9B;&#x8BB0;&#x5F55;&#xFF0C;&#x7528;<code>sessionStorage</code>&#x5C31;&#x518D;&#x5408;&#x9002;&#x4E0D;&#x8FC7;&#x4E86;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#x5FAE;&#x535A;&#x5C31;&#x91C7;&#x53D6;&#x4E86;&#x8FD9;&#x6837;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x3002;</li></ol><h3 id="IndexedDB"><a href="#IndexedDB" class="headerlink" title="IndexedDB"></a>IndexedDB</h3><p><code>IndexedDB</code>&#x662F;&#x8FD0;&#x884C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x7684;<code>&#x975E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;</code>, &#x672C;&#x8D28;&#x4E0A;&#x662F;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x7EDD;&#x4E0D;&#x662F;&#x548C;&#x521A;&#x624D;WebStorage&#x7684; 5M &#x4E00;&#x4E2A;&#x91CF;&#x7EA7;&#xFF0C;&#x7406;&#x8BBA;&#x4E0A;&#x8FD9;&#x4E2A;&#x5BB9;&#x91CF;&#x662F;&#x6CA1;&#x6709;&#x4E0A;&#x9650;&#x7684;&#x3002;</p><p>&#x5173;&#x4E8E;&#x5B83;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x672C;&#x6587;&#x4FA7;&#x91CD;&#x539F;&#x7406;&#xFF0C;&#x800C;&#x4E14; MDN &#x4E0A;&#x7684;&#x6559;&#x7A0B;&#x6587;&#x6863;&#x5DF2;&#x7ECF;&#x975E;&#x5E38;&#x8BE6;&#x5C3D;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x505A;&#x8D58;&#x8FF0;&#x4E86;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x53EF;&#x4EE5;&#x770B;&#x4E00;&#x4E0B;&#x4F7F;&#x7528;&#x6587;&#x6863;&#x3002;</p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6765;&#x5206;&#x6790;&#x4E00;&#x4E0B;<code>IndexedDB</code>&#x7684;&#x4E00;&#x4E9B;&#x91CD;&#x8981;&#x7279;&#x6027;&#xFF0C;&#x9664;&#x4E86;&#x62E5;&#x6709;&#x6570;&#x636E;&#x5E93;&#x672C;&#x8EAB;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x6BD4;&#x5982;<code>&#x652F;&#x6301;&#x4E8B;&#x52A1;</code>&#xFF0C;<code>&#x5B58;&#x50A8;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;</code>&#xFF0C;&#x8FD8;&#x6709;&#x8FD9;&#x6837;&#x4E00;&#x4E9B;&#x7279;&#x6027;&#x9700;&#x8981;&#x683C;&#x5916;&#x6CE8;&#x610F;&#xFF1A;</p><ol><li>&#x952E;&#x503C;&#x5BF9;&#x5B58;&#x50A8;&#x3002;&#x5185;&#x90E8;&#x91C7;&#x7528;<code>&#x5BF9;&#x8C61;&#x4ED3;&#x5E93;</code>&#x5B58;&#x653E;&#x6570;&#x636E;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x4ED3;&#x5E93;&#x4E2D;&#x6570;&#x636E;&#x91C7;&#x7528;<strong>&#x952E;&#x503C;&#x5BF9;</strong>&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5B58;&#x50A8;&#x3002;</li><li>&#x5F02;&#x6B65;&#x64CD;&#x4F5C;&#x3002;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8BFB;&#x5199;&#x5C5E;&#x4E8E; I/O &#x64CD;&#x4F5C;, &#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5BF9;&#x5F02;&#x6B65; I/O &#x63D0;&#x4F9B;&#x4E86;&#x652F;&#x6301;&#x3002;</li><li>&#x53D7;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x9650;&#x5236;&#xFF0C;&#x5373;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x8DE8;&#x57DF;&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;</li></ol><h3 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><p>&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5404;&#x79CD;&#x672C;&#x5730;&#x5B58;&#x50A8;&#x548C;&#x7F13;&#x5B58;&#x6280;&#x672F;&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x7ED9;&#x524D;&#x7AEF;&#x5E94;&#x7528;&#x5E26;&#x6765;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x673A;&#x4F1A;&#xFF0C;PWA &#x4E5F;&#x6B63;&#x662F;&#x4F9D;&#x6258;&#x4E86;&#x8FD9;&#x4E9B;&#x4F18;&#x79C0;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x6848;&#x624D;&#x5F97;&#x4EE5;&#x53D1;&#x5C55;&#x8D77;&#x6765;&#x3002;&#x91CD;&#x65B0;&#x68B3;&#x7406;&#x4E00;&#x4E0B;&#x8FD9;&#x4E9B;&#x672C;&#x5730;&#x5B58;&#x50A8;&#x65B9;&#x6848;:</p><ol><li><code>cookie</code>&#x5E76;&#x4E0D;&#x9002;&#x5408;&#x5B58;&#x50A8;&#xFF0C;&#x800C;&#x4E14;&#x5B58;&#x5728;&#x975E;&#x5E38;&#x591A;&#x7684;&#x7F3A;&#x9677;&#x3002;</li><li><code>Web Storage</code>&#x5305;&#x62EC;<code>localStorage</code>&#x548C;<code>sessionStorage</code>, &#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x53C2;&#x4E0E;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x901A;&#x4FE1;&#x3002;</li><li><code>IndexedDB</code>&#x4E3A;&#x8FD0;&#x884C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E0A;&#x7684;&#x975E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E3A;&#x5927;&#x578B;&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;&#x63D0;&#x4F9B;&#x4E86;&#x63A5;&#x53E3;&#x3002;</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;#x6D4F;&amp;#x89C8;&amp;#x5668;&amp;#x7684;&amp;#x672C;&amp;#x5730;&amp;#x5B58;&amp;#x50A8;&amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x4E3A;&lt;code&gt;Cookie&lt;/code&gt;&amp;#x3001;&lt;code&gt;WebStora
      
    
    </summary>
    
    
      <category term="js知识库" scheme="https://over58.github.io/categories/js%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>vue2.x的合并策略</title>
    <link href="https://over58.github.io/2020/12/27/vue2.x%E7%9A%84%E5%90%88%E5%B9%B6%E7%AD%96%E7%95%A5/"/>
    <id>https://over58.github.io/2020/12/27/vue2.x%E7%9A%84%E5%90%88%E5%B9%B6%E7%AD%96%E7%95%A5/</id>
    <published>2020-12-27T15:53:55.000Z</published>
    <updated>2020-12-27T15:53:55.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="data"><a href="#data" class="headerlink" title="data"></a>data</h1><ol><li>&#x6743;&#x91CD;</li></ol><blockquote><p>&#x81EA;&#x5DF1;&#x7684;data&gt; mixins&#x7684;data &gt; mixins&#x7684;mixins&#x7684;data &#x2026; &gt; &#x5168;&#x5C40;&#x7684;mixins&#x7684;data</p></blockquote><ol start="2"><li>&#x76F8;&#x540C;&#x7684;&#x5C5E;&#x6027;&#x7684;&#x8BDD;&#xFF0C;&#x5982;&#x679C;&#x53CC;&#x65B9;&#x90FD;&#x662F;&#x5BF9;&#x8C61;&#x7684;&#x8BDD;&#xFF0C;&#x5BF9;&#x8C61;&#x4F1A;&#x88AB;&#x9012;&#x5F52;&#x5408;&#x5E76;</li></ol><h1 id="hooks"><a href="#hooks" class="headerlink" title="hooks"></a>hooks</h1><blockquote><p>&#x5408;&#x5E76;&#x4E3A;array</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeHook</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  parentVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  childVal</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> res = childVal</span><br><span class="line">    ? parentVal</span><br><span class="line">      ? parentVal.concat(childVal)</span><br><span class="line">      : <span class="built_in">Array</span>.isArray(childVal)</span><br><span class="line">        ? childVal</span><br><span class="line">        : [childVal]</span><br><span class="line">    : parentVal;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">    ? dedupeHooks(res)</span><br><span class="line">    : res</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h1 id="watcher"><a href="#watcher" class="headerlink" title="watcher"></a>watcher</h1><blockquote><p>merged as array</p></blockquote><p>&#x3010;&#x7236;&#x5143;&#x7D20;&#x7684;watcher,&#x81EA;&#x5DF1;&#x7684;watcher&#x2026;&#x3011;</p><h1 id="props-computed-inject-methods"><a href="#props-computed-inject-methods" class="headerlink" title="props, computed, inject, methods"></a>props, computed, inject, methods</h1><p>&#x6B63;&#x5E38;&#x5BF9;&#x8C61;&#x5408;&#x5E76;&#xFF0C;&#x540C;&#x5C5E;&#x6027;&#x540D;&#x65F6;&#xFF0C;&#x81EA;&#x5DF1;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#xFF0C; &#x76F4;&#x63A5;&#x66FF;&#x6362;&#x6389;&#x7236;&#x7EA7;&#x7684;&#x540C;&#x540D;&#x5C5E;&#x6027;</p><a id="more"></a><h1 id="&#x4EE5;&#x4E0A;&#x6240;&#x6709;&#x7ED3;&#x8BBA;&#x7684;&#x76F8;&#x5173;&#x6E90;&#x7801;"><a href="#&#x4EE5;&#x4E0A;&#x6240;&#x6709;&#x7ED3;&#x8BBA;&#x7684;&#x76F8;&#x5173;&#x6E90;&#x7801;" class="headerlink" title="&#x4EE5;&#x4E0A;&#x6240;&#x6709;&#x7ED3;&#x8BBA;&#x7684;&#x76F8;&#x5173;&#x6E90;&#x7801;"></a>&#x4EE5;&#x4E0A;&#x6240;&#x6709;&#x7ED3;&#x8BBA;&#x7684;&#x76F8;&#x5173;&#x6E90;&#x7801;</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &#x5904;&#x7406;&#x5408;&#x5E76;&#x7B56;&#x7565;</span></span><br><span class="line"><span class="comment"> * Option overwriting strategies are functions that handle</span></span><br><span class="line"><span class="comment"> * how to merge a parent option value and a child option</span></span><br><span class="line"><span class="comment"> * value into the final value.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> strats = config.optionMergeStrategies;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Options with restrictions</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&apos;production&apos;</span>) {</span><br><span class="line">  strats.el = strats.propsData = <span class="function"><span class="keyword">function</span> (<span class="params">parent, child, vm, key</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (!vm) {</span><br><span class="line">      warn(</span><br><span class="line">        <span class="string">&quot;option \&quot;&quot;</span> + key + <span class="string">&quot;\&quot; can only be used during instance &quot;</span> +</span><br><span class="line">        <span class="string">&apos;creation with the `new` keyword.&apos;</span></span><br><span class="line">      );</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> defaultStrat(parent, child)</span><br><span class="line">  };</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Helper that recursively merges two data objects together.</span></span><br><span class="line"><span class="comment"> * merge&#x6570;&#x636E;&#xFF0C; &#x5982;&#x679C;&#x53CC;&#x65B9;&#x7684;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x4E5F;&#x90FD;&#x662F;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x4E5F;&#x8FDB;&#x884C;merge</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeData</span> (<span class="params">to, from</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (!<span class="keyword">from</span>) { <span class="keyword">return</span> to }</span><br><span class="line">  <span class="keyword">var</span> key, toVal, fromVal;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> keys = hasSymbol</span><br><span class="line">    ? <span class="built_in">Reflect</span>.ownKeys(<span class="keyword">from</span>)</span><br><span class="line">    : <span class="built_in">Object</span>.keys(<span class="keyword">from</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; keys.length; i++) {</span><br><span class="line">    key = keys[i];</span><br><span class="line">    <span class="comment">// in case the object is already observed...</span></span><br><span class="line">    <span class="keyword">if</span> (key === <span class="string">&apos;__ob__&apos;</span>) { <span class="keyword">continue</span> }</span><br><span class="line">    toVal = to[key];</span><br><span class="line">    fromVal = <span class="keyword">from</span>[key];</span><br><span class="line">    <span class="keyword">if</span> (!hasOwn(to, key)) {</span><br><span class="line">      <span class="keyword">set</span>(to, key, fromVal);</span><br><span class="line">    } else if (</span><br><span class="line">      toVal !== fromVal &amp;&amp;</span><br><span class="line">      isPlainObject(toVal) &amp;&amp;</span><br><span class="line">      isPlainObject(fromVal)</span><br><span class="line">    ) {</span><br><span class="line">      <span class="comment">// &#x9012;&#x5F52;&#x7684;merge&#x6570;&#x636E;&#x5BF9;&#x8C61;</span></span><br><span class="line">      mergeData(toVal, fromVal);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> to</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Data</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeDataOrFn</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  parentVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  childVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  vm</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (!vm) {</span><br><span class="line">    <span class="comment">// in a Vue.extend merge, both should be functions</span></span><br><span class="line">    <span class="keyword">if</span> (!childVal) {</span><br><span class="line">      <span class="keyword">return</span> parentVal</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (!parentVal) {</span><br><span class="line">      <span class="keyword">return</span> childVal</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// when parentVal &amp; childVal are both present,</span></span><br><span class="line">    <span class="comment">// we need to return a function that returns the</span></span><br><span class="line">    <span class="comment">// merged result of both functions... no need to</span></span><br><span class="line">    <span class="comment">// check if parentVal is a function here because</span></span><br><span class="line">    <span class="comment">// it has to be a function to pass previous merges.</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">mergedDataFn</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="keyword">return</span> mergeData(</span><br><span class="line">        <span class="keyword">typeof</span> childVal === <span class="string">&apos;function&apos;</span> ? childVal.call(<span class="keyword">this</span>, <span class="keyword">this</span>) : childVal,</span><br><span class="line">        <span class="keyword">typeof</span> parentVal === <span class="string">&apos;function&apos;</span> ? parentVal.call(<span class="keyword">this</span>, <span class="keyword">this</span>) : parentVal</span><br><span class="line">      )</span><br><span class="line">    }</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">mergedInstanceDataFn</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="comment">// instance merge&#xFF0C;</span></span><br><span class="line">      <span class="keyword">var</span> instanceData = <span class="keyword">typeof</span> childVal === <span class="string">&apos;function&apos;</span></span><br><span class="line">        ? childVal.call(vm, vm)</span><br><span class="line">        : childVal;</span><br><span class="line">      <span class="keyword">var</span> defaultData = <span class="keyword">typeof</span> parentVal === <span class="string">&apos;function&apos;</span></span><br><span class="line">        ? parentVal.call(vm, vm)</span><br><span class="line">        : parentVal;</span><br><span class="line">      <span class="keyword">if</span> (instanceData) {</span><br><span class="line">        <span class="keyword">return</span> mergeData(instanceData, defaultData)</span><br><span class="line">      } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> defaultData</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5408;&#x5E76;data</span></span><br><span class="line">strats.data = <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  parentVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  childVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  vm</span></span></span><br><span class="line"><span class="function"><span class="params">  </span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (!vm) {</span><br><span class="line">      <span class="keyword">if</span> (childVal &amp;&amp; <span class="keyword">typeof</span> childVal !== <span class="string">&apos;function&apos;</span>) {</span><br><span class="line">        process.env.NODE_ENV !== <span class="string">&apos;production&apos;</span> &amp;&amp; warn(</span><br><span class="line">          <span class="string">&apos;The &quot;data&quot; option should be a function &apos;</span> +</span><br><span class="line">          <span class="string">&apos;that returns a per-instance value in component &apos;</span> +</span><br><span class="line">          <span class="string">&apos;definitions.&apos;</span>,</span><br><span class="line">          vm</span><br><span class="line">          );</span><br><span class="line">          </span><br><span class="line">          <span class="keyword">return</span> parentVal</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> mergeDataOrFn(parentVal, childVal)</span><br><span class="line">      }</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> mergeDataOrFn(parentVal, childVal, vm)</span><br><span class="line">    };</span><br><span class="line">    </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Hooks and props are merged as arrays.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeHook</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  parentVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  childVal</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> res = childVal</span><br><span class="line">    ? parentVal</span><br><span class="line">      ? parentVal.concat(childVal)</span><br><span class="line">      : <span class="built_in">Array</span>.isArray(childVal)</span><br><span class="line">        ? childVal</span><br><span class="line">        : [childVal]</span><br><span class="line">    : parentVal;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">    ? dedupeHooks(res)</span><br><span class="line">    : res</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dedupeHooks</span> (<span class="params">hooks</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> res = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; hooks.length; i++) {</span><br><span class="line">    <span class="keyword">if</span> (res.indexOf(hooks[i]) === <span class="number">-1</span>) {</span><br><span class="line">      res.push(hooks[i]);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">LIFECYCLE_HOOKS.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">hook</span>) </span>{</span><br><span class="line">  strats[hook] = mergeHook;</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Assets</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * When a vm is present (instance creation), we need to do</span></span><br><span class="line"><span class="comment"> * a three-way merge between constructor options, instance</span></span><br><span class="line"><span class="comment"> * options and parent options.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeAssets</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  parentVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  childVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  vm,</span></span></span><br><span class="line"><span class="function"><span class="params">  key</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> res = <span class="built_in">Object</span>.create(parentVal || <span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">if</span> (childVal) {</span><br><span class="line">    process.env.NODE_ENV !== <span class="string">&apos;production&apos;</span> &amp;&amp; assertObjectType(key, childVal, vm);</span><br><span class="line">    <span class="keyword">return</span> extend(res, childVal)</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">ASSET_TYPES.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">type</span>) </span>{</span><br><span class="line">  strats[type + <span class="string">&apos;s&apos;</span>] = mergeAssets;</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Watchers.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Watchers hashes should not overwrite one</span></span><br><span class="line"><span class="comment"> * another, so we merge them as arrays.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">strats.watch = <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  parentVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  childVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  vm,</span></span></span><br><span class="line"><span class="function"><span class="params">  key</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>{</span><br><span class="line">  <span class="comment">// work around Firefox&apos;s Object.prototype.watch...</span></span><br><span class="line">  <span class="keyword">if</span> (parentVal === nativeWatch) { parentVal = <span class="literal">undefined</span>; }</span><br><span class="line">  <span class="keyword">if</span> (childVal === nativeWatch) { childVal = <span class="literal">undefined</span>; }</span><br><span class="line">  <span class="comment">/* istanbul ignore if */</span></span><br><span class="line">  <span class="keyword">if</span> (!childVal) { <span class="keyword">return</span> <span class="built_in">Object</span>.create(parentVal || <span class="literal">null</span>) }</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&apos;production&apos;</span>) {</span><br><span class="line">    assertObjectType(key, childVal, vm);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">if</span> (!parentVal) { <span class="keyword">return</span> childVal }</span><br><span class="line">  <span class="keyword">var</span> ret = {};</span><br><span class="line">  extend(ret, parentVal);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key$<span class="number">1</span> <span class="keyword">in</span> childVal) {</span><br><span class="line">    <span class="keyword">var</span> parent = ret[key$<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">var</span> child = childVal[key$<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (parent &amp;&amp; !<span class="built_in">Array</span>.isArray(parent)) {</span><br><span class="line">      parent = [parent];</span><br><span class="line">    }</span><br><span class="line">    ret[key$<span class="number">1</span>] = parent</span><br><span class="line">      ? parent.concat(child)</span><br><span class="line">      : <span class="built_in">Array</span>.isArray(child) ? child : [child];</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> ret</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Other object hashes.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">strats.props =</span><br><span class="line">strats.methods =</span><br><span class="line">strats.inject =</span><br><span class="line">strats.computed = <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  parentVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  childVal,</span></span></span><br><span class="line"><span class="function"><span class="params">  vm,</span></span></span><br><span class="line"><span class="function"><span class="params">  key</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (childVal &amp;&amp; process.env.NODE_ENV !== <span class="string">&apos;production&apos;</span>) {</span><br><span class="line">    assertObjectType(key, childVal, vm);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">if</span> (!parentVal) { <span class="keyword">return</span> childVal }</span><br><span class="line">  <span class="keyword">var</span> ret = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">  extend(ret, parentVal);</span><br><span class="line">  <span class="keyword">if</span> (childVal) { extend(ret, childVal); }</span><br><span class="line">  <span class="keyword">return</span> ret</span><br><span class="line">};</span><br><span class="line">strats.provide = mergeDataOrFn;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Default strategy.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> defaultStrat = <span class="function"><span class="keyword">function</span> (<span class="params">parentVal, childVal</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> childVal === <span class="literal">undefined</span></span><br><span class="line">    ? parentVal</span><br><span class="line">    : childVal</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Validate component names</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkComponents</span> (<span class="params">options</span>) </span>{</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> options.components) {</span><br><span class="line">    validateComponentName(key);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validateComponentName</span> (<span class="params">name</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (!<span class="keyword">new</span> <span class="built_in">RegExp</span>((<span class="string">&quot;^[a-zA-Z][\\-\\.0-9_&quot;</span> + (unicodeRegExp.source) + <span class="string">&quot;]*$&quot;</span>)).test(name)) {</span><br><span class="line">    warn(</span><br><span class="line">      <span class="string">&apos;Invalid component name: &quot;&apos;</span> + name + <span class="string">&apos;&quot;. Component names &apos;</span> +</span><br><span class="line">      <span class="string">&apos;should conform to valid custom element name in html5 specification.&apos;</span></span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">if</span> (isBuiltInTag(name) || config.isReservedTag(name)) {</span><br><span class="line">    warn(</span><br><span class="line">      <span class="string">&apos;Do not use built-in or reserved HTML elements as component &apos;</span> +</span><br><span class="line">      <span class="string">&apos;id: &apos;</span> + name</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Ensure all props option syntax are normalized into the</span></span><br><span class="line"><span class="comment"> * Object-based format.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalizeProps</span> (<span class="params">options, vm</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> props = options.props;</span><br><span class="line">  <span class="keyword">if</span> (!props) { <span class="keyword">return</span> }</span><br><span class="line">  <span class="keyword">var</span> res = {};</span><br><span class="line">  <span class="keyword">var</span> i, val, name;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(props)) {</span><br><span class="line">    i = props.length;</span><br><span class="line">    <span class="keyword">while</span> (i--) {</span><br><span class="line">      val = props[i];</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">&apos;string&apos;</span>) {</span><br><span class="line">        name = camelize(val);</span><br><span class="line">        res[name] = { <span class="attr">type</span>: <span class="literal">null</span> };</span><br><span class="line">      } <span class="keyword">else</span> <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&apos;production&apos;</span>) {</span><br><span class="line">        warn(<span class="string">&apos;props must be strings when using array syntax.&apos;</span>);</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  } <span class="keyword">else</span> <span class="keyword">if</span> (isPlainObject(props)) {</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> props) {</span><br><span class="line">      val = props[key];</span><br><span class="line">      name = camelize(key);</span><br><span class="line">      res[name] = isPlainObject(val)</span><br><span class="line">        ? val</span><br><span class="line">        : { <span class="attr">type</span>: val };</span><br><span class="line">    }</span><br><span class="line">  } <span class="keyword">else</span> <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&apos;production&apos;</span>) {</span><br><span class="line">    warn(</span><br><span class="line">      <span class="string">&quot;Invalid value for option \&quot;props\&quot;: expected an Array or an Object, &quot;</span> +</span><br><span class="line">      <span class="string">&quot;but got &quot;</span> + (toRawType(props)) + <span class="string">&quot;.&quot;</span>,</span><br><span class="line">      vm</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">  options.props = res;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Normalize all injections into Object-based format</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalizeInject</span> (<span class="params">options, vm</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> inject = options.inject;</span><br><span class="line">  <span class="keyword">if</span> (!inject) { <span class="keyword">return</span> }</span><br><span class="line">  <span class="keyword">var</span> normalized = options.inject = {};</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(inject)) {</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; inject.length; i++) {</span><br><span class="line">      normalized[inject[i]] = { <span class="attr">from</span>: inject[i] };</span><br><span class="line">    }</span><br><span class="line">  } <span class="keyword">else</span> <span class="keyword">if</span> (isPlainObject(inject)) {</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> inject) {</span><br><span class="line">      <span class="keyword">var</span> val = inject[key];</span><br><span class="line">      normalized[key] = isPlainObject(val)</span><br><span class="line">        ? extend({ <span class="attr">from</span>: key }, val)</span><br><span class="line">        : { <span class="attr">from</span>: val };</span><br><span class="line">    }</span><br><span class="line">  } <span class="keyword">else</span> <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&apos;production&apos;</span>) {</span><br><span class="line">    warn(</span><br><span class="line">      <span class="string">&quot;Invalid value for option \&quot;inject\&quot;: expected an Array or an Object, &quot;</span> +</span><br><span class="line">      <span class="string">&quot;but got &quot;</span> + (toRawType(inject)) + <span class="string">&quot;.&quot;</span>,</span><br><span class="line">      vm</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Normalize raw function directives into object format.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalizeDirectives</span> (<span class="params">options</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> dirs = options.directives;</span><br><span class="line">  <span class="keyword">if</span> (dirs) {</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> dirs) {</span><br><span class="line">      <span class="keyword">var</span> def$$<span class="number">1</span> = dirs[key];</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> def$$<span class="number">1</span> === <span class="string">&apos;function&apos;</span>) {</span><br><span class="line">        dirs[key] = { <span class="attr">bind</span>: def$$<span class="number">1</span>, <span class="attr">update</span>: def$$<span class="number">1</span> };</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">assertObjectType</span> (<span class="params">name, value, vm</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (!isPlainObject(value)) {</span><br><span class="line">    warn(</span><br><span class="line">      <span class="string">&quot;Invalid value for option \&quot;&quot;</span> + name + <span class="string">&quot;\&quot;: expected an Object, &quot;</span> +</span><br><span class="line">      <span class="string">&quot;but got &quot;</span> + (toRawType(value)) + <span class="string">&quot;.&quot;</span>,</span><br><span class="line">      vm</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Merge two option objects into a new one.</span></span><br><span class="line"><span class="comment"> * Core utility used in both instantiation and inheritance.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeOptions</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  parent,</span></span></span><br><span class="line"><span class="function"><span class="params">  child,</span></span></span><br><span class="line"><span class="function"><span class="params">  vm</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&apos;production&apos;</span>) {</span><br><span class="line">    checkComponents(child);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> child === <span class="string">&apos;function&apos;</span>) {</span><br><span class="line">    child = child.options;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  normalizeProps(child, vm);</span><br><span class="line">  normalizeInject(child, vm);</span><br><span class="line">  normalizeDirectives(child);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Apply extends and mixins on the child options,</span></span><br><span class="line">  <span class="comment">// but only if it is a raw options object that isn&apos;t</span></span><br><span class="line">  <span class="comment">// the result of another mergeOptions call.</span></span><br><span class="line">  <span class="comment">// Only merged options has the _base property.</span></span><br><span class="line">  <span class="keyword">if</span> (!child._base) {</span><br><span class="line">    <span class="keyword">if</span> (child.extends) {</span><br><span class="line">      parent = mergeOptions(parent, child.extends, vm);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (child.mixins) {</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, l = child.mixins.length; i &lt; l; i++) {</span><br><span class="line">        parent = mergeOptions(parent, child.mixins[i], vm);</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> options = {};</span><br><span class="line">  <span class="keyword">var</span> key;</span><br><span class="line">  <span class="keyword">for</span> (key <span class="keyword">in</span> parent) {</span><br><span class="line">    mergeField(key);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">for</span> (key <span class="keyword">in</span> child) {</span><br><span class="line">    <span class="keyword">if</span> (!hasOwn(parent, key)) {</span><br><span class="line">      mergeField(key);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">mergeField</span> (<span class="params">key</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> strat = strats[key] || defaultStrat;</span><br><span class="line">    options[key] = strat(parent[key], child[key], vm, key);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> options</span><br><span class="line">}</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;data&quot;&gt;&lt;a href=&quot;#data&quot; class=&quot;headerlink&quot; title=&quot;data&quot;&gt;&lt;/a&gt;data&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&amp;#x6743;&amp;#x91CD;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;data&amp;gt; mixins&amp;#x7684;data &amp;gt; mixins&amp;#x7684;mixins&amp;#x7684;data &amp;#x2026; &amp;gt; &amp;#x5168;&amp;#x5C40;&amp;#x7684;mixins&amp;#x7684;data&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;&amp;#x76F8;&amp;#x540C;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x53CC;&amp;#x65B9;&amp;#x90FD;&amp;#x662F;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x5BF9;&amp;#x8C61;&amp;#x4F1A;&amp;#x88AB;&amp;#x9012;&amp;#x5F52;&amp;#x5408;&amp;#x5E76;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;hooks&quot;&gt;&lt;a href=&quot;#hooks&quot; class=&quot;headerlink&quot; title=&quot;hooks&quot;&gt;&lt;/a&gt;hooks&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x5408;&amp;#x5E76;&amp;#x4E3A;array&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;mergeHook&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;  parentVal,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;  childVal&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; res = childVal&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ? parentVal&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      ? parentVal.concat(childVal)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      : &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.isArray(childVal)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ? childVal&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        : [childVal]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    : parentVal;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; res&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ? dedupeHooks(res)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    : res&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;watcher&quot;&gt;&lt;a href=&quot;#watcher&quot; class=&quot;headerlink&quot; title=&quot;watcher&quot;&gt;&lt;/a&gt;watcher&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;merged as array&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x3010;&amp;#x7236;&amp;#x5143;&amp;#x7D20;&amp;#x7684;watcher,&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;watcher&amp;#x2026;&amp;#x3011;&lt;/p&gt;
&lt;h1 id=&quot;props-computed-inject-methods&quot;&gt;&lt;a href=&quot;#props-computed-inject-methods&quot; class=&quot;headerlink&quot; title=&quot;props, computed, inject, methods&quot;&gt;&lt;/a&gt;props, computed, inject, methods&lt;/h1&gt;&lt;p&gt;&amp;#x6B63;&amp;#x5E38;&amp;#x5BF9;&amp;#x8C61;&amp;#x5408;&amp;#x5E76;&amp;#xFF0C;&amp;#x540C;&amp;#x5C5E;&amp;#x6027;&amp;#x540D;&amp;#x65F6;&amp;#xFF0C;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x9AD8;&amp;#xFF0C; &amp;#x76F4;&amp;#x63A5;&amp;#x66FF;&amp;#x6362;&amp;#x6389;&amp;#x7236;&amp;#x7EA7;&amp;#x7684;&amp;#x540C;&amp;#x540D;&amp;#x5C5E;&amp;#x6027;&lt;/p&gt;
    
    </summary>
    
    
      <category term="vue" scheme="https://over58.github.io/categories/vue/"/>
    
    
  </entry>
  
  <entry>
    <title>vue中自定义属性的d.ts书写问题</title>
    <link href="https://over58.github.io/2020/12/27/vue%E4%B8%AD%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7%E7%9A%84d-ts%E4%B9%A6%E5%86%99%E9%97%AE%E9%A2%98/"/>
    <id>https://over58.github.io/2020/12/27/vue%E4%B8%AD%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7%E7%9A%84d-ts%E4%B9%A6%E5%86%99%E9%97%AE%E9%A2%98/</id>
    <published>2020-12-27T15:53:55.000Z</published>
    <updated>2020-12-27T15:53:55.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x5728;vue&#x7684;instance&#x4E0A;&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5C5E;&#x6027;"><a href="#&#x5728;vue&#x7684;instance&#x4E0A;&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5C5E;&#x6027;" class="headerlink" title="&#x5728;vue&#x7684;instance&#x4E0A;&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5C5E;&#x6027;"></a>&#x5728;vue&#x7684;instance&#x4E0A;&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5C5E;&#x6027;</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// plugin.ts</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">plugin</span>:PluginInterface = {</span><br><span class="line"></span><br><span class="line">    install (<span class="keyword">app</span>: <span class="keyword">App</span>) {</span><br><span class="line">           <span class="keyword">app</span>.config.<span class="keyword">global</span>.globalProperties.http = http</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//plugin.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">interface</span> PluginInterface {</span><br><span class="line">  install: PluginInstallFunction,</span><br><span class="line">  initVue: <span class="function">(<span class="params">instance: App, layout: <span class="built_in">any</span></span>) =&gt;</span> App</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="&#x5728;window&#x4E0A;&#x6302;&#x8F7D;&#x81EA;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;"><a href="#&#x5728;window&#x4E0A;&#x6302;&#x8F7D;&#x81EA;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;" class="headerlink" title="&#x5728;window&#x4E0A;&#x6302;&#x8F7D;&#x81EA;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;"></a>&#x5728;window&#x4E0A;&#x6302;&#x8F7D;&#x81EA;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> global{</span><br><span class="line">   <span class="built_in"> interface </span>Window {</span><br><span class="line">        webkit: any</span><br><span class="line">        Vue: any,</span><br><span class="line">        _hmt: any,</span><br><span class="line">        msRequestAnimationFrame?:any</span><br><span class="line">        mozRequestAnimationFrame?:any</span><br><span class="line">        WeixinJSBridge: any</span><br><span class="line">        wx: any</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x5728;vue&amp;#x7684;instance&amp;#x4E0A;&amp;#x6DFB;&amp;#x52A0;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&quot;&gt;&lt;a href=&quot;#&amp;#x5728;vue&amp;#x7684;in
      
    
    </summary>
    
    
      <category term="typescript" scheme="https://over58.github.io/categories/typescript/"/>
    
    
  </entry>
  
  <entry>
    <title>require和import比较</title>
    <link href="https://over58.github.io/2020/12/27/require%E5%92%8Cimport%E6%AF%94%E8%BE%83/"/>
    <id>https://over58.github.io/2020/12/27/require%E5%92%8Cimport%E6%AF%94%E8%BE%83/</id>
    <published>2020-12-27T15:39:40.000Z</published>
    <updated>2020-12-27T15:39:40.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="A&#x2013;require-&#x548C;-import&#x6BD4;&#x8F83;"><a href="#A&#x2013;require-&#x548C;-import&#x6BD4;&#x8F83;" class="headerlink" title="A&#x2013;require &#x548C; import&#x6BD4;&#x8F83;"></a>A&#x2013;require &#x548C; import&#x6BD4;&#x8F83;</h3><table><thead><tr><th></th><th>&#x51FA;&#x73B0;&#x65F6;&#x95F4;</th><th>&#x52A0;&#x8F7D;&#x673A;&#x5236;</th><th>&#x8F93;&#x51FA;</th><th>&#x7528;&#x6CD5;</th><th>&#x7279;&#x70B9;</th></tr></thead><tbody><tr><td>require</td><td>2009</td><td>&#x8FD0;&#x884C;&#x65F6;&#x52A0;&#x8F7D;</td><td>&#x6D45;&#x62F7;&#x8D1D;</td><td>&#x89C1;&#x4E0B;</td><td>&#x793E;&#x533A;&#x65B9;&#x6848;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x670D;&#x52A1;&#x5668;/&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x65B9;&#x6848;&#x3002;&#x975E;&#x8BED;&#x8A00;&#x5C42;&#x9762;&#x7684;&#x6807;&#x51C6;&#x3002;&#x53EA;&#x80FD;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x786E;&#x5B9A;&#x6A21;&#x5757;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x53CA;&#x8F93;&#x5165;/&#x8F93;&#x51FA;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x65E0;&#x6CD5;&#x8FDB;&#x884C;&#x9759;&#x6001;&#x4F18;&#x5316;&#x3002;</td></tr><tr><td>import</td><td>2015</td><td>&#x9759;&#x6001;&#x7F16;&#x8BD1;</td><td>&#x503C;&#x5F15;&#x7528;</td><td>&#x89C1;&#x4E0B;</td><td>&#x8BED;&#x8A00;&#x89C4;&#x683C;&#x5C42;&#x9762;&#x652F;&#x6301;&#x6A21;&#x5757;&#x529F;&#x80FD;&#x3002;&#x652F;&#x6301;&#x7F16;&#x8BD1;&#x65F6;&#x9759;&#x6001;&#x5206;&#x6790;&#xFF0C;&#x4FBF;&#x4E8E;JS&#x5F15;&#x5165;&#x5B8F;&#x548C;&#x7C7B;&#x578B;&#x68C0;&#x9A8C;&#x3002;&#x52A8;&#x6001;&#x7ED1;&#x5B9A;</td></tr></tbody></table><h3 id="B&#x2013;&#x7528;&#x6CD5;&#x6BD4;&#x8F83;"><a href="#B&#x2013;&#x7528;&#x6CD5;&#x6BD4;&#x8F83;" class="headerlink" title="B&#x2013;&#x7528;&#x6CD5;&#x6BD4;&#x8F83;"></a>B&#x2013;&#x7528;&#x6CD5;&#x6BD4;&#x8F83;</h3><ul><li>require<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const <span class="built_in">fs</span> = require(&apos;<span class="built_in">fs</span>&apos;)</span><br><span class="line">exports.<span class="built_in">fs</span> = <span class="built_in">fs</span></span><br><span class="line">module.exports = <span class="built_in">fs</span></span><br></pre></td></tr></table></figure></li><li>import<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import fs <span class="keyword">from</span> <span class="string">&apos;fs&apos;</span></span><br><span class="line">import {default as fs} <span class="keyword">from</span> <span class="string">&apos;fs&apos;</span></span><br><span class="line">import * as fs <span class="keyword">from</span> <span class="string">&apos;fs&apos;</span></span><br><span class="line">import {readFile} <span class="keyword">from</span> <span class="string">&apos;fs&apos;</span></span><br><span class="line">import {readFile as read} <span class="keyword">from</span> <span class="string">&apos;fs&apos;</span></span><br><span class="line">import fs, {readFile} <span class="keyword">from</span> <span class="string">&apos;fs&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="builtin-name">export</span><span class="built_in"> default </span>fs</span><br><span class="line"><span class="builtin-name">export</span> const fs</span><br><span class="line"><span class="builtin-name">export</span> function readFile</span><br><span class="line"><span class="builtin-name">export</span> {readFile, read}</span><br><span class="line"><span class="builtin-name">export</span> * <span class="keyword">from</span> <span class="string">&apos;fs&apos;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="B1&#x2013;&#x652F;&#x6301;&#x5B9E;&#x73B0;&#x5EA6;"><a href="#B1&#x2013;&#x652F;&#x6301;&#x5B9E;&#x73B0;&#x5EA6;" class="headerlink" title="B1&#x2013;&#x652F;&#x6301;&#x5B9E;&#x73B0;&#x5EA6;"></a>B1&#x2013;&#x652F;&#x6301;&#x5B9E;&#x73B0;&#x5EA6;</h3><table><thead><tr><th>&#x6A21;&#x5757;</th><th>&#x6D4F;&#x89C8;&#x5668;</th><th>node</th></tr></thead><tbody><tr><td>require</td><td>x</td><td>&#x652F;&#x6301;</td></tr><tr><td>es module</td><td><a href="https://caniuse.com/#search=ES%20modules" target="_blank" rel="noopener">look</a></td><td>node &gt; 13</td></tr></tbody></table><h3 id="C&#x2013;&#x89E3;&#x6790;&#x7ED3;&#x679C;"><a href="#C&#x2013;&#x89E3;&#x6790;&#x7ED3;&#x679C;" class="headerlink" title="C&#x2013;&#x89E3;&#x6790;&#x7ED3;&#x679C;"></a>C&#x2013;&#x89E3;&#x6790;&#x7ED3;&#x679C;</h3><ul><li>require&#x662F;&#x8D4B;&#x503C;&#x8FC7;&#x7A0B;&#xFF0C;&#x5176;&#x5B9E;require&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x662F;&#x5BF9;&#x8C61;&#x3001;&#x6570;&#x5B57;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x51FD;&#x6570;&#x7B49;&#xFF0C;&#x518D;&#x628A;require&#x7684;&#x7ED3;&#x679C;&#x8D4B;&#x503C;&#x7ED9;&#x67D0;&#x4E2A;&#x53D8;&#x91CF;</li><li>import&#x662F;&#x89E3;&#x6784;&#x8FC7;&#x7A0B;&#xFF0C;&#x4F46;&#x662F;&#x76EE;&#x524D;&#x6240;&#x6709;&#x7684;&#x5F15;&#x64CE;&#x90FD;&#x8FD8;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;import&#xFF0C;&#x6211;&#x4EEC;&#x5728;node&#x4E2D;&#x4F7F;&#x7528;babel&#x652F;&#x6301;ES6&#xFF0C;&#x4E5F;&#x4EC5;&#x4EC5;&#x662F;&#x5C06;ES6&#x8F6C;&#x7801;&#x4E3A;ES5&#x518D;&#x6267;&#x884C;&#xFF0C;import&#x8BED;&#x6CD5;&#x4F1A;&#x88AB;&#x8F6C;&#x7801;&#x4E3A;require</li></ul><h3 id="D&#x2013;&#x5F15;&#x7528;&#x5B9E;&#x4F8B;"><a href="#D&#x2013;&#x5F15;&#x7528;&#x5B9E;&#x4F8B;" class="headerlink" title="D&#x2013;&#x5F15;&#x7528;&#x5B9E;&#x4F8B;"></a>D&#x2013;&#x5F15;&#x7528;&#x5B9E;&#x4F8B;</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES2015 modules</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ---------------------------------</span></span><br><span class="line"><span class="comment">// one.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&apos;running one.js&apos;</span>);</span><br><span class="line"><span class="keyword">import</span> { hello } <span class="keyword">from</span> <span class="string">&apos;./two.js&apos;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(hello);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---------------------------------</span></span><br><span class="line"><span class="comment">// two.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&apos;running two.js&apos;</span>);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> hello = <span class="string">&apos;Hello from two.js&apos;</span>;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CommonJS modules</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ---------------------------------</span></span><br><span class="line"><span class="comment">// one.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&apos;running one.js&apos;</span>);</span><br><span class="line"><span class="keyword">const</span> hello = <span class="built_in">require</span>(<span class="string">&apos;./two.js&apos;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(hello);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---------------------------------</span></span><br><span class="line"><span class="comment">// two.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&apos;running two.js&apos;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="string">&apos;Hello from two.js&apos;</span>;</span><br></pre></td></tr></table></figure><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">es6</span><br><span class="line">running <span class="literal">two</span>.js</span><br><span class="line">running <span class="literal">one</span>.js</span><br><span class="line">hello <span class="built_in">from</span> <span class="literal">two</span>.js</span><br><span class="line"></span><br><span class="line">commonjs</span><br><span class="line">running <span class="literal">one</span>.js</span><br><span class="line">running <span class="literal">two</span>.js</span><br><span class="line">hello <span class="built_in">from</span> <span class="literal">two</span>.js</span><br></pre></td></tr></table></figure><h3 id="E&#x2013;&#x524D;&#x666F;&#x5C55;&#x671B;&#xFF0C;&#x8C01;&#x4F1A;&#x4E00;&#x7EDF;&#x6A21;&#x5757;&#x6C5F;&#x6E56;"><a href="#E&#x2013;&#x524D;&#x666F;&#x5C55;&#x671B;&#xFF0C;&#x8C01;&#x4F1A;&#x4E00;&#x7EDF;&#x6A21;&#x5757;&#x6C5F;&#x6E56;" class="headerlink" title="E&#x2013;&#x524D;&#x666F;&#x5C55;&#x671B;&#xFF0C;&#x8C01;&#x4F1A;&#x4E00;&#x7EDF;&#x6A21;&#x5757;&#x6C5F;&#x6E56;"></a>E&#x2013;&#x524D;&#x666F;&#x5C55;&#x671B;&#xFF0C;&#x8C01;&#x4F1A;&#x4E00;&#x7EDF;&#x6A21;&#x5757;&#x6C5F;&#x6E56;</h3><ol><li>node &gt; 13 &#x5DF2;&#x7ECF;&#x5168;&#x9762;&#x652F;&#x6301; <a href="https://nodejs.org/docs/latest-v13.x/api/esm.html#esm_enabling" target="_blank" rel="noopener">link</a>,&#x76EE;&#x524D;&#x662F;&#x5171;&#x5B58;&#x5C40;&#x9762;</li><li>deno &#x4F7F;&#x7528;es&#x6A21;&#x5757;<a href="http://www.ruanyifeng.com/blog/2020/01/deno-intro.html" target="_blank" rel="noopener">deno</a></li><li>&#x4E24;&#x79CD;&#x540C;&#x4E8B;&#x5B58;&#x5728;&#x7684;&#x53EF;&#x80FD;&#x6027;&#xFF0C;&#x4E0D;&#x662F;&#x5F88;&#x5927;&#xFF0C;es6&#x6A21;&#x5757;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x666E;&#x53CA;&#xFF0C;&#x5EFA;&#x8BAE;&#x4EE5;&#x540E;&#x90FD;&#x4F7F;&#x7528;es6&#x6A21;&#x5757;&#x673A;&#x5236;</li></ol><h3 id="F&#x2013;&#x8D44;&#x6E90;&#x5206;&#x4EAB;-es-module-in-browser"><a href="#F&#x2013;&#x8D44;&#x6E90;&#x5206;&#x4EAB;-es-module-in-browser" class="headerlink" title="F&#x2013;&#x8D44;&#x6E90;&#x5206;&#x4EAB; es module in browser"></a>F&#x2013;&#x8D44;&#x6E90;&#x5206;&#x4EAB; <a href="https://www.zhangxinxu.com/wordpress/2018/08/browser-native-es6-export-import-module/" target="_blank" rel="noopener">es module in browser</a></h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;A&amp;#x2013;require-&amp;#x548C;-import&amp;#x6BD4;&amp;#x8F83;&quot;&gt;&lt;a href=&quot;#A&amp;#x2013;require-&amp;#x548C;-import&amp;#x6BD4;&amp;#x8F83;&quot; class=&quot;headerlink&quot; tit
      
    
    </summary>
    
    
      <category term="工程化" scheme="https://over58.github.io/categories/%E5%B7%A5%E7%A8%8B%E5%8C%96/"/>
    
    
  </entry>
  
  <entry>
    <title>深克隆和浅克隆</title>
    <link href="https://over58.github.io/2020/12/27/%E6%B7%B1%E5%85%8B%E9%9A%86%E5%92%8C%E6%B5%85%E5%85%8B%E9%9A%86/"/>
    <id>https://over58.github.io/2020/12/27/%E6%B7%B1%E5%85%8B%E9%9A%86%E5%92%8C%E6%B5%85%E5%85%8B%E9%9A%86/</id>
    <published>2020-12-27T15:32:40.000Z</published>
    <updated>2020-12-27T15:32:40.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x6982;&#x5FF5;"><a href="#&#x6982;&#x5FF5;" class="headerlink" title="&#x6982;&#x5FF5;"></a>&#x6982;&#x5FF5;</h3><h4 id="&#x6D45;&#x62F7;&#x8D1D;"><a href="#&#x6D45;&#x62F7;&#x8D1D;" class="headerlink" title="&#x6D45;&#x62F7;&#x8D1D;"></a>&#x6D45;&#x62F7;&#x8D1D;</h4><p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x6709;&#x7740;&#x5BF9;&#x539F;&#x59CB;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x503C;&#x7684;&#x4E00;&#x4EFD;&#x62F7;&#x8D1D;&#x3002;&#x5982;&#x679C;&#x5C5E;&#x6027;&#x662F;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#xFF0C;&#x62F7;&#x8D1D;&#x7684;&#x5C31;&#x662F;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x7684;&#x503C;&#xFF1B;&#x5982;&#x679C;&#x662F;&#x5F15;&#x7528;&#x5BF9;&#x8C61;&#xFF0C;&#x62F7;&#x8D1D;&#x7684;&#x662F;&#x5730;&#x5740;&#x3002;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6539;&#x53D8;&#x4E86;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#xFF0C;&#x5C31;&#x662F;&#x5F71;&#x54CD;&#x53E6;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;</p><h4 id="&#x6DF1;&#x62F7;&#x8D1D;"><a href="#&#x6DF1;&#x62F7;&#x8D1D;" class="headerlink" title="&#x6DF1;&#x62F7;&#x8D1D;"></a>&#x6DF1;&#x62F7;&#x8D1D;</h4><p>&#x5C06;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4ECE;&#x5185;&#x5B58;&#x4E2D;&#x5B8C;&#x6574;&#x7684;&#x62F7;&#x8D1D;&#x4E00;&#x4EFD;&#x51FA;&#x6765;&#xFF0C;&#x4ECE;&#x5806;&#x4E2D;&#x5F00;&#x8F9F;&#x51FA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x533A;&#x57DF;&#x6765;&#x5B58;&#x653E;&#x65B0;&#x5BF9;&#x8C61;&#xFF0C;&#x4E14;&#x4FEE;&#x6539;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x539F;&#x5BF9;&#x8C61;</p><h3 id="&#x7B80;&#x6613;&#x7248;-&#x5B9E;&#x9645;&#x4E0A;&#x4E5F;&#x662F;&#x9879;&#x76EE;&#x4E2D;&#x6700;&#x5E38;&#x7528;&#x7684;"><a href="#&#x7B80;&#x6613;&#x7248;-&#x5B9E;&#x9645;&#x4E0A;&#x4E5F;&#x662F;&#x9879;&#x76EE;&#x4E2D;&#x6700;&#x5E38;&#x7528;&#x7684;" class="headerlink" title="&#x7B80;&#x6613;&#x7248;(&#x5B9E;&#x9645;&#x4E0A;&#x4E5F;&#x662F;&#x9879;&#x76EE;&#x4E2D;&#x6700;&#x5E38;&#x7528;&#x7684;)"></a>&#x7B80;&#x6613;&#x7248;(&#x5B9E;&#x9645;&#x4E0A;&#x4E5F;&#x662F;&#x9879;&#x76EE;&#x4E2D;&#x6700;&#x5E38;&#x7528;&#x7684;)</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">JSON</span>.</span></span>parse(<span class="module-access"><span class="module"><span class="identifier">JSON</span>.</span></span>stringify(&#x539F;&#x5BF9;&#x8C61;))</span><br></pre></td></tr></table></figure><h3 id="&#x57FA;&#x7840;&#x7248;"><a href="#&#x57FA;&#x7840;&#x7248;" class="headerlink" title="&#x57FA;&#x7840;&#x7248;"></a>&#x57FA;&#x7840;&#x7248;</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> deep_clone1 (<span class="built_in">source</span>) {</span><br><span class="line">  <span class="keyword">if</span> (typeof <span class="built_in">source</span> === <span class="string">&apos;object&apos;</span>) {</span><br><span class="line">    <span class="built_in">let</span> target = {}</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">let</span> key <span class="keyword">in</span> <span class="built_in">source</span>) {</span><br><span class="line">      target[key] = <span class="built_in">clone</span>(<span class="built_in">source</span>[key])</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">return</span> target</span><br><span class="line">  }<span class="keyword">else</span>{</span><br><span class="line">    <span class="built_in">return</span> <span class="built_in">source</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x4F46;&#x662F;&#x5F88;&#x663E;&#x7136;&#xFF0C;&#x8FD8;&#x5B58;&#x5728;&#x5F88;&#x591A;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x5E76;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x6570;&#x7EC4;&#x3001;&#x5FAA;&#x73AF;&#x5F15;&#x7528;</p><h3 id="&#x8003;&#x8651;&#x6570;&#x7EC4;"><a href="#&#x8003;&#x8651;&#x6570;&#x7EC4;" class="headerlink" title="&#x8003;&#x8651;&#x6570;&#x7EC4;"></a>&#x8003;&#x8651;&#x6570;&#x7EC4;</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> deep_clone2 (<span class="built_in">source</span>) {</span><br><span class="line">  <span class="keyword">if</span> (typeof <span class="built_in">source</span> === <span class="string">&apos;object&apos;</span>) {</span><br><span class="line">    <span class="built_in">let</span> target = Array.isArray(<span class="built_in">source</span>) ? [] : {}</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">let</span> key <span class="keyword">in</span> <span class="built_in">source</span>) {</span><br><span class="line">      target[key] = <span class="built_in">clone</span>(<span class="built_in">source</span>[key])</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">return</span> target</span><br><span class="line">  }<span class="keyword">else</span>{</span><br><span class="line">    <span class="built_in">return</span> <span class="built_in">source</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x6570;&#x7EC4;&#x548C;&#x5BF9;&#x8C61;&#x7684;&#x904D;&#x5386;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x4E00;&#x81F4;&#xFF0C;&#x5C31;&#x662F;&#x5B58;&#x50A8;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x540C;&#xFF0C;[]&#x548C;{}</p><h3 id="&#x5904;&#x7406;&#x5FAA;&#x73AF;&#x5F15;&#x7528;"><a href="#&#x5904;&#x7406;&#x5FAA;&#x73AF;&#x5F15;&#x7528;" class="headerlink" title="&#x5904;&#x7406;&#x5FAA;&#x73AF;&#x5F15;&#x7528;"></a>&#x5904;&#x7406;&#x5FAA;&#x73AF;&#x5F15;&#x7528;</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deep_clone3</span> <span class="params">(source, map = new Map()</span>) {</span></span><br><span class="line">  <span class="keyword">if</span> (typeof <span class="keyword">source</span> === <span class="string">&apos;object&apos;</span>) {</span><br><span class="line">    <span class="keyword">let</span> target = Array.isArray(<span class="keyword">source</span>) ? [] : {}</span><br><span class="line">    // &#x4E13;&#x95E8;&#x5904;&#x7406;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#x95EE;&#x9898;&#xFF08;object&#x7C7B;&#x578B;)</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">map</span>.<span class="built_in">get</span>(<span class="keyword">source</span>)) {</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">map</span>.<span class="built_in">get</span>(<span class="keyword">source</span>)</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">map</span>.<span class="keyword">set</span>(<span class="keyword">source</span>, target)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key in <span class="keyword">source</span>) {</span><br><span class="line">      target[key] = deep_clone3(<span class="keyword">source</span>[key], <span class="keyword">map</span>)</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> target</span><br><span class="line">  }<span class="keyword">else</span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">source</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="&#x4F7F;&#x7528;WeakMap&#x753B;&#x9F99;&#x70B9;&#x775B;"><a href="#&#x4F7F;&#x7528;WeakMap&#x753B;&#x9F99;&#x70B9;&#x775B;" class="headerlink" title="&#x4F7F;&#x7528;WeakMap&#x753B;&#x9F99;&#x70B9;&#x775B;"></a>&#x4F7F;&#x7528;WeakMap&#x753B;&#x9F99;&#x70B9;&#x775B;</h3><p>WeakMap &#x5BF9;&#x8C61;&#x662F;&#x4E00;&#x7EC4;&#x952E;/&#x503C;&#x5BF9;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x4E2D;&#x7684;&#x952E;&#x662F;&#x5F31;&#x5F15;&#x7528;&#x7684;&#x3002;&#x5176;&#x952E;&#x5FC5;&#x987B;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x800C;&#x503C;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F;&#x7684;&#x3002;</p><p>&#x4EC0;&#x4E48;&#x662F;&#x5F31;&#x5F15;&#x7528;&#x5462;&#xFF1F;</p><pre><code>&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x4E2D;&#xFF0C;&#x5F31;&#x5F15;&#x7528;&#x4E0E;&#x5F3A;&#x5F15;&#x7528;&#x76F8;&#x5BF9;&#xFF0C;&#x662F;&#x6307;&#x4E0D;&#x80FD;&#x786E;&#x4FDD;&#x5176;&#x5F15;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x4E0D;&#x4F1A;&#x88AB;&#x5783;&#x573E;&#x56DE;&#x6536;&#x5668;&#x56DE;&#x6536;&#x7684;&#x5F15;&#x7528;&#x3002; &#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x82E5;&#x53EA;&#x88AB;&#x5F31;&#x5F15;&#x7528;&#x6240;&#x5F15;&#x7528;&#xFF0C;&#x5219;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4E0D;&#x53EF;&#x8BBF;&#x95EE;&#xFF08;&#x6216;&#x5F31;&#x53EF;&#x8BBF;&#x95EE;&#xFF09;&#x7684;&#xFF0C;&#x5E76;&#x56E0;&#x6B64;&#x53EF;&#x80FD;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x523B;&#x88AB;&#x56DE;&#x6536;&#x3002;</code></pre><p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;<br>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;Map&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;&#x8C61;&#x95F4;&#x662F;&#x5B58;&#x5728;&#x5F3A;&#x5F15;&#x7528;&#x5173;&#x7CFB;&#x7684;&#xFF1A;</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = { name : <span class="string">&apos;ConardLi&apos;</span>}</span><br><span class="line"><span class="keyword">const</span> target = <span class="keyword">new</span> Map();</span><br><span class="line">target.<span class="keyword">set</span>(obj,<span class="string">&apos;code&#x79D8;&#x5BC6;&#x82B1;&#x56ED;&apos;</span>);</span><br><span class="line">obj = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><p>&#x590D;&#x5236;&#x4EE3;&#x7801;&#x867D;&#x7136;&#x6211;&#x4EEC;&#x624B;&#x52A8;&#x5C06;obj&#xFF0C;&#x8FDB;&#x884C;&#x91CA;&#x653E;&#xFF0C;&#x7136;&#x662F;target&#x4F9D;&#x7136;&#x5BF9;obj&#x5B58;&#x5728;&#x5F3A;&#x5F15;&#x7528;&#x5173;&#x7CFB;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x90E8;&#x5206;&#x5185;&#x5B58;&#x4F9D;&#x7136;&#x65E0;&#x6CD5;&#x88AB;&#x91CA;&#x653E;&#x3002;<br>&#x518D;&#x6765;&#x770B;WeakMap&#xFF1A;</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = { name : <span class="string">&apos;ConardLi&apos;</span>}</span><br><span class="line"><span class="keyword">const</span> target = <span class="keyword">new</span> WeakMap();</span><br><span class="line">target.<span class="keyword">set</span>(obj,<span class="string">&apos;code&#x79D8;&#x5BC6;&#x82B1;&#x56ED;&apos;</span>);</span><br><span class="line">obj = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><p>&#x590D;&#x5236;&#x4EE3;&#x7801;&#x5982;&#x679C;&#x662F;WeakMap&#x7684;&#x8BDD;&#xFF0C;target&#x548C;obj&#x5B58;&#x5728;&#x7684;&#x5C31;&#x662F;&#x5F31;&#x5F15;&#x7528;&#x5173;&#x7CFB;&#xFF0C;&#x5F53;&#x4E0B;&#x4E00;&#x6B21;&#x5783;&#x573E;&#x56DE;&#x6536;&#x673A;&#x5236;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x8FD9;&#x5757;&#x5185;&#x5B58;&#x5C31;&#x4F1A;&#x88AB;&#x91CA;&#x653E;&#x6389;&#x3002;<br>&#x8BBE;&#x60F3;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8981;&#x62F7;&#x8D1D;&#x7684;&#x5BF9;&#x8C61;&#x975E;&#x5E38;&#x5E9E;&#x5927;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;Map&#x4F1A;&#x5BF9;&#x5185;&#x5B58;&#x9020;&#x6210;&#x975E;&#x5E38;&#x5927;&#x7684;&#x989D;&#x5916;&#x6D88;&#x8017;&#xFF0C;&#x800C;&#x4E14;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x624B;&#x52A8;&#x6E05;&#x9664;Map&#x7684;&#x5C5E;&#x6027;&#x624D;&#x80FD;&#x91CA;&#x653E;&#x8FD9;&#x5757;&#x5185;&#x5B58;&#xFF0C;&#x800C;WeakMap&#x4F1A;&#x5E2E;&#x6211;&#x4EEC;&#x5DE7;&#x5999;&#x5316;&#x89E3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;</p><blockquote><p>&#x5F15;&#x7528;ConardLi&#xFF1A;<a href="https://juejin.im/post/5d6aa4f96fb9a06b112ad5b1" target="_blank" rel="noopener">https://juejin.im/post/5d6aa4f96fb9a06b112ad5b1</a></p></blockquote><h3 id="&#x6027;&#x80FD;&#x4F18;&#x5316;"><a href="#&#x6027;&#x80FD;&#x4F18;&#x5316;" class="headerlink" title="&#x6027;&#x80FD;&#x4F18;&#x5316;"></a>&#x6027;&#x80FD;&#x4F18;&#x5316;</h3><p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x904D;&#x5386;&#x6570;&#x7EC4;&#x548C;&#x5BF9;&#x8C61;&#x90FD;&#x4F7F;&#x7528;&#x4E86;for in&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;for in&#x5728;&#x904D;&#x5386;&#x65F6;&#x6548;&#x7387;&#x662F;&#x975E;&#x5E38;&#x4F4E;&#x7684;.&#x7ECF;&#x8FC7;&#x6BD4;&#x8F83;&#x6267;&#x884C;&#x6548;&#x7387; while &gt; for &gt; for in<br>&#x5148;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;forEach &#x5FAA;&#x73AF;&#xFF0C; iterate &#x662F;&#x904D;&#x5386;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C; &#x6BCF;&#x6B21;&#x63A5;&#x6536;value&#x548C;index&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="keyword">forEach</span>(arr, iterate) {</span><br><span class="line">  let <span class="keyword">index</span> = <span class="number">-1</span></span><br><span class="line">  const len = <span class="keyword">array</span>.length</span><br><span class="line">  <span class="keyword">while</span>(++<span class="keyword">index</span> &lt; len&gt;) {</span><br><span class="line">    iterate(<span class="keyword">array</span>[<span class="keyword">index</span>], <span class="keyword">index</span>)</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">array</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x7136;&#x540E;&#x5BF9;&#x4E4B;&#x524D;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x8C03;&#x6574;</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deep_clone3</span> <span class="params">(source, map = new Map()</span>) {</span></span><br><span class="line">  <span class="keyword">if</span> (typeof <span class="keyword">source</span> === <span class="string">&apos;object&apos;</span>) {</span><br><span class="line">    const isArray = Array.isArray(<span class="keyword">source</span>)</span><br><span class="line">    <span class="keyword">let</span> target = isArray ? [] : {}</span><br><span class="line">    // &#x4E13;&#x95E8;&#x5904;&#x7406;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#x95EE;&#x9898;&#xFF08;object&#x7C7B;&#x578B;)</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">map</span>.<span class="built_in">get</span>(<span class="keyword">source</span>)) {</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">map</span>.<span class="built_in">get</span>(<span class="keyword">source</span>)</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">map</span>.<span class="keyword">set</span>(<span class="keyword">source</span>, target)</span><br><span class="line"></span><br><span class="line">    const <span class="built_in">keys</span> = isArray ? undefined ? Object.<span class="built_in">keys</span>(<span class="keyword">source</span>)</span><br><span class="line"></span><br><span class="line">    forEach(<span class="built_in">keys</span> || <span class="keyword">source</span>, (value, <span class="built_in">index</span>)) {</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">keys</span>) { // &#x5904;&#x7406;&#x5BF9;&#x8C61;&#xFF0C; value&#x5C31;&#x662F;&#x5BF9;&#x8C61;key</span><br><span class="line">        key = value</span><br><span class="line">      }</span><br><span class="line">      target[key] = deep_clone3(<span class="keyword">source</span>[key], <span class="keyword">map</span>)</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> target</span><br><span class="line">  }<span class="keyword">else</span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">source</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="&#x5176;&#x4ED6;&#x6570;&#x636E;&#x7C7B;&#x578B;"><a href="#&#x5176;&#x4ED6;&#x6570;&#x636E;&#x7C7B;&#x578B;" class="headerlink" title="&#x5176;&#x4ED6;&#x6570;&#x636E;&#x7C7B;&#x578B;"></a>&#x5176;&#x4ED6;&#x6570;&#x636E;&#x7C7B;&#x578B;</h3><h4 id="&#x53EF;&#x7EE7;&#x7EED;&#x904D;&#x5386;&#x7684;&#x7C7B;&#x578B;"><a href="#&#x53EF;&#x7EE7;&#x7EED;&#x904D;&#x5386;&#x7684;&#x7C7B;&#x578B;" class="headerlink" title="&#x53EF;&#x7EE7;&#x7EED;&#x904D;&#x5386;&#x7684;&#x7C7B;&#x578B;"></a>&#x53EF;&#x7EE7;&#x7EED;&#x904D;&#x5386;&#x7684;&#x7C7B;&#x578B;</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapTag = <span class="string">&apos;[object Map]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> setTag = <span class="string">&apos;[object Set]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> arrayTag = <span class="string">&apos;[object Array]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> objectTag = <span class="string">&apos;[object Object]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> argsTag = <span class="string">&apos;[object Arguments]&apos;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deepTag = [mapTag, setTag, arrayTag, objectTag, argsTag];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">forEach</span>(<span class="params">array, iteratee</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> index = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">const</span> length = array.length;</span><br><span class="line">    <span class="keyword">while</span> (++index &lt; length) {</span><br><span class="line">        iteratee(array[index], index);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObject</span>(<span class="params">target</span>) </span>{</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">type</span> = <span class="keyword">typeof</span> target;</span><br><span class="line">    <span class="keyword">return</span> target !== <span class="literal">null</span> &amp;&amp; (<span class="keyword">type</span> === <span class="string">&apos;object&apos;</span> || <span class="keyword">type</span> === <span class="string">&apos;function&apos;</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params">target</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(target);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getInit</span>(<span class="params">target</span>) </span>{</span><br><span class="line">    <span class="keyword">const</span> Ctor = target.<span class="keyword">constructor</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Ctor();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">target, map = <span class="keyword">new</span> WeakMap()</span>) </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x514B;&#x9686;&#x539F;&#x59CB;&#x7C7B;&#x578B;</span></span><br><span class="line">    <span class="keyword">if</span> (!isObject(target)) {</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x521D;&#x59CB;&#x5316;</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">type</span> = getType(target);</span><br><span class="line">    <span class="keyword">let</span> cloneTarget;</span><br><span class="line">    <span class="keyword">if</span> (deepTag.includes(<span class="keyword">type</span>)) {</span><br><span class="line">        cloneTarget = getInit(target, <span class="keyword">type</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x9632;&#x6B62;&#x5FAA;&#x73AF;&#x5F15;&#x7528;</span></span><br><span class="line">    <span class="keyword">if</span> (map.get(target)) {</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    }</span><br><span class="line">    map.set(target, cloneTarget);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x514B;&#x9686;set</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">type</span> === setTag) {</span><br><span class="line">        target.forEach(<span class="function"><span class="params">value</span> =&gt;</span> {</span><br><span class="line">            cloneTarget.add(clone(value));</span><br><span class="line">        });</span><br><span class="line">        <span class="keyword">return</span> cloneTarget;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x514B;&#x9686;map</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">type</span> === mapTag) {</span><br><span class="line">        target.forEach(<span class="function">(<span class="params">value, key</span>) =&gt;</span> {</span><br><span class="line">            cloneTarget.set(key, clone(value));</span><br><span class="line">        });</span><br><span class="line">        <span class="keyword">return</span> cloneTarget;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x514B;&#x9686;&#x5BF9;&#x8C61;&#x548C;&#x6570;&#x7EC4;</span></span><br><span class="line">    <span class="keyword">const</span> keys = <span class="keyword">type</span> === arrayTag ? <span class="literal">undefined</span> : <span class="built_in">Object</span>.keys(target);</span><br><span class="line">    forEach(keys || target, <span class="function">(<span class="params">value, key</span>) =&gt;</span> {</span><br><span class="line">        <span class="keyword">if</span> (keys) {</span><br><span class="line">            key = value;</span><br><span class="line">        }</span><br><span class="line">        cloneTarget[key] = clone(target[key], map);</span><br><span class="line">    });</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cloneTarget;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h4 id="&#x4E0D;&#x53EF;&#x7EE7;&#x7EED;&#x904D;&#x5386;&#x7684;&#x7C7B;&#x578B;"><a href="#&#x4E0D;&#x53EF;&#x7EE7;&#x7EED;&#x904D;&#x5386;&#x7684;&#x7C7B;&#x578B;" class="headerlink" title="&#x4E0D;&#x53EF;&#x7EE7;&#x7EED;&#x904D;&#x5386;&#x7684;&#x7C7B;&#x578B;"></a>&#x4E0D;&#x53EF;&#x7EE7;&#x7EED;&#x904D;&#x5386;&#x7684;&#x7C7B;&#x578B;</h4><p>Bool&#x3001;Number&#x3001;String&#x3001;Symbol&#x3001;Date&#x3001;Error&#x8FD9;&#x51E0;&#x79CD;&#x7C7B;&#x578B;&#x6211;&#x4EEC;&#x90FD;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x548C;&#x539F;&#x59CB;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x5BF9;&#x8C61;&#xFF1A;</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneOtherType</span>(<span class="params">targe, <span class="keyword">type</span></span>) </span>{</span><br><span class="line">    <span class="keyword">const</span> Ctor = targe.<span class="keyword">constructor</span>;</span><br><span class="line">    <span class="keyword">switch</span> (<span class="keyword">type</span>) {</span><br><span class="line">        <span class="keyword">case</span> boolTag:</span><br><span class="line">        <span class="keyword">case</span> numberTag:</span><br><span class="line">        <span class="keyword">case</span> stringTag:</span><br><span class="line">        <span class="keyword">case</span> errorTag:</span><br><span class="line">        <span class="keyword">case</span> dateTag:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Ctor(targe);</span><br><span class="line">        <span class="keyword">case</span> regexpTag:</span><br><span class="line">            <span class="keyword">return</span> cloneReg(targe);</span><br><span class="line">        <span class="keyword">case</span> symbolTag:</span><br><span class="line">            <span class="keyword">return</span> cloneSymbol(targe);</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneSymbol</span>(<span class="params">targe</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>(Symbol.prototype.valueOf.call(targe));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">&#x514B;&#x9686;&#x6B63;&#x5219;&#xFF1A;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneReg</span>(<span class="params">targe</span>) </span>{</span><br><span class="line">    <span class="keyword">const</span> reFlags = <span class="regexp">/\w*$/</span>;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">new</span> targe.<span class="keyword">constructor</span>(<span class="params">targe.source, reFlags.exec(targe)</span>);</span><br><span class="line">    result.lastIndex = targe.lastIndex;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">&#x4F5C;&#x8005;&#xFF1A;ConardLi</span><br><span class="line">&#x94FE;&#x63A5;&#xFF1A;https:<span class="comment">//juejin.im/post/5d6aa4f96fb9a06b112ad5b1</span></span><br><span class="line">&#x6765;&#x6E90;&#xFF1A;&#x6398;&#x91D1;</span><br><span class="line">&#x8457;&#x4F5C;&#x6743;&#x5F52;&#x4F5C;&#x8005;&#x6240;&#x6709;&#x3002;&#x5546;&#x4E1A;&#x8F6C;&#x8F7D;&#x8BF7;&#x8054;&#x7CFB;&#x4F5C;&#x8005;&#x83B7;&#x5F97;&#x6388;&#x6743;&#xFF0C;&#x975E;&#x5546;&#x4E1A;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#x3002;</span><br></pre></td></tr></table></figure><h3 id="&#x5B8C;&#x6574;&#x7248;"><a href="#&#x5B8C;&#x6574;&#x7248;" class="headerlink" title="&#x5B8C;&#x6574;&#x7248;"></a>&#x5B8C;&#x6574;&#x7248;</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapTag = <span class="string">&apos;[object Map]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> setTag = <span class="string">&apos;[object Set]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> arrayTag = <span class="string">&apos;[object Array]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> objectTag = <span class="string">&apos;[object Object]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> argsTag = <span class="string">&apos;[object Arguments]&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> boolTag = <span class="string">&apos;[object Boolean]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> dateTag = <span class="string">&apos;[object Date]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> numberTag = <span class="string">&apos;[object Number]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> stringTag = <span class="string">&apos;[object String]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> symbolTag = <span class="string">&apos;[object Symbol]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> errorTag = <span class="string">&apos;[object Error]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> regexpTag = <span class="string">&apos;[object RegExp]&apos;</span>;</span><br><span class="line"><span class="keyword">const</span> funcTag = <span class="string">&apos;[object Function]&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deepTag = [mapTag, setTag, arrayTag, objectTag, argsTag];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">forEach</span>(<span class="params">array, iteratee</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> index = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">const</span> length = array.length;</span><br><span class="line">    <span class="keyword">while</span> (++index &lt; length) {</span><br><span class="line">        iteratee(array[index], index);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObject</span>(<span class="params">target</span>) </span>{</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">type</span> = <span class="keyword">typeof</span> target;</span><br><span class="line">    <span class="keyword">return</span> target !== <span class="literal">null</span> &amp;&amp; (<span class="keyword">type</span> === <span class="string">&apos;object&apos;</span> || <span class="keyword">type</span> === <span class="string">&apos;function&apos;</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params">target</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(target);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getInit</span>(<span class="params">target</span>) </span>{</span><br><span class="line">    <span class="keyword">const</span> Ctor = target.<span class="keyword">constructor</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Ctor();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneSymbol</span>(<span class="params">targe</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>(Symbol.prototype.valueOf.call(targe));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneReg</span>(<span class="params">targe</span>) </span>{</span><br><span class="line">    <span class="keyword">const</span> reFlags = <span class="regexp">/\w*$/</span>;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">new</span> targe.<span class="keyword">constructor</span>(<span class="params">targe.source, reFlags.exec(targe)</span>);</span><br><span class="line">    result.lastIndex = targe.lastIndex;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneFunction</span>(<span class="params">func</span>) </span>{</span><br><span class="line">    <span class="keyword">const</span> bodyReg = <span class="regexp">/(?&lt;={)(.|\n)+(?=})/m</span>;</span><br><span class="line">    <span class="keyword">const</span> paramReg = <span class="regexp">/(?&lt;=\().+(?=\)\s+{)/</span>;</span><br><span class="line">    <span class="keyword">const</span> funcString = func.toString();</span><br><span class="line">    <span class="keyword">if</span> (func.prototype) {</span><br><span class="line">        <span class="keyword">const</span> param = paramReg.exec(funcString);</span><br><span class="line">        <span class="keyword">const</span> body = bodyReg.exec(funcString);</span><br><span class="line">        <span class="keyword">if</span> (body) {</span><br><span class="line">            <span class="keyword">if</span> (param) {</span><br><span class="line">                <span class="keyword">const</span> paramArr = param[<span class="number">0</span>].split(<span class="string">&apos;,&apos;</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Function</span>(...paramArr, body[<span class="number">0</span>]);</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Function</span>(body[<span class="number">0</span>]);</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        }</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">eval</span>(funcString);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneOtherType</span>(<span class="params">targe, <span class="keyword">type</span></span>) </span>{</span><br><span class="line">    <span class="keyword">const</span> Ctor = targe.<span class="keyword">constructor</span>;</span><br><span class="line">    <span class="keyword">switch</span> (<span class="keyword">type</span>) {</span><br><span class="line">        <span class="keyword">case</span> boolTag:</span><br><span class="line">        <span class="keyword">case</span> numberTag:</span><br><span class="line">        <span class="keyword">case</span> stringTag:</span><br><span class="line">        <span class="keyword">case</span> errorTag:</span><br><span class="line">        <span class="keyword">case</span> dateTag:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Ctor(targe);</span><br><span class="line">        <span class="keyword">case</span> regexpTag:</span><br><span class="line">            <span class="keyword">return</span> cloneReg(targe);</span><br><span class="line">        <span class="keyword">case</span> symbolTag:</span><br><span class="line">            <span class="keyword">return</span> cloneSymbol(targe);</span><br><span class="line">        <span class="keyword">case</span> funcTag:</span><br><span class="line">            <span class="keyword">return</span> cloneFunction(targe);</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">target, map = <span class="keyword">new</span> WeakMap()</span>) </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x514B;&#x9686;&#x539F;&#x59CB;&#x7C7B;&#x578B;</span></span><br><span class="line">    <span class="keyword">if</span> (!isObject(target)) {</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x521D;&#x59CB;&#x5316;</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">type</span> = getType(target);</span><br><span class="line">    <span class="keyword">let</span> cloneTarget;</span><br><span class="line">    <span class="keyword">if</span> (deepTag.includes(<span class="keyword">type</span>)) {</span><br><span class="line">        cloneTarget = getInit(target, <span class="keyword">type</span>);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> cloneOtherType(target, <span class="keyword">type</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x9632;&#x6B62;&#x5FAA;&#x73AF;&#x5F15;&#x7528;</span></span><br><span class="line">    <span class="keyword">if</span> (map.get(target)) {</span><br><span class="line">        <span class="keyword">return</span> map.get(target);</span><br><span class="line">    }</span><br><span class="line">    map.set(target, cloneTarget);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x514B;&#x9686;set</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">type</span> === setTag) {</span><br><span class="line">        target.forEach(<span class="function"><span class="params">value</span> =&gt;</span> {</span><br><span class="line">            cloneTarget.add(clone(value, map));</span><br><span class="line">        });</span><br><span class="line">        <span class="keyword">return</span> cloneTarget;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x514B;&#x9686;map</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">type</span> === mapTag) {</span><br><span class="line">        target.forEach(<span class="function">(<span class="params">value, key</span>) =&gt;</span> {</span><br><span class="line">            cloneTarget.set(key, clone(value, map));</span><br><span class="line">        });</span><br><span class="line">        <span class="keyword">return</span> cloneTarget;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x514B;&#x9686;&#x5BF9;&#x8C61;&#x548C;&#x6570;&#x7EC4;</span></span><br><span class="line">    <span class="keyword">const</span> keys = <span class="keyword">type</span> === arrayTag ? <span class="literal">undefined</span> : <span class="built_in">Object</span>.keys(target);</span><br><span class="line">    forEach(keys || target, <span class="function">(<span class="params">value, key</span>) =&gt;</span> {</span><br><span class="line">        <span class="keyword">if</span> (keys) {</span><br><span class="line">            key = value;</span><br><span class="line">        }</span><br><span class="line">        cloneTarget[key] = clone(target[key], map);</span><br><span class="line">    });</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cloneTarget;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">    clone</span><br><span class="line">};</span><br></pre></td></tr></table></figure><p><img src="evernotecid://B523EDB5-ACD0-47DC-84DB-C3486D121165/appyinxiangcom/18473567/ENResource/p79" alt="dea1cd004b1671e6f32254abf47ee7d7.png"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&lt;a href=&quot;#&amp;#x6982;&amp;#x5FF5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&lt;/a&gt;&amp;#x6982;&amp;#x5FF5;&lt;/h3&gt;&lt;h4 id=&quot;&amp;#x6D45;&amp;
      
    
    </summary>
    
    
      <category term="js知识库" scheme="https://over58.github.io/categories/js%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
</feed>
