---
title: js中函数的参数传递误区
author:
  - 徐勇超
date: 2019-06-18 10:52:41
tags: [js]
categories:
---

### 误区
一直以来都以为在函数参数传递的过程中遵循： 普通类型使用值传递，对象使用引用传递。很多文章也这么说，现在发现大错特错了。下面举个例子来说吧

### demo
```

<!-- 在函数中对参数进行了重新赋值 -->
function setName(obj) {
  obj.name = "Nicholas";
  obj = new Object();
  obj.name = "Greg";
}

// 定义一个全局变量
var person = new Object();
setName(person);
// 如果对象是引用传递的话，name应该是"Greg"的，事实上结果是Nicholas
console.log(person.name);
```

### 解析
在js的参数传递中，**有且只有值传递一种**。但是变量的访问却有**按值访问**和**按引用访问**。
在传递对象参数的过程中，实际上是将对象地址的一个拷贝传过去了，就是一个string类型的值。
如果是修改对象的属性的话，使用按引用访问的方式，找到堆中的对象进行修改。
但是当对参数重新赋值的时候，只不过是改变了obj的存储的string类型的地址值，不存在访问的操作，也就对原始的对象无影响了,obj指向了一个全新的对象，和原来的对象断了联系。
