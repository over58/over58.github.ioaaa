<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Vue组件生命周期</title>
      <link href="/2019/10/16/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"/>
      <url>/2019/10/16/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h3 id="单个组件的生命周期"><a href="#单个组件的生命周期" class="headerlink" title="单个组件的生命周期"></a>单个组件的生命周期</h3><p><img src="/images/vue/562EB77D-1EFF-403B-ADAC-78D83DC7C898.png" alt="d35ef48bce6fd2950ef8f54cd3ac7f75.png"></p><p>分为三个阶段：</p><ul><li><p>初始化阶段：</p><ol><li>只有默认的事件，没有data,methods</li><li>beforeCreate</li><li>监听对象和初始化事件坚挺</li><li>created 此时已经可以访问data和methods</li><li>内存中编译好模版</li><li>beforeMount 此时页面仍然是旧的，没有挂载到上面</li><li>vm.$el 替换 el ，挂载页面</li><li>mounted</li><li>挂载完成，页面此时是最新的</li></ol></li><li><p>运行阶段：</p><ol><li>监听数据变化</li><li>beforeUpdate</li><li>diff, 虚拟dom 重新绘制, patch</li><li>updated</li></ol></li><li>销毁阶段：<ol><li>beforeDestroy 此时仍然可以正常访问data, methods</li><li>关闭watchers和子组件的事件监听</li><li>destroyed</li></ol></li></ul><h3 id="Vue-的父组件和子组件生命周期钩子函数执行顺序可以归类为以下-4-部分："><a href="#Vue-的父组件和子组件生命周期钩子函数执行顺序可以归类为以下-4-部分：" class="headerlink" title="Vue 的父组件和子组件生命周期钩子函数执行顺序可以归类为以下 4 部分："></a>Vue 的父组件和子组件生命周期钩子函数执行顺序可以归类为以下 4 部分：</h3><h4 id="加载渲染过程"><a href="#加载渲染过程" class="headerlink" title="加载渲染过程"></a>加载渲染过程</h4><p>父 beforeCreate -&gt; 父 created -&gt; 父 beforeMount -&gt; 子 beforeCreate -&gt; 子 created -&gt; 子 beforeMount -&gt; 子 mounted -&gt; 父 mounted</p><h4 id="子组件更新过程"><a href="#子组件更新过程" class="headerlink" title="子组件更新过程"></a>子组件更新过程</h4><p>父 beforeUpdate -&gt; 子 beforeUpdate -&gt; 子 updated -&gt; 父 updated</p><h4 id="父组件更新过程"><a href="#父组件更新过程" class="headerlink" title="父组件更新过程"></a>父组件更新过程</h4><p>父 beforeUpdate -&gt; 父 updated</p><h4 id="销毁过程"><a href="#销毁过程" class="headerlink" title="销毁过程"></a>销毁过程</h4><p>父 beforeDestroy -&gt; 子 beforeDestroy -&gt; 子 destroyed -&gt; 父 destroyed</p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webpack配置</title>
      <link href="/2019/10/11/webpack%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/10/11/webpack%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h4 id="devtool"><a href="#devtool" class="headerlink" title="devtool"></a>devtool</h4><p>如果是生产环境,压根不应该有devtool这个选项，这样build之后不会产生map文件，如果需要map文件用来方便查找问题，则设置devtool就行</p><h4 id="performance"><a href="#performance" class="headerlink" title="performance"></a>performance</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">performance: &#123;</span><br><span class="line">    hints: &apos;warning&apos;, // false | warning | error</span><br><span class="line">    maxEntrypointSize: 1048576, // 入口文件最大值为1M</span><br><span class="line">    maxAssetSize: 3145728, // 资源文件最大值为3M</span><br><span class="line">    assetFilter: function (assetFilename) &#123;</span><br><span class="line">      // 只给出js文件的性能提示</span><br><span class="line">      return assetFilename.endsWith(&apos;.js&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="resolve-alias用来设置快捷方式"><a href="#resolve-alias用来设置快捷方式" class="headerlink" title="resolve.alias用来设置快捷方式"></a>resolve.alias用来设置快捷方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  alias: &#123;</span><br><span class="line">    // 只能匹配到vue$结尾的字符串</span><br><span class="line">    // 比如：import Test1 from &apos;vue&apos;;</span><br><span class="line">    // 不能匹配 import Test1 from &apos;vue-router&apos;;</span><br><span class="line">    vue$: &apos;vue/dist/vue.esm.js&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  // 自动解析确定的扩展, ps: import File from &apos;../path/to/file&apos;;</span><br><span class="line"></span><br><span class="line">  extensions: [&apos;*&apos;, &apos;.js&apos;, &apos;.vue&apos;, &apos;.json&apos;]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="externals"><a href="#externals" class="headerlink" title="externals"></a>externals</h4><p>防止将某些 import 的包(package)打包到 bundle 中，而是在运行时(runtime)再去从外部获取这些扩展依赖(external dependencies)。</p><p>例如，从 CDN 引入 jQuery，而不是把它打包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">externals: &#123;</span><br><span class="line">    highcharts: &#123;</span><br><span class="line">      root: &apos;Highcharts&apos;,</span><br><span class="line">      commonjs: &apos;highcharts&apos;,</span><br><span class="line">      commonjs2: &apos;highcharts&apos;,</span><br><span class="line">      amd: &apos;highcharts&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure></p><h4 id="library-和-libraryTarget"><a href="#library-和-libraryTarget" class="headerlink" title="library 和 libraryTarget"></a>library 和 libraryTarget</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    filename: &apos;[name].js&apos;,</span><br><span class="line">    // 以何种形式暴露library， 指的是暴露出来的名字</span><br><span class="line">    library: &apos;HighchartsVueXyc&apos;,</span><br><span class="line">    // 选项将导致 bundle 带有更完整的模块头部，以确保与各种模块系统的兼容性。</span><br><span class="line">    // 将你的 library 暴露为所有的模块定义下都可运行的方式。它将在 CommonJS, AMD 环境下运行，或将模块导出到 global 下的变量。</span><br><span class="line">    libraryTarget: &apos;umd&apos;,</span><br><span class="line">    path: path.resolve(__dirname, &apos;./dist&apos;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webpack前端页面分析插件</title>
      <link href="/2019/09/18/webpack%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2%E5%88%86%E6%9E%90%E6%8F%92%E4%BB%B6/"/>
      <url>/2019/09/18/webpack%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2%E5%88%86%E6%9E%90%E6%8F%92%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>1.添加插件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install webpack-bundle-analyzer -save</span><br></pre></td></tr></table></figure></p><ol start="2"><li>vue.config.js文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">chainWebpack: config =&gt; &#123;</span><br><span class="line">   // 运行npm run analyze 显示性能分析</span><br><span class="line">   if (process.env.analyze &amp;&amp; process.NODE_ENV === production) &#123;</span><br><span class="line">     config</span><br><span class="line">       .plugin(&quot;webpack-bundle-analyzer&quot;)</span><br><span class="line">       .use(require(&quot;webpack-bundle-analyzer&quot;).BundleAnalyzerPlugin);</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure></li></ol><p>3.scripts中添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;analyz&quot;: &quot;NODE_ENV=production analyze=true npm run build&quot;</span><br></pre></td></tr></table></figure></p><ol start="4"><li>运行<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run analyze</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> js </tag>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-cli3中iview按需引入</title>
      <link href="/2019/09/18/vue-cli3%E4%B8%ADiview%E6%8C%89%E9%9C%80%E5%BC%95%E5%85%A5/"/>
      <url>/2019/09/18/vue-cli3%E4%B8%ADiview%E6%8C%89%E9%9C%80%E5%BC%95%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<p>1.安装babel-plugin-import插件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install babel-plugin-import --save-dev</span><br></pre></td></tr></table></figure></p><ol start="2"><li><p>在文件.babelrc中添加配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&quot;plugins&quot;: [</span><br><span class="line">    &quot;transform-vue-jsx&quot;, &quot;transform-runtime&quot;,</span><br><span class="line">    [&quot;import&quot;, &#123;</span><br><span class="line">      &quot;libraryName&quot;: &quot;iview&quot;,</span><br><span class="line">      &quot;libraryDirectory&quot;: &quot;src/components&quot;</span><br><span class="line">    &#125;]</span><br><span class="line">  ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>在plugins文件夹中新建一个iview.js文件</p><figure class="highlight plain"><figcaption><span>Vue from 'vue'</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">import &apos;iview/dist/styles/iview.css&apos;</span><br><span class="line">import &#123;</span><br><span class="line">  Row,</span><br><span class="line">  Col,</span><br><span class="line">  Switch,</span><br><span class="line">  Form,</span><br><span class="line">  FormItem,</span><br><span class="line">  Select,</span><br><span class="line">  Input,</span><br><span class="line">  InputNumber,</span><br><span class="line">  Button,</span><br><span class="line">  Icon,</span><br><span class="line">  Card,</span><br><span class="line">  Modal,</span><br><span class="line">  Menu,</span><br><span class="line">  MenuItem,</span><br><span class="line">  Submenu,</span><br><span class="line">  Message,</span><br><span class="line">  Notice,</span><br><span class="line">  Layout,</span><br><span class="line">  Sider,</span><br><span class="line">  Content,</span><br><span class="line">  Tag,</span><br><span class="line">  Table,</span><br><span class="line">  Poptip,</span><br><span class="line">  Page,</span><br><span class="line">  Timeline,</span><br><span class="line">  TimelineItem,</span><br><span class="line">  Tabs,</span><br><span class="line">  TabPane,</span><br><span class="line">  Tooltip,</span><br><span class="line">  Alert,</span><br><span class="line">  Checkbox,</span><br><span class="line">  CheckboxGroup,</span><br><span class="line">  RadioGroup,</span><br><span class="line">  Radio</span><br><span class="line">&#125; from &apos;iview&apos;</span><br><span class="line"></span><br><span class="line">Vue.component(&apos;Row&apos;, Row)</span><br><span class="line">Vue.component(&apos;Col&apos;, Col)</span><br><span class="line">Vue.component(&apos;iSwitch&apos;, Switch)</span><br><span class="line">Vue.component(&apos;Form&apos;, Form)</span><br><span class="line">Vue.component(&apos;FormItem&apos;, FormItem)</span><br><span class="line">Vue.component(&apos;Select&apos;, Select)</span><br><span class="line">Vue.component(&apos;Input&apos;, Input)</span><br><span class="line">Vue.component(&apos;InputNumber&apos;, InputNumber)</span><br><span class="line">Vue.component(&apos;Button&apos;, Button)</span><br><span class="line">Vue.component(&apos;Icon&apos;, Icon)</span><br><span class="line">Vue.component(&apos;Card&apos;, Card)</span><br><span class="line">Vue.component(&apos;Modal&apos;, Modal)</span><br><span class="line">Vue.component(&apos;Card&apos;, Card)</span><br><span class="line">Vue.component(&apos;Menu&apos;, Menu)</span><br><span class="line">Vue.component(&apos;Submenu&apos;, Submenu)</span><br><span class="line">Vue.component(&apos;MenuItem&apos;, MenuItem)</span><br><span class="line">Vue.component(&apos;Layout&apos;, Layout)</span><br><span class="line">Vue.component(&apos;Sider&apos;, Sider)</span><br><span class="line">Vue.component(&apos;Content&apos;, Content)</span><br><span class="line">Vue.component(&apos;Tag&apos;, Tag)</span><br><span class="line">Vue.component(&apos;Table&apos;, Table)</span><br><span class="line">Vue.component(&apos;Poptip&apos;, Poptip)</span><br><span class="line">Vue.component(&apos;Page&apos;, Page)</span><br><span class="line">Vue.component(&apos;Timeline&apos;, Timeline)</span><br><span class="line">Vue.component(&apos;TimelineItem&apos;, TimelineItem)</span><br><span class="line">Vue.component(&apos;Tabs&apos;, Tabs)</span><br><span class="line">Vue.component(&apos;TabPane&apos;, TabPane)</span><br><span class="line">Vue.component(&apos;Tooltip&apos;, Tooltip)</span><br><span class="line">Vue.component(&apos;Alert&apos;, Alert)</span><br><span class="line">Vue.component(&apos;Checkbox&apos;, Checkbox)</span><br><span class="line">Vue.component(&apos;CheckboxGroup&apos;, CheckboxGroup)</span><br><span class="line">Vue.component(&apos;RadioGroup&apos;, RadioGroup)</span><br><span class="line">Vue.component(&apos;Radio&apos;, Radio)</span><br><span class="line"></span><br><span class="line">Vue.component(&apos;Message&apos;, Message)</span><br><span class="line">Vue.component(&apos;Notice&apos;, Notice)</span><br></pre></td></tr></table></figure></li></ol><p>4.在main.js文件中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// import iView from &apos;iview&apos;</span><br><span class="line">// Vue.use(iView)</span><br><span class="line">import &apos;@/plugins/iview</span><br></pre></td></tr></table></figure></p><ol start="5"><li>到这里基本完成，但是还有一些iview的全局API是需要额外处理的，这里就不多说了</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> js </tag>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>proxy体验</title>
      <link href="/2019/09/17/proxy%E4%BD%93%E9%AA%8C/"/>
      <url>/2019/09/17/proxy%E4%BD%93%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<h3 id="todoList"><a href="#todoList" class="headerlink" title="todoList"></a>todoList</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; id=&quot;input&quot;&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        TODO:</span><br><span class="line">        &lt;span id=&quot;text&quot;&gt;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;button id=&quot;btn&quot;&gt;Add To Todo List&lt;/button&gt;</span><br><span class="line">      &lt;ul id=&quot;list&quot;&gt;&lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      const input = document.getElementById(&apos;input&apos;)</span><br><span class="line">    const text = document.getElementById(&apos;text&apos;)</span><br><span class="line">    const list = document.getElementById(&apos;list&apos;)</span><br><span class="line">    const btn = document.getElementById(&apos;btn&apos;)</span><br><span class="line"></span><br><span class="line">    let render</span><br><span class="line"></span><br><span class="line">    const inputObj = new Proxy(&#123;&#125;, &#123;</span><br><span class="line">      get (target, key, receiver) &#123;</span><br><span class="line">        return Reflect.get(target, key, receiver)</span><br><span class="line">      &#125;,</span><br><span class="line">      set (target, key, value, receiver) &#123;</span><br><span class="line">        if (key === &apos;text&apos;) &#123;</span><br><span class="line">          input.value = value</span><br><span class="line">          text.innerHTML = value</span><br><span class="line">        &#125;</span><br><span class="line">        return Reflect.set(target, key, value, receiver)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    class Render &#123;</span><br><span class="line">      constructor (arr) &#123;</span><br><span class="line">        this.arr = arr</span><br><span class="line">      &#125;</span><br><span class="line">      init () &#123;</span><br><span class="line">        const fragment = document.createDocumentFragment()</span><br><span class="line">        for (let i = 0; i &lt; this.arr.length; i++) &#123;</span><br><span class="line">          const li = document.createElement(&apos;li&apos;)</span><br><span class="line">          li.textContent = this.arr[i]</span><br><span class="line">          fragment.appendChild(li)</span><br><span class="line">        &#125;</span><br><span class="line">        list.appendChild(fragment)</span><br><span class="line">      &#125;</span><br><span class="line">      addList (val) &#123;</span><br><span class="line">        const li = document.createElement(&apos;li&apos;)</span><br><span class="line">        li.textContent = val</span><br><span class="line">        list.appendChild(li)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const todoList = new Proxy([], &#123;</span><br><span class="line">      get (target, key, receiver) &#123;</span><br><span class="line">        return Reflect.get(target, key, receiver)</span><br><span class="line">      &#125;,</span><br><span class="line">      set (target, key, value, receiver) &#123;</span><br><span class="line">        console.log(target, key, value, receiver)</span><br><span class="line">        if (key !== &apos;length&apos;) &#123;</span><br><span class="line">          render.addList(value)</span><br><span class="line">        &#125;</span><br><span class="line">        return Reflect.set(target, key, value, receiver)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    window.onload = () =&gt; &#123;</span><br><span class="line">      render = new Render([])</span><br><span class="line">      render.init()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    input.addEventListener(&apos;keyup&apos;, e =&gt; &#123;</span><br><span class="line">      inputObj.text = e.target.value</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    btn.addEventListener(&apos;click&apos;, () =&gt; &#123;</span><br><span class="line">      todoList.push(inputObj.text) // 每次 增加和删除 都会引起 length 的改变</span><br><span class="line">      inputObj.text = &apos;&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">    console.log(todoList)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> es6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> proxy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css特性</title>
      <link href="/2019/09/16/css%E7%89%B9%E6%80%A7/"/>
      <url>/2019/09/16/css%E7%89%B9%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<h3 id="权重"><a href="#权重" class="headerlink" title="权重"></a>权重</h3><ul><li>！important  Infinity</li><li>行间样式         1000 </li><li>id               100</li><li>class |属性|伪类   10</li><li>标签选择器|伪元素    1</li><li>通配符             0</li><li>继承<blockquote><p>不存在进位的情况，只要高位大，就不用比了，权重一定高</p></blockquote></li></ul><a id="more"></a><h3 id="层叠性"><a href="#层叠性" class="headerlink" title="层叠性"></a>层叠性</h3><p>当同一个元素的有多个样式且权重相同时，后面覆盖前面的</p><h3 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h3><ol><li>content</li><li>padding</li><li>border</li><li>margin<blockquote><p>box-sizing属性可以设置盒模型</p></blockquote></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> 权重 </tag>
            
            <tag> 盒模型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模拟一些常见的js函数</title>
      <link href="/2019/09/16/%E6%A8%A1%E6%8B%9F%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E7%9A%84js%E5%87%BD%E6%95%B0/"/>
      <url>/2019/09/16/%E6%A8%A1%E6%8B%9F%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E7%9A%84js%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h4 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Function.prototype.myapply = function(context, arr) &#123;</span><br><span class="line">  var context = Object(context) || window;</span><br><span class="line">  context.fn = this;</span><br><span class="line"></span><br><span class="line">  var result;</span><br><span class="line">  if (!arr) &#123;</span><br><span class="line">    result = context.fn();</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    var args = [];</span><br><span class="line">    for (var i = 0, len = arr.length; i &lt; len; i++) &#123;</span><br><span class="line">      args.push(&quot;arr[&quot; + i + &quot;]&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    result = eval(&quot;context.fn(&quot; + args + &quot;)&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  delete context.fn;</span><br><span class="line">  return result;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="call"><a href="#call" class="headerlink" title="call"></a>call</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Function.prototype.myCall = function(context) &#123;</span><br><span class="line">  context.fn = this</span><br><span class="line">  let args = Array.prototype.slice(arguments, 1)</span><br><span class="line">  let result = context.fn(...args)</span><br><span class="line">  delete context.fn</span><br><span class="line">  return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h4><p>都知道instanceof实际上是用来判断对象的原型链上面能不能找到指定类型的原型。然后就按照这个原理来写歌demo<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function instance_of(l, r)&#123;</span><br><span class="line">    let proto = r.__proto__</span><br><span class="line">    l = l.__proto__</span><br><span class="line">    while(l) &#123;</span><br><span class="line">        if (l === proto) return true</span><br><span class="line">        if(l === null) return false</span><br><span class="line">        l = l.__proto__</span><br><span class="line">    &#125;</span><br><span class="line">    return false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 模拟函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stopImmediatePropagation和stopPropagation的区别</title>
      <link href="/2019/09/16/stopImmediatePropagation%E5%92%8CstopPropagation%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/2019/09/16/stopImmediatePropagation%E5%92%8CstopPropagation%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>在事件处理程序中，每个事件处理程序中间都会有一个event对象，而这个event对象有两个方法，一个是stopPropagation方法，一个是stopImmediatePropagation方法，两个方法只差一个Immediate，这里就说说这两个方法的区别<br><a id="more"></a></p><h3 id="stopImmediatePropagation方法："><a href="#stopImmediatePropagation方法：" class="headerlink" title="stopImmediatePropagation方法："></a>stopImmediatePropagation方法：</h3><p>stopImmediatePropagation方法作用在当前节点以及事件链上的所有后续节点上，目的是在执行完当前事件处理程序之后，停止当前节点以及所有后续节点的事件处理程序的运行</p><h3 id="stopPropagation方法"><a href="#stopPropagation方法" class="headerlink" title="stopPropagation方法"></a>stopPropagation方法</h3><p>stopPropagation方法作用在后续节点上，目的在执行完绑定到当前元素上的所有事件处理程序之后，停止执行所有后续节点的事件处理程序</p><h3 id="区别："><a href="#区别：" class="headerlink" title="区别："></a>区别：</h3><p>从概念上讲，在调用完stopPropagation函数之后，就会立即停止对后续节点的访问，但是会执行完绑定到当前节点上的所有事件处理程序；而调用stopImmediatePropagation函数之后，除了所有后续节点，绑定到当前元素上的、当前事件处理程序之后的事件处理程序就不会再执行了</p><h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// html</span><br><span class="line">&lt;div id = &quot;div1&quot;&gt;</span><br><span class="line">    &lt;button id = &quot;button1&quot;&gt;&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">// js</span><br><span class="line">　var div = document.getElementById(&quot;div1&quot;);</span><br><span class="line">  var btn = document.getElementById(&quot;button1&quot;);</span><br><span class="line">          </span><br><span class="line">  div.addEventListener(&quot;click&quot; , function(e)&#123;</span><br><span class="line">    // e.stopImmediatePropagation()</span><br><span class="line">    e.stopPropagation()</span><br><span class="line">    alert(&quot;第一次执行&quot;);</span><br><span class="line">  &#125; , true);        //1</span><br><span class="line">  div.addEventListener(&quot;click&quot; , function()&#123;alert(&quot;第二次执行&quot;);&#125; , true);        //2</span><br><span class="line">  btn.addEventListener(&quot;click&quot; , function()&#123;alert(&quot;button 执行&quot;);&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>1.在这里，给 1 函数alert后加上stopImmediatePropagation， 那么之后弹出窗口“第一次执行”<br>2.但是如果给 1 函数alert后加上stopPropagation ， 那么之后会弹出窗口“第一次执行”，“第二次执行”两个窗口</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js的事件模型</title>
      <link href="/2019/09/16/js%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B/"/>
      <url>/2019/09/16/js%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>其实，说起js的事件模型，有点基础的都能说几句， 分为三个阶段， 捕获-事件处理-冒泡，巴拉巴拉…。但是这并没有考虑到我们 <strong>“伟大”</strong> 的IE，有点考虑的不够全面。接下来系统性的详细的讲一波儿</p><h3 id="事件模型的前世今生"><a href="#事件模型的前世今生" class="headerlink" title="事件模型的前世今生"></a>事件模型的前世今生</h3><p>故事源于传说中的浏览器大战，微软的 IE 和网景的Netspace Navigator。<br>IE的事件流是冒泡 从里面往上面冒, netscape是从外部元素往内部元素捕获;后来出来了个W3C委员会，想要统一，为了兼容，宣布了后来的W3C事件模型（捕获-事件处理-冒泡），从此天下一统。 </p><a id="more"></a><h3 id="事件的三种模型"><a href="#事件的三种模型" class="headerlink" title="事件的三种模型"></a>事件的三种模型</h3><h4 id="DOM0-原始事件模型"><a href="#DOM0-原始事件模型" class="headerlink" title="DOM0(原始事件模型)"></a>DOM0(原始事件模型)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id=&quot;myButton&quot; type=&quot;button&quot; value=&quot;Press Me&quot; onclick=&quot;alert(&apos;thanks&apos;);&quot; &gt;</span><br><span class="line"></span><br><span class="line">or</span><br><span class="line"></span><br><span class="line">document.getElementById(&quot;myButton&quot;).onclick = function () &#123;alert(&apos;thanks&apos;);&#125;</span><br></pre></td></tr></table></figure><p>通常情况下事件监听函数如果返回一个值并且是false，则会阻止浏览器执行默认的动作</p><p>优点：</p><blockquote><p>所有浏览器都兼容</p></blockquote><p>缺点：</p><blockquote><ol><li>代码耦合严重</li><li>事件监听器只能有一个，重复赋值，后面会覆盖前面的</li><li>没有事件的冒泡、委托等机制完成更为负载的情况</li></ol></blockquote><h4 id="IE"><a href="#IE" class="headerlink" title="IE"></a>IE</h4><p>IE将event作为window的一个属性。IE的事件模型只有两步，执行处理函数，然后冒泡。<br>添加和移除事件监听的方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">attachEvent( &quot;eventType&quot;,&quot;handler&quot;)</span><br><span class="line">//其中evetType为事件的类型，如onclick，注意要加’on’。</span><br><span class="line"></span><br><span class="line">detachEvent(&quot;eventType&quot;,&quot;handler&quot; )</span><br></pre></td></tr></table></figure></p><h4 id="DOM2"><a href="#DOM2" class="headerlink" title="DOM2"></a>DOM2</h4><p>事件分为三个阶段： 捕获-处理目标-冒泡（IE8以及更早版本不支持DOM事件流）</p><ol><li>捕获阶段： 事件被从document一直向下传播到目标元素,在这过程中依次检查经过的节点是否注册了该事件的监听函数，若有则执行。</li><li>事件处理： 事件到达目标元素,执行目标元素的事件处理函数</li><li>冒泡：    事件从目标元素上升一直到达document，同样依次检查经过的节点是否注册了该事件的监听函数，有则执行。</li></ol><h3 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h3><h4 id="常用对象和属性"><a href="#常用对象和属性" class="headerlink" title="常用对象和属性"></a>常用对象和属性</h4><ul><li>DOM事件模型中的事件对象常用属性:</li></ul><ol><li>type用于获取事件类型</li><li>currentTarget 当前正在处理的事件的节点，在事件捕获或冒泡阶段</li><li>target获取事件目标</li><li>stopPropagation()阻止事件冒泡</li><li>preventDefault()阻止事件默认行为</li><li>keyCode：按下的键的值；</li><li>stopImmediatePropagation() (DOM3)阻止任何事件的运行；详情看<a href="http://39.105.159.58:8080/2019/09/16/stopImmediatePropagation%E5%92%8CstopPropagation%E7%9A%84%E5%8C%BA%E5%88%AB/" target="_blank" rel="noopener">http://39.105.159.58:8080/2019/09/16/stopImmediatePropagation%E5%92%8CstopPropagation%E7%9A%84%E5%8C%BA%E5%88%AB/</a></li></ol><ul><li>IE事件模型中的事件对象常用属性:</li></ul><ol><li>type用于获取事件类型</li><li>srcElement获取事件目标</li><li>cancelBubble阻止事件冒泡</li><li>returnValue阻止事件默认行为</li></ol><h4 id="事件对象中和定位相关的属性"><a href="#事件对象中和定位相关的属性" class="headerlink" title="事件对象中和定位相关的属性"></a>事件对象中和定位相关的属性</h4><ol><li>x/y与clientX/clientY值一样，表示距浏览器可视区域（工具栏除外区域）左/上的距离；</li><li>pageX/pageY，距页面左/上的距离，它与clientX/clientY的区别是不随滚动条的位置变化；</li><li>screenX/screenY，距计算机显示器左/上的距离，拖动你的浏览器窗口位置可以看到变化；</li><li>layerX/layerY与offsetX/offsetY值一样，表示距有定位属性的父元素左/上的距离。</li></ol><h3 id="事件委托-代理"><a href="#事件委托-代理" class="headerlink" title="事件委托/代理"></a>事件委托/代理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul id=&quot;parent&quot;&gt;</span><br><span class="line">  &lt;li class=&quot;child&quot;&gt;1&lt;/li&gt;</span><br><span class="line">  &lt;li class=&quot;child&quot;&gt;2&lt;/li&gt;</span><br><span class="line">  &lt;li class=&quot;child&quot;&gt;3&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">  //父元素</span><br><span class="line">  var dom= document.getElementById(&apos;parent&apos;);</span><br><span class="line"></span><br><span class="line">  //父元素绑定事件，代理子元素的点击事件</span><br><span class="line">  dom.onclick= function(event) &#123;</span><br><span class="line">    var event= event || window.event;</span><br><span class="line">    var curTarget= event.target || event.srcElement;</span><br><span class="line"></span><br><span class="line">    if (curTarget.tagName.toLowerCase() == &apos;li&apos;) &#123; //找到被代理的节点</span><br><span class="line">      //事件处理</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>优点：</p><ol><li>节省内存占用，减少事件注册</li><li>新增子对象时无需再次对其绑定事件，适合动态添加元素</li></ol><h3 id="eventBus的事件模型"><a href="#eventBus的事件模型" class="headerlink" title="eventBus的事件模型"></a>eventBus的事件模型</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 完整的思路就是，使用一个map存储 type：处理函数</span><br><span class="line"> *  有两种存储形式</span><br><span class="line"> *  type: function</span><br><span class="line"> *  type: [function, funciton, ...]</span><br><span class="line"> *  删除和添加的时候考虑到这两种情况就行了</span><br><span class="line"> */</span><br><span class="line">class EventEmitter&#123;</span><br><span class="line">  constructor () &#123;</span><br><span class="line">    this._events = this._events || new Map()</span><br><span class="line">    this._maxListeners = this._maxListeners || 10</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">EventEmitter.prototype.emit = function(type, ...args)&#123;</span><br><span class="line">  let handler = this._events.get(type)</span><br><span class="line">  if (Array.isArray(handler)) &#123;</span><br><span class="line">    for(let i=0;i&lt;handler.length;i++) &#123;</span><br><span class="line">      if(args.length &gt; 0) &#123;</span><br><span class="line">        handler[i].apply(this, args)</span><br><span class="line">      &#125;else &#123;</span><br><span class="line">        handler[i].call(this)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;else &#123;</span><br><span class="line">    if(args.length &gt;0) &#123;</span><br><span class="line">      handler.apply(this, args)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      handler.call(this)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">EventEmitter.prototype.addListener = function(type, fn) &#123;</span><br><span class="line">  const handler = this._events.get(type)</span><br><span class="line">  if(!handler) &#123;</span><br><span class="line">    this._events.set(type, handler)</span><br><span class="line">  &#125;else if(handler &amp;&amp; typeof handler === &apos;function&apos;) &#123;</span><br><span class="line">    this._events.set(type, [handler, fn])</span><br><span class="line">  &#125;else &#123;</span><br><span class="line">    handler.push(fn)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">EventEmitter.prototype.removeListener = function(type, fn) &#123;</span><br><span class="line">  const handler = this._events.get(type)</span><br><span class="line">  if(handler &amp;&amp; typeof handler === &apos;function&apos;) &#123;</span><br><span class="line">    this._events.delete(type)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    let position = -1</span><br><span class="line">    for (let i=0;i&lt;handler.length;i++) &#123;</span><br><span class="line">      if (handler[i] === fn) &#123;</span><br><span class="line">        position = i</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if (position !== -1) &#123;</span><br><span class="line">      handler.splice(position, 1)</span><br><span class="line">      if (handler.length === 1) &#123;</span><br><span class="line">        this._events.set(type, handler[0])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      return this</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 事件模型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>装箱和拆箱</title>
      <link href="/2019/09/12/%E8%A3%85%E7%AE%B1%E5%92%8C%E6%8B%86%E7%AE%B1/"/>
      <url>/2019/09/12/%E8%A3%85%E7%AE%B1%E5%92%8C%E6%8B%86%E7%AE%B1/</url>
      
        <content type="html"><![CDATA[<ul><li>装箱转换：把基本类型转换为对应的包装类型</li><li>拆箱操作：把引用类型转换为基本类型</li></ul><p>既然原始类型不能扩展属性和方法，那么我们是如何使用原始类型调用方法的呢？</p><p>每当我们操作一个基础类型时，后台就会自动创建一个包装类型的对象，从而让我们能够调用一些方法和属性，例如下面的代码：</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var name = &quot;ConardLi&quot;;</span><br><span class="line">var name2 = name.substring(2);</span><br></pre></td></tr></table></figure><p>实际上发生了以下几个过程：</p><ol><li>创建一个String的包装类型实例</li><li>在实例上调用substring方法</li><li>销毁实例</li></ol><p>也就是说，我们使用基本类型调用方法，就会自动进行装箱和拆箱操作，相同的，我们使用Number和Boolean类型时，也会发生这个过程。</p><p>从引用类型到基本类型的转换，也就是拆箱的过程中，会遵循ECMAScript规范规定的toPrimitive原则，一般会调用引用类型的valueOf和toString方法，你也可以直接重写toPeimitive方法。一般转换成不同类型的值遵循的原则不同，例如：</p><ul><li>引用类型转换为Number类型，先调用valueOf，再调用toString</li><li>引用类型转换String类型, 先调用toString，再调用valueOf</li></ul><p>若valueOf和toString都不存在，或者没有返回基本类型，则抛出TypeError异常。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">const obj = &#123;</span><br><span class="line">  valueOf: () =&gt; &#123; console.log(&apos;valueOf&apos;); return 123; &#125;,</span><br><span class="line">  toString: () =&gt; &#123; console.log(&apos;toString&apos;); return &apos;ConardLi&apos;; &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(obj - 1);   // valueOf   122</span><br><span class="line">console.log(`$&#123;obj&#125;ConardLi`); // toString  ConardLiConardLi</span><br><span class="line"></span><br><span class="line">const obj2 = &#123;</span><br><span class="line">  [Symbol.toPrimitive]: () =&gt; &#123; console.log(&apos;toPrimitive&apos;); return 123; &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(obj2 - 1);   // valueOf   122</span><br><span class="line"></span><br><span class="line">const obj3 = &#123;</span><br><span class="line">  valueOf: () =&gt; &#123; console.log(&apos;valueOf&apos;); return &#123;&#125;; &#125;,</span><br><span class="line">  toString: () =&gt; &#123; console.log(&apos;toString&apos;); return &#123;&#125;; &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(obj3 - 1);  </span><br><span class="line">// valueOf  </span><br><span class="line">// toString</span><br><span class="line">// TypeError</span><br></pre></td></tr></table></figure></p><p>除了程序中的自动拆箱和自动装箱，我们还可以手动进行拆箱和装箱操作。我们可以直接调用包装类型的valueOf或toString，实现拆箱操作：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var num =new Number(&quot;123&quot;);  </span><br><span class="line">console.log( typeof num.valueOf() ); //number</span><br><span class="line">console.log( typeof num.toString() ); //string</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 类型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>判断类型的方式</title>
      <link href="/2019/09/12/%E5%88%A4%E6%96%AD%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%96%B9%E5%BC%8F/"/>
      <url>/2019/09/12/%E5%88%A4%E6%96%AD%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h4 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h4><p>取值范围</p><ul><li>number</li><li>string</li><li>object</li><li>function</li><li>boolean</li><li>symbol</li><li>boolean</li></ul><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">typeof 12 // &apos;number&apos;</span><br><span class="line">typeof &apos;aa&apos; // &apos;string&apos;</span><br><span class="line">typeof false // &apos;boolean&apos;</span><br><span class="line">typeof &#123;&#125; // &apos;object&apos;</span><br><span class="line">typeof function()&#123;&#125; // &apos;function&apos;</span><br><span class="line">typeof [] // &apos;object&apos;</span><br><span class="line">typeof new Date() // &apos;object&apos;</span><br><span class="line">typeof Symbol() // &apos;symbol&apos;</span><br><span class="line">typeof /\w+/ig  // &apos;object&apos;</span><br></pre></td></tr></table></figure><h4 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h4><p>instanceof操作符可以帮助我们判断引用类型具体是什么类型的对象：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[] instanceof Array // true</span><br><span class="line">new Date() instanceof Date // true</span><br><span class="line">new RegExp() instanceof RegExp // true</span><br></pre></td></tr></table></figure></p><p>我们先来回顾下原型链的几条规则：</p><pre><code>1.所有引用类型都具有对象特性，即可以自由扩展属性2.所有引用类型都具有一个__proto__（隐式原型）属性，是一个普通对象3.所有的函数都具有prototype（显式原型）属性，也是一个普通对象4.所有引用类型__proto__值指向它构造函数的prototype5.当试图得到一个对象的属性时，如果变量本身没有这个属性，则会去他的__proto__中去找</code></pre><p>[] instanceof Array实际上是判断Array.prototype是否在[]的原型链上。</p><p>所以，使用instanceof来检测数据类型，不会很准确，这不是它设计的初衷：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[] instanceof Object // true</span><br><span class="line">function()&#123;&#125;  instanceof Object // true</span><br></pre></td></tr></table></figure></p><p>另外，使用instanceof也不能检测基本数据类型，所以instanceof并不是一个很好的选择。</p><h4 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h4><p>上面我们在拆箱操作中提到了toString函数，我们可以调用它实现从引用类型的转换。</p><blockquote><p>每一个引用类型都有toString方法，默认情况下，toString()方法被每个Object对象继承。如果此方法在自定义对象中未被覆盖，toString() 返回 “[object type]”，其中type是对象的类型。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const obj = &#123;&#125;;</span><br><span class="line">obj.toString() // [object Object]</span><br></pre></td></tr></table></figure></p></blockquote><p>注意，上面提到了如果此方法在自定义对象中未被覆盖，toString才会达到预想的效果，事实上，大部分引用类型比如Array、Date、RegExp等都重写了toString方法。</p><p>我们可以直接调用Object原型上未被覆盖的toString()方法，使用call来改变this指向来达到我们想要的效果。</p><p><img src="/.tech:8080//tyep_convert.png" alt="69d729d45ae5c456c6035c53f824b7d1.png"></p><h4 id="jquery中判断类型的方式"><a href="#jquery中判断类型的方式" class="headerlink" title="jquery中判断类型的方式"></a>jquery中判断类型的方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">var types = [</span><br><span class="line">  &apos;Boolean&apos;,</span><br><span class="line">  &apos;Number&apos;,</span><br><span class="line">  &apos;String&apos;,</span><br><span class="line">  &apos;Function&apos;,</span><br><span class="line">  &apos;Array&apos;,</span><br><span class="line">  &apos;Date&apos;,</span><br><span class="line">  &apos;RegExp&apos;,</span><br><span class="line">  &apos;Object&apos;,</span><br><span class="line">  &apos;Error&apos;,</span><br><span class="line">  &apos;Symbol&apos;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">var class2type = &#123;&#125;</span><br><span class="line"></span><br><span class="line">types.forEach(name =&gt; &#123;</span><br><span class="line">  class2type[`[object $&#123;name&#125;]`] = name.toLocaleLowerCase()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">function type(obj) &#123;</span><br><span class="line">  if (obj == null) &#123;</span><br><span class="line">    return obj+&apos;&apos;</span><br><span class="line">  &#125;</span><br><span class="line">  return typeof obj === &apos;object&apos; </span><br><span class="line">  ? class2type[Object.prototype.toString.call(obj)] || &apos;object&apos; </span><br><span class="line">  : typeof obj</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">测试：</span><br><span class="line">console.log(type(12))   // number</span><br><span class="line">console.log(type(&apos;12&apos;))  // string </span><br><span class="line">console.log(type(false))  // boolean</span><br><span class="line">console.log(type(&#123;&#125;))    // object</span><br><span class="line">console.log(type([]))  // object</span><br><span class="line">console.log(type(Symbol()))   //symbol</span><br><span class="line">console.log(type(function()&#123;&#125;))  //function</span><br><span class="line">console.log(type(undefined))     //undefined</span><br><span class="line">console.log(type(null))    // null</span><br><span class="line">console.log(type(Boolean(1)))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 类型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>类型转换</title>
      <link href="/2019/09/12/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"/>
      <url>/2019/09/12/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<h4 id="1-类型转换规则"><a href="#1-类型转换规则" class="headerlink" title="1. 类型转换规则"></a>1. 类型转换规则</h4><p><img src="/images/leixingzhuanhuan.png" alt="1aa4dd552dadf8f2b6b10384bb7dd6fc.png"><br><a id="more"></a></p><h4 id="2-If语句和逻辑语句"><a href="#2-If语句和逻辑语句" class="headerlink" title="2. If语句和逻辑语句"></a>2. If语句和逻辑语句</h4><p>在if语句和逻辑语句中，如果只有单个变量，会先将变量转换为Boolean值，只有下面几种情况会转换成false，其余被转换成true：</p><ul><li>null</li><li>undefined</li><li>‘’</li><li>NaN</li><li>0</li><li>false</li></ul><h4 id="3-各种运数学算符"><a href="#3-各种运数学算符" class="headerlink" title="3.各种运数学算符"></a>3.各种运数学算符</h4><p>我们在对各种非Number类型运用数学运算符(- * /)时，会先将非Number类型转换为Number类型;</p><ul><li>1 - true // 0</li><li>1 - null // 1</li><li>1 * undefined // NaN</li><li>2 * [‘5’] //10</li></ul><blockquote><p>注意+是个例外，执行+操作符时：<br>1.当一侧为String类型，被识别为字符串拼接，并会优先将另一侧转换为字符串类型。<br>2.当一侧为Number类型，另一侧为原始类型，则将原始类型转换为Number类型。<br>3.当一侧为Number类型，另一侧为引用类型，将引用类型和Number类型转换成字符串后拼接。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">123 + &apos;123&apos; // 123123   （规则1）</span><br><span class="line">123 + null  // 123    （规则2）</span><br><span class="line">123 + true // 124    （规则2）</span><br><span class="line">123 + &#123;&#125;  // 123[object Object]    （规则3）</span><br></pre></td></tr></table></figure></p></blockquote><h4 id="4"><a href="#4" class="headerlink" title="4. =="></a>4. ==</h4><p>使用==时，若两侧类型相同，则比较结果和===相同，否则会发生隐式转换，使用==时发生的转换可以分为几种不同的情况（只考虑两侧类型不同）</p><h5 id="4-1-NaN"><a href="#4-1-NaN" class="headerlink" title="4-1. NaN"></a>4-1. NaN</h5><p>NaN和其他任何类型比较永远返回false(包括和他自己)。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NaN == NaN // false</span><br></pre></td></tr></table></figure></p><h5 id="4-2-Boolean"><a href="#4-2-Boolean" class="headerlink" title="4-2. Boolean"></a>4-2. Boolean</h5><p>Boolean和其他任何类型比较，Boolean首先被转换为Number类型。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">true == 1  // true </span><br><span class="line">true == &apos;2&apos;  // false</span><br><span class="line">true == [&apos;1&apos;]  // true</span><br><span class="line">true == [&apos;2&apos;]  // false</span><br></pre></td></tr></table></figure></p><blockquote><p>这里注意一个可能会弄混的点：undefined、null和Boolean比较，虽然undefined、null和false都很容易被想象成假值，但是他们比较结果是false，原因是false首先被转换成0</p></blockquote><h5 id="4-3-String和Number"><a href="#4-3-String和Number" class="headerlink" title="4-3.String和Number"></a>4-3.String和Number</h5><p>String和Number比较，先将String转换为Number类型。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">123 == &apos;123&apos; // true</span><br><span class="line">&apos;&apos; == 0 // true</span><br></pre></td></tr></table></figure></p><h5 id="4-4-null和undefined"><a href="#4-4-null和undefined" class="headerlink" title="4-4 null和undefined"></a>4-4 null和undefined</h5><p>null == undefined比较结果是true，除此之外，null、undefined和其他任何结果的比较值都为false。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">null == undefined // true</span><br><span class="line">null == &apos;&apos;       // false</span><br><span class="line">null == 0        // false</span><br><span class="line">null == false    // false</span><br><span class="line">undefined == &apos;&apos;  // false</span><br><span class="line">undefined == 0   // false</span><br><span class="line">undefined == false // false</span><br></pre></td></tr></table></figure></p><h5 id="4-5-原始类型和引用类型"><a href="#4-5-原始类型和引用类型" class="headerlink" title="4-5 原始类型和引用类型"></a>4-5 原始类型和引用类型</h5><p>当原始类型和引用类型做比较时，对象类型会依照ToPrimitive规则转换为原始类型:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&apos;[object Object]&apos; == &#123;&#125; // true</span><br><span class="line">&apos;1,2,3&apos; == [1, 2, 3]   // true</span><br></pre></td></tr></table></figure></p><p>来看看下面这个比较：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[] == ![] // true</span><br></pre></td></tr></table></figure></p><p>!的优先级高于==，![]首先会被转换为false，然后根据上面第三点，false转换成Number类型0，左侧[]转换为0，两侧比较相等。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[null] == false     // true</span><br><span class="line">[undefined] == false // true</span><br></pre></td></tr></table></figure></p><p>根据数组的ToPrimitive规则，数组元素为null或undefined时，该元素被当做空字符串处理，所以[null]、[undefined]都会被转换为0。</p><blockquote><p>所以，说了这么多，推荐使用===来判断两个值是否相等…😭</p></blockquote><h4 id="有意思的面试题"><a href="#有意思的面试题" class="headerlink" title="有意思的面试题"></a>有意思的面试题</h4><p>一道经典的面试题，如何让：a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3。<br>根据上面的拆箱转换，以及==的隐式转换，我们可以轻松写出答案：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;</span><br><span class="line">   value:[3,2,1],</span><br><span class="line">   valueOf: function () &#123;return this.value.pop(); &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">var a = &#123;</span><br><span class="line">   value:[1,2,3],</span><br><span class="line">   valueOf: function () &#123;return this.value.shift(); &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>对象和数字比较==，对象会隐式转换为number, 调用valueOf函数</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 类型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dataTable中自定义列排序问题</title>
      <link href="/2019/09/11/dataTable%E4%B8%AD%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%97%E6%8E%92%E5%BA%8F%E9%97%AE%E9%A2%98/"/>
      <url>/2019/09/11/dataTable%E4%B8%AD%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%97%E6%8E%92%E5%BA%8F%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>在使用dataTables的时候，有些列中会是一些包含内容的按钮或链接，不是单纯的文字内容。那么dataTables会将这些内容视为字符串，进行排序，有时候这不符合我们的期望。那么就需要自己能够灵活的指定某些列按照我们的意愿进行排序，幸运的是dataTable支持这样的插件拓展。</p><ol><li>首先创建一个文件叫dataTables.sort.plungin.js，加入以下代码。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">jQuery.extend(jQuery.fn.dataTableExt.oSort, &#123;</span><br><span class="line">    &quot;html-percent-pre&quot;: function (a) &#123;</span><br><span class="line">        var x = String(a).replace(/&lt;[\s\S]*?&gt;/g, &quot;&quot;);    //去除html标记</span><br><span class="line">        x = x.replace(/&amp;amp;nbsp;/ig, &quot;&quot;);                   //去除空格</span><br><span class="line">        x = x.replace(/%/, &quot;&quot;);                          //去除百分号</span><br><span class="line">        return parseFloat(x);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &quot;html-percent-asc&quot;: function (a, b) &#123;                //正序排序引用方法</span><br><span class="line">        return ((a &lt; b) ? -1 : ((a &gt; b) ? 1 : 0));</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &quot;html-percent-desc&quot;: function (a, b) &#123;                //倒序排序引用方法</span><br><span class="line">        return ((a &lt; b) ? 1 : ((a &gt; b) ? -1 : 0));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><a id="more"></a><p>2.在前台页面中加入以下的 js 引用。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;jquery.dataTables.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;dataTables.numericComma.js&quot;&gt;&lt;/script&gt; </span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">            var oTable1 = $(&apos;#table_report&apos;).dataTable(&#123;</span><br><span class="line">                &quot;aoColumnDefs&quot;: [</span><br><span class="line">                    &#123; &quot;sType&quot;: &quot;html-percent&quot;, &quot;aTargets&quot;: [8] &#125;,    //指定列号使用自定义排序</span><br><span class="line">                ],</span><br><span class="line">                &quot;bLengthChange&quot;: true, //开关，是否显示每页大小的下拉框</span><br><span class="line">                &quot;aLengthMenu&quot;: [[5, 10, 25, -1], [5, 10, 25, &quot;所有&quot;]],</span><br><span class="line">                &apos;iDisplayLength&apos;: 25, //每页显示10条记录</span><br><span class="line">                &apos;bFilter&apos;: true,  //是否使用内置的过滤功能</span><br><span class="line">                &quot;bInfo&quot;: true, //开关，是否显示表格的一些信息</span><br><span class="line">                &quot;bPaginate&quot;: true //开关，是否显示分页器</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 插件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> dataTable </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>codemirror基本配置</title>
      <link href="/2019/09/10/codemirror%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/09/10/codemirror%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">export const editorOption = &#123;</span><br><span class="line">  tabSize: 2,</span><br><span class="line">  styleActiveLine: true,</span><br><span class="line">  line: true,</span><br><span class="line">  mode: &apos;text/x-nginx-conf&apos;,</span><br><span class="line">  lineNumbers: true,  // 显示行号</span><br><span class="line">  theme: &apos;solarized&apos;,  // 设置主题</span><br><span class="line">  keyMap: &apos;sublime&apos;,  // 绑定sublime</span><br><span class="line">  fullScreen: false,  // 全屏模式</span><br><span class="line">  matchBrackets: true,  // 括号匹配</span><br><span class="line">  indentWithTabs: true,</span><br><span class="line">  readOnly: false</span><br><span class="line">&#125;</span><br><span class="line">import &#123; codemirror &#125; from &apos;vue-codemirror&apos;</span><br><span class="line">import &#123; editorOption &#125; from &apos;@/api/convention&apos;</span><br><span class="line">require(&apos;codemirror/keymap/sublime.js&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div style=&quot;width: 80%;&quot;&gt;</span><br><span class="line">   &lt;codemirror v-model=&quot;templateForm.content&quot; :options=&quot;editorOption&quot;&gt;&lt;/codemirror&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.CodeMirror &#123;</span><br><span class="line">  height: 360px;</span><br><span class="line">&#125;</span><br><span class="line">.CodeMirror-fullscreen &#123;</span><br><span class="line">  z-index: 9999;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 插件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> codemirror </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>比较两个值相等</title>
      <link href="/2019/09/08/%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E5%80%BC%E7%9B%B8%E7%AD%89/"/>
      <url>/2019/09/08/%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E5%80%BC%E7%9B%B8%E7%AD%89/</url>
      
        <content type="html"><![CDATA[<p>首先回顾javascript的数据类型：</p><ol><li>string</li><li>number</li><li>boolean</li><li>undefined</li><li>null</li><li>object(array 、function、普通object )</li><li>symbol(es6新加)</li></ol><p>其中 string、number、boolean 、undefined、null 是直接比较值的，可以通过===判断<br>object 、symbol是比较地址的，地址相同则视为相等</p><p>so,</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function valueEqual (a, b) &#123;</span><br><span class="line">    //处理number string boolean undefined null function symbol</span><br><span class="line">    if (a === b) return true</span><br><span class="line">    //处理数组前的预判断</span><br><span class="line">    if (!(a instanceof Array) || !(b instanceof Array)) return false</span><br><span class="line">    if (a.length !== b.length) return false</span><br><span class="line">    //正式判断数组和对象</span><br><span class="line">    for (let i = 0; i &lt; a.length; i++) &#123;</span><br><span class="line">        if (a[i] !== b[i]) return false</span><br><span class="line">    &#125;</span><br><span class="line">    return true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>监听快捷键</title>
      <link href="/2019/09/08/%E7%9B%91%E5%90%AC%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>/2019/09/08/%E7%9B%91%E5%90%AC%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt; </span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; </span><br><span class="line">&lt;script type=&quot;text/javascript&quot; language=JavaScript&gt; </span><br><span class="line">       document.onkeydown=function(event)&#123; </span><br><span class="line">            var e = event || window.event || arguments.callee.caller.arguments[0]; </span><br><span class="line">            if(e &amp;&amp; e.keyCode==27)&#123; // 按 Esc  </span><br><span class="line">                //要做的事情 </span><br><span class="line">alert(&quot;按 esc&quot;); </span><br><span class="line">            &#125; </span><br><span class="line">            if(e &amp;&amp; e.keyCode==113)&#123; // 按 F2  </span><br><span class="line">                //要做的事情 </span><br><span class="line">alert(&quot;按 f2&quot;); </span><br><span class="line">            &#125;             </span><br><span class="line">            if(e &amp;&amp; e.keyCode==13)&#123; // enter 键 </span><br><span class="line">                //要做的事情 </span><br><span class="line">alert(&quot;按 Enter&quot;); </span><br><span class="line">            &#125;</span><br><span class="line">if (e.keyCode == 86 &amp;&amp; e.ctrlKey) &#123;  </span><br><span class="line">                alert(&quot;你按下了ctrl+V&quot;);  </span><br><span class="line">            &#125;</span><br><span class="line">         &#125;;  </span><br><span class="line">&lt;/script&gt; </span><br><span class="line">&lt;/head&gt; </span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;/body&gt; </span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>repaint重绘和reflow回流</title>
      <link href="/2019/09/07/repaint%E9%87%8D%E7%BB%98%E5%92%8Creflow%E5%9B%9E%E6%B5%81/"/>
      <url>/2019/09/07/repaint%E9%87%8D%E7%BB%98%E5%92%8Creflow%E5%9B%9E%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<p>前言： 为什么不能用CSS通配符 *，CSS选择器层叠为什么不能超过三层，CSS为什么尽量使用类选择器，书写HTML为什么少使用table，为什么结构要尽量简单-DOM树要小….</p><h3 id="浏览器解析大概的工作流程大致可归纳为四个步骤："><a href="#浏览器解析大概的工作流程大致可归纳为四个步骤：" class="headerlink" title="浏览器解析大概的工作流程大致可归纳为四个步骤："></a>浏览器解析大概的工作流程大致可归纳为四个步骤：</h3><ol><li>解析HTML以构建DOM树：渲染引擎开始解析HTML文档，转换树中的html标签或js生成的标签到DOM节点，它被称为 – 内容树。</li><li>构建渲染树：解析CSS（包括外部CSS文件和样式元素以及js生成的样式）成样式结构体，根据CSS选择器计算出节点的样式，创建另一个树 —- 渲染树（render tree）。 注：在解析的过程中会去掉浏览器不能识别的样式，比如IE会去掉-moz开头的样式，而firefox会去掉_开头的样式。</li><li>布局渲染树: 从根节点递归调用，计算每一个元素的大小、位置等，给每个节点所应该出现在屏幕上的精确坐标。</li><li><p>绘制渲染树: 遍历渲染树，每个节点将使用UI后端层来绘制。</p><a id="more"></a></li></ol><p>比较：<br>    render tree能识别样式，render tree中每个node都有自己的style，而且render tree不包含隐藏的节点(比如display:none的节点，还有head节点)，因为这些节点不会用于呈现，而且不会影响呈现的，所以就不会包含到 render tree中。注意 visibility:hidden隐藏的元素还是会包含到render tree中的，因为visibility:hidden 会影响布局(layout)，会占有空间。<br>定义<br>    我们可以看到 Reflow 和Repaint 分别出现在了第三和第四步。因此我们给出下面的定义： 对于DOM结构中的各个元素都有自己的盒子（模型），这些都需要浏览器根据各种样式（浏览器的、开发人员定义的等）来计算并根据计算结果将元素放到它该出现的<strong>位置</strong>，这个过程称之为<strong>reflow</strong>； 当各种盒子的<strong>位置、大小以及其他属性</strong>，例如颜色、字体大小等都确定下来后，浏览器于是便把这些元素都按照各自的特性绘制了一遍，于是页面的内容出现了，这个过程称之为<strong>repaint</strong>。<br>回流与重绘总结：<br>        当render tree中的一部分(或全部)因为元素的规模尺寸，布局，隐藏等改变而需要重新构建。这就称为回流(reflow)。<br>        <strong>每个页面至少需要一次回流</strong>，就是在页面第一次加载的时候。在回流的时候，浏览器会使渲染树中受到影响的部分失效，并重新构造这部分渲染树，完成回流后，浏览器会重新绘制受影响的部分到屏幕中，该过程成为重绘。 当render tree中的一些元素需要更新属性，而这些属性只是影响元素的外观，风格，而不会影响布局的，比如background-color。则就叫称为repaint重绘。 <strong>注意：回流必将引起重绘，而重绘不一定会引起回流。 引起Repain和Reflow的一些操作 Reflow 的成本比 Repaint 的成本高得多的多</strong>。DOM Tree 里的每个结点都会有 reflow 方法，一个结点的 reflow 很有可能导致子结点，甚至父点以及同级结点的 reflow。 当你增加、删除、修改 DOM 结点时，会导致 Reflow 或 Repaint。 当你移动 DOM 的位置，或是搞个动画的时候。 当你修改 /删除CSS 样式的时候。 当你 Resize 窗口的时候（移动端没有这个问题），或是滚动的时候。 当你修改网页的默认字体时。 当你设置 style 属性的值 （Setting a property of the style attribute）。 </p><blockquote><p>注：display:none 会触发 reflow，而 visibility:hidden 只会触发 repaint，因为没有发现位置变化。</p></blockquote><h3 id="如何减少Repain和Reflow-Reflow是不可避免的，只能将Reflow对性能的影响减到最小-给出下面几条建议："><a href="#如何减少Repain和Reflow-Reflow是不可避免的，只能将Reflow对性能的影响减到最小-给出下面几条建议：" class="headerlink" title="如何减少Repain和Reflow? Reflow是不可避免的，只能将Reflow对性能的影响减到最小,给出下面几条建议："></a>如何减少Repain和Reflow? Reflow是不可避免的，只能将Reflow对性能的影响减到最小,给出下面几条建议：</h3><ol><li>不要一条一条地修改 DOM 的样式。与其这样，还不如预先定义好 css 的 class，然后修改 DOM 的 className，即将多次改变样式属性的操作合并成一次操作：<br>// 不好的写法 var left = 10, top = 10; el.style.left = left + “px”; el.style.top = top + “px”; el.style.background = ‘#eee’; // 比较好的写法 el.className += “ theclassname”;</li><li>让要操作的元素进行”离线处理”，处理完后一起更新<br>使用DocumentFragment进行缓存操作,引发一次回流和重绘；<br>使用display:none技术，只引发两次回流和重绘;<br>原理：由于isplay属性为none的元素不在渲染树中，对隐藏的元素操 作不会引发其他元素的重排。如果要对一个元素进行复杂的操作时，可以先隐藏它，操作完成后再显示。这样只在隐藏和显示时触发2次重排。<br>使用cloneNode(true or false) 和 replaceChild 技术，引发一次回流和重绘；</li><li>不要把 DOM 节点的属性值放在一个循环里当成循环里的变量。不然这会导致大量地读写这个结点的属性。</li><li>尽可能的修改层级比较低的 DOM节点。当然，改变层级比较底的 DOM节点有可能会造成大面积的 reflow，但是也可能影响范围很小。 因为改变 DOM 树中的一级会导致所有层级的改变，上至根部，下至被改变节点的子节点。这导致大量时间耗费在执行 reflow 上面</li><li>将需要多次重排的元素，position属性设为absolute或fixed，这样此元素就脱离了文档流，它的变化不会影响到其他元素为动画的 HTML 元素，例如动画，那么修改他们的 CSS 是会大大减小 reflow 。因为,   它们不影响其他元素的布局，所它他们只会导致重新绘制，而不是一个完整回流。这样消耗会更低。</li><li>不要用tables布局的一个原因就是tables中某个元素一旦触发reflow就会导致table里所有的其它元素reflow。在适合用table的场合，可以设置table-layout为auto或fixed，这样可以让table一行一行的   渲染，这种做法也是为了限制reflow的影响范围。</li><li>避免使用CSS的JavaScript表达式，如果css里有expression，每次都会重新计算一遍。<blockquote><p>来源： <a href="https://blog.csdn.net/ClaireKe/article/details/51375622" target="_blank" rel="noopener">https://blog.csdn.net/ClaireKe/article/details/51375622</a></p></blockquote></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> 渲染过程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>从url到页面渲染的流程</title>
      <link href="/2019/09/07/%E4%BB%8Eurl%E5%88%B0%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E7%9A%84%E6%B5%81%E7%A8%8B/"/>
      <url>/2019/09/07/%E4%BB%8Eurl%E5%88%B0%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E7%9A%84%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>从用户在浏览器中输入一个URL，到整个页面渲染，这个过程中究竟发生了什么呢？今天先简单写下整个过程，后面再一点点完善。</p><h3 id="DNS解析获取IP地址"><a href="#DNS解析获取IP地址" class="headerlink" title="DNS解析获取IP地址"></a>DNS解析获取IP地址</h3><ol><li>首先会在浏览器的缓存中查找，是否缓存了URL，如果有，就直接向该URL对应的服务器发送请求；如果没有则进行下一步;</li><li>在本地的hosts文件中是否保存了该URL和其对应的IP地址，如果保存了，就直接向该URL对应的服务器发送请求；如果没有则进行下一步；</li><li>向本地DNS服务器（一般由本地网络接入服务器提供商ISP提供，比如移动、联通）发送DNS请求，本地DNS服务器会首先查询它的缓存记录，如果有就将该域名对应的IP地址返回给用户，如果没有则进行下一步；</li><li>首先向根域名服务器发送DNS查询请求，根域名服务器返回给可能保存了该域名的一级域名服务器地址；本地主机再根据返回的地址，向一级域名服务器发送DNS查询请求；…一直迭代，直到找到对应的域名存放的服务器，向其发送DNS查询请求，该域名服务器返回该域名对应的IP地址；</li></ol><a id="more"></a><h3 id="TCP-IP连接"><a href="#TCP-IP连接" class="headerlink" title="TCP/IP连接"></a>TCP/IP连接</h3><p>三次握手：<br>为什么要进行三次握手？如果是两次握手，如下面的对话只有前两句，有可能出现的问题是：客户端之前发送了一个连接请求报文，由于网络原因滞留在网络中，后来到达服务器端，服务器接收到该请求，就会建立连接，等待客户端传送数据。而此时客户端压根就不知道发生了什么，白白造成了服务器资源浪费。<br><img src="/images/三次握手.png" alt="三次握手"></p><ol><li>客户端：我要请求数据可以吗？</li><li>服务器：可以的</li><li>客户端：好的</li></ol><h3 id="浏览器向web服务器发送http请求"><a href="#浏览器向web服务器发送http请求" class="headerlink" title="浏览器向web服务器发送http请求"></a>浏览器向web服务器发送http请求</h3><p>  客户机与服务器建立连接后就可以通信了，这里就暂时先不详细展开说http请求了。讲下客户端请求静态资源和动态资源。</p><ol><li>静态资源：如果客户端请求的是静态资源，则web服务器根据URL地址到服务器的对应路径下查找文件，然后给客户端返回一个HTTP响应，包括状态行、响应头和响应正文。</li><li>动态资源：如果客户端请求的是动态资源，则web服务器会调用CGI/VM执行程序完成相应的操作，如查询数据库，然后返回查询结果数据集，并将运行的结果–HTML文件返回给web服务器。Web服务器再将HTML文件返回给用户。</li></ol><h3 id="浏览器渲染"><a href="#浏览器渲染" class="headerlink" title="浏览器渲染"></a>浏览器渲染</h3><p>  详情请看<a href="http://yongchao.tech:8080/2019/09/07/repaint重绘和reflow回流/">http://yongchao.tech:8080/2019/09/07/repaint重绘和reflow回流/</a><br>  浏览器拿到HTML文件后，根据渲染规则进行渲染：</p><ol><li>解析HTML，构建DOM树</li><li>解析CSS，生成CSS规则树</li><li>合并DOM树和CSS规则树，生成render树</li><li>布局render树</li><li>绘制render数、树，即绘制页面像素信息</li><li>GPU将各层合成，结果呈现在浏览器窗口中。</li></ol><h3 id="四次挥手"><a href="#四次挥手" class="headerlink" title="四次挥手"></a>四次挥手</h3><p>客户端没有数据发送时就需要断开连接，以释放服务器资源。<br><img src="/images/四次挥手.png" alt="四次挥手"></p><ol><li>客户端：我没有数据要发送了，打算断开连接</li><li>服务器：你的请求我收到了，我这还有数据没有发送完成，你等下</li><li>服务器：我的数据发送完毕，可以断开连接了</li><li>客户端：ok，你断开连接吧（客户端独白：我将在2倍的最大报文段生存时间后关闭连接。如果我再次收到服务器的消息，我就知道服务器没有收到我的这句话，我就再发送一遍）。<br>最终服务器收到该客户端发送的消息断开连接，客户端也关闭连接。</li></ol><blockquote><p>注：本文摘自 <a href="https://segmentfault.com/a/1190000014311983" target="_blank" rel="noopener">https://segmentfault.com/a/1190000014311983</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 渲染过程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>reduce函数的应用</title>
      <link href="/2019/08/26/reduce%E5%87%BD%E6%95%B0%E7%9A%84%E5%BA%94%E7%94%A8/"/>
      <url>/2019/08/26/reduce%E5%87%BD%E6%95%B0%E7%9A%84%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var arr = [11,3,4,556,7,8,-4]</span><br></pre></td></tr></table></figure><h4 id="获得最大值-最小值"><a href="#获得最大值-最小值" class="headerlink" title="获得最大值/最小值"></a>获得最大值/最小值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a= arr.reduce((a, b) =&gt; &#123;</span><br><span class="line">  return a &gt; b ? a: b</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><a id="more"></a><h4 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var arr1 = [1, 2, 3, 1, 1, 2, 3, 3, 4, 3, 4, 5]</span><br><span class="line">let ret1 = arr1.reduce((a, b) =&gt; &#123;</span><br><span class="line">  if(!a.includes(b)) &#123;</span><br><span class="line">    a.push(b)</span><br><span class="line">  &#125;</span><br><span class="line">  return a</span><br><span class="line">&#125;, [])</span><br></pre></td></tr></table></figure><h4 id="实现map函数"><a href="#实现map函数" class="headerlink" title="实现map函数"></a>实现map函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype._map = function(cb) &#123;</span><br><span class="line">  if(typeof cb === &apos;function&apos;) &#123;</span><br><span class="line">    let arr = this</span><br><span class="line">    return arr.reduce((prev, next, index, array) =&gt; &#123;</span><br><span class="line">      prev.push(cb(next, index, array))</span><br><span class="line">      return prev</span><br><span class="line">    &#125;, [])</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    throw new Error(&apos;cb&apos; + &apos; is not function&apos; )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="实现一个filter函数"><a href="#实现一个filter函数" class="headerlink" title="实现一个filter函数"></a>实现一个filter函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype._filter = function(cb) &#123;</span><br><span class="line">  if(typeof cb === &apos;function&apos;) &#123;</span><br><span class="line">    let arr = this</span><br><span class="line">    return arr.reduce((prev, next, index, array) =&gt; &#123;</span><br><span class="line">      cb(next, index, array) &amp;&amp; prev.push(next)</span><br><span class="line">      return prev</span><br><span class="line">    &#125;, [])</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    throw new Error(&apos;cb&apos; + &apos; is not function&apos; )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="数组扁平化"><a href="#数组扁平化" class="headerlink" title="数组扁平化"></a>数组扁平化</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">let arr2 = [1, 2, &apos;3js&apos;, [4, 5, [6], [7, 8, [9, 10, 11], null, &apos;abc&apos;], &#123;age: 12&#125;, [13, 14]], &apos;[]&apos;];</span><br><span class="line">function flatten(arr) &#123;</span><br><span class="line">  if(Array.isArray(arr)) &#123;</span><br><span class="line">    return arr.reduce((prev, cur) =&gt; &#123;</span><br><span class="line">       // 如果遍历的当前项是数组，再迭代展平</span><br><span class="line">      return Array.isArray(cur) ? prev.concat(flatten(cur)) : prev.concat(cur)</span><br><span class="line">    &#125;, [])</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    throw new Error(arr + &apos; is not array&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="统计字符串中每个字符出现的次数"><a href="#统计字符串中每个字符出现的次数" class="headerlink" title="统计字符串中每个字符出现的次数"></a>统计字符串中每个字符出现的次数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const str = &apos;9kFZTQLbUWOjurz9IKRdeg28rYxULHWDUrIHxCY6tnHleoJ&apos;</span><br><span class="line"></span><br><span class="line">var ret3 = Array.from(str).reduce((accumulator, current) =&gt; &#123;</span><br><span class="line">  current in accumulator ? accumulator[current]++ : accumulator[current] = 1</span><br><span class="line">  return accumulator</span><br><span class="line">&#125;, &#123;&#125;)</span><br></pre></td></tr></table></figure><h4 id="过滤满足多个条件的数组"><a href="#过滤满足多个条件的数组" class="headerlink" title="过滤满足多个条件的数组"></a>过滤满足多个条件的数组</h4><blockquote><p>将过滤函数作为数组进行调用， 初始值为原数据数组</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const filter1 = (arr) =&gt; arr.filter(item =&gt; item.name.length === 3)</span><br><span class="line">const filter2 = (arr) =&gt; arr.filter(item =&gt; item.age &gt; 26)</span><br><span class="line">var ret5 = [filter1, filter2].reduce((accumulator, fn) =&gt; fn(accumulator), arr4)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>css中的各种尺寸</title>
      <link href="/2019/08/21/css%E4%B8%AD%E7%9A%84%E5%90%84%E7%A7%8D%E5%B0%BA%E5%AF%B8/"/>
      <url>/2019/08/21/css%E4%B8%AD%E7%9A%84%E5%90%84%E7%A7%8D%E5%B0%BA%E5%AF%B8/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/css/size.png" alt="css各种尺寸的说明图"></p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>repalce函数的应用</title>
      <link href="/2019/08/21/repalce%E5%87%BD%E6%95%B0%E7%9A%84%E5%BA%94%E7%94%A8/"/>
      <url>/2019/08/21/repalce%E5%87%BD%E6%95%B0%E7%9A%84%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><table><thead><tr><th>字符</th><th>替换文本</th></tr></thead><tbody><tr><td>$1、$2…$99</td><td>与 regexp 中的第 1 到第 99 个子表达式相匹配的文本。</td></tr><tr><td>$&amp;</td><td>与 regexp 相匹配的子串。</td></tr><tr><td>$`</td><td>位于匹配子串左侧的文本。</td></tr><tr><td>$’</td><td>位于匹配子串右侧的文本。</td></tr><tr><td>$$</td><td>直接量符号。</td></tr></tbody></table><a id="more"></a><h3 id="格式化日期"><a href="#格式化日期" class="headerlink" title="格式化日期"></a>格式化日期</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var date = new Date().toLocaleString()</span><br><span class="line">//method1</span><br><span class="line">var formatDate= date.replace(/(\d+)\/(\d+)\/(\d+)\s+[\u4e00-\u9fa5]+(\d+):(\d+):(\d+)/g, &apos;$1/$2/$3 $3:$4:$5&apos;)</span><br><span class="line"></span><br><span class="line">console.log(formatDate ) // 2019/8/20 20:11:43</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//method2</span><br><span class="line">date.replace(/[\u4e00-\u9fa5]+(\d+):(\d+):(\d+)/g, function(all, p1,p2,p3)&#123;</span><br><span class="line">  return [p1, p2, p3].join(&apos;:&apos;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="转换为驼峰命名"><a href="#转换为驼峰命名" class="headerlink" title="转换为驼峰命名"></a>转换为驼峰命名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var s1 = &quot;get-element-by-id&quot;</span><br></pre></td></tr></table></figure><p>// 转化为 getElementById</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var f = function(s) &#123;</span><br><span class="line">    return s.replace(/-\w/g, function(x) &#123;</span><br><span class="line">        return x.slice(1).toUpperCase();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="查找字符串中出现最多的字符和个数"><a href="#查找字符串中出现最多的字符和个数" class="headerlink" title="查找字符串中出现最多的字符和个数"></a>查找字符串中出现最多的字符和个数</h3><blockquote><p>例: abbcccddddd -&gt; 字符最多的是d，出现了5次</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">let str = &quot;abcabcabcbbccccc&quot;;</span><br><span class="line">let num = 0;</span><br><span class="line">let char = &apos;&apos;;</span><br><span class="line"></span><br><span class="line"> // 使其按照一定的次序排列</span><br><span class="line">str = str.split(&apos;&apos;).sort().join(&apos;&apos;);</span><br><span class="line">// &quot;aaabbbbbcccccccc&quot;</span><br><span class="line"></span><br><span class="line">// 定义正则表达式</span><br><span class="line">let re = /(\w)\1+/g;</span><br><span class="line">str.replace(re,($0,$1) =&gt; &#123;</span><br><span class="line">    if(num &lt; $0.length)&#123;</span><br><span class="line">        num = $0.length;</span><br><span class="line">        char = $1;        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(`字符最多的是$&#123;char&#125;，出现了$&#123;num&#125;次`);</span><br></pre></td></tr></table></figure><h3 id="实现千位分隔符"><a href="#实现千位分隔符" class="headerlink" title="实现千位分隔符"></a>实现千位分隔符</h3><blockquote><p>// 保留三位小数<br>parseToMoney(1234.56); // return ‘1,234.56’<br>parseToMoney(123456789); // return ‘123,456,789’<br>parseToMoney(1087654.321); // return ‘1,087,654.321’</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function parseToMoney(num) &#123;</span><br><span class="line">  num = parseFloat(num.toFixed(3));</span><br><span class="line">  let [integer, decimal] = String.prototype.split.call(num, &apos;.&apos;);</span><br><span class="line">  integer = integer.replace(/\d(?=(\d&#123;3&#125;)+$)/g, &apos;$&amp;,&apos;);</span><br><span class="line">  return integer + &apos;.&apos; + (decimal ? decimal : &apos;&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">作者：寻找海蓝96</span><br><span class="line">链接：https://juejin.im/post/5d51e16d6fb9a06ae17d6bbc</span><br><span class="line">来源：掘金</span><br><span class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure><blockquote><p>?=正向肯定预查 详细信息看这里<a href="https://app.yinxiang.com/shard/s25/nl/22912984/8cb64e8c-9f29-47f5-b235-72a6c4d55489/" target="_blank" rel="noopener">正则的基本知识</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>visibilty:hidden、display:none、opacity:0的区别</title>
      <link href="/2019/08/19/visibilty%E3%80%81display-none%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/2019/08/19/visibilty%E3%80%81display-none%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h3 id="分析比较-opacity-0、visibility-hidden、display-none-优劣和适用场景"><a href="#分析比较-opacity-0、visibility-hidden、display-none-优劣和适用场景" class="headerlink" title="分析比较 opacity: 0、visibility: hidden、display: none 优劣和适用场景"></a>分析比较 opacity: 0、visibility: hidden、display: none 优劣和适用场景</h3><h3 id="display-none"><a href="#display-none" class="headerlink" title="display: none;"></a>display: none;</h3><p>1.DOM 结构：浏览器不会渲染 display 属性为 none 的元素，不占据空间；<br>2.事件监听：无法进行 DOM 事件监听；<br>3.性能：动态改变此属性时会引起重排，性能较差；<br>4.继承：不会被子元素继承，毕竟子类也不会被渲染；<br>5.transition：transition 不支持 display。</p><h3 id="visibility-hidden"><a href="#visibility-hidden" class="headerlink" title="visibility: hidden;"></a>visibility: hidden;</h3><p>1.DOM 结构：元素被隐藏，但是会被渲染不会消失，占据空间；<br>2.事件监听：无法进行 DOM 事件监听；<br>3.性 能：动态改变此属性时会引起重绘，性能较高；<br>4.继 承：会被子元素继承，子元素可以通过设置 visibility: visible; 来取消隐藏；<br>5.transition：transition 不支持 display。</p><p>###opacity: 0;<br>1.DOM 结构：透明度为 100%，元素隐藏，占据空间；<br>2.事件监听：可以进行 DOM 事件监听；<br>3.性 能：提升为合成层，不会触发重绘，性能较高；<br>4.继 承：会被子元素继承,且，子元素并不能通过 opacity: 1 来取消隐藏；<br>5.transition：transition 不支持 opacity。</p><h3 id="联系：它们都能让元素不可见"><a href="#联系：它们都能让元素不可见" class="headerlink" title="联系：它们都能让元素不可见"></a>联系：它们都能让元素不可见</h3><p>摘自 <a href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/100" target="_blank" rel="noopener">https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/100</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>深度优先遍历和广度优先遍历</title>
      <link href="/2019/08/16/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86%E5%92%8C%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86/"/>
      <url>/2019/08/16/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86%E5%92%8C%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86/</url>
      
        <content type="html"><![CDATA[<h4 id="广度优先遍历"><a href="#广度优先遍历" class="headerlink" title="广度优先遍历"></a>广度优先遍历</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function traverse(node) &#123;</span><br><span class="line">  let stack = []</span><br><span class="line">  let nodes = []</span><br><span class="line">  if(node) &#123;</span><br><span class="line">    stack.push(node)</span><br><span class="line">    while(stack.length) &#123;</span><br><span class="line">      let item = stack.shift()</span><br><span class="line">      let children = item.children</span><br><span class="line">      nodes.push(item)</span><br><span class="line">      for(let i=0;i&lt;children.length;i++) &#123;</span><br><span class="line">        stack.push(children[i])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return nodes</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="深度优先遍历"><a href="#深度优先遍历" class="headerlink" title="深度优先遍历"></a>深度优先遍历</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function deepTraverse(node, ret) &#123;</span><br><span class="line">  if(node !== null) &#123;</span><br><span class="line">    ret.push(node)</span><br><span class="line">    let children = node.children</span><br><span class="line">    for(let i=0;i&lt;children.length;i++) &#123;</span><br><span class="line">      deepTraverse(children[i], ret)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>list转成tree型数据结构</title>
      <link href="/2019/08/09/list%E8%BD%AC%E6%88%90tree%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
      <url>/2019/08/09/list%E8%BD%AC%E6%88%90tree%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function convert(list) &#123;</span><br><span class="line">const res = []</span><br><span class="line">  const map = list.reduce((res, v) =&gt; (res[v.id] = v, res), &#123;&#125;)</span><br><span class="line">for (const item of list) &#123;</span><br><span class="line">if (item.parentId === 0) &#123;</span><br><span class="line">res.push(item)</span><br><span class="line">continue</span><br><span class="line">&#125;</span><br><span class="line">if (item.parentId in map) &#123;</span><br><span class="line">const parent = map[item.parentId]</span><br><span class="line">parent.children = parent.children || []</span><br><span class="line">parent.children.push(item)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>原始 list 数据 如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let list =[</span><br><span class="line">  &#123;id:1,name:&apos;部门A&apos;,parentId:0&#125;,</span><br><span class="line">  &#123;id:2,name:&apos;部门B&apos;,parentId:0&#125;,</span><br><span class="line">  &#123;id:3,name:&apos;部门C&apos;,parentId:1&#125;,</span><br><span class="line">  &#123;id:4,name:&apos;部门D&apos;,parentId:1&#125;,</span><br><span class="line">  &#123;id:5,name:&apos;部门E&apos;,parentId:2&#125;,</span><br><span class="line">  &#123;id:6,name:&apos;部门F&apos;,parentId:3&#125;,</span><br><span class="line">  &#123;id:7,name:&apos;部门G&apos;,parentId:2&#125;,</span><br><span class="line">  &#123;id:8,name:&apos;部门H&apos;,parentId:4&#125;,</span><br><span class="line">  &#123;id:9,name:&apos;部门H&apos;,parentId:8&#125;</span><br><span class="line">];</span><br><span class="line">const result = convert(list);</span><br></pre></td></tr></table></figure></p><a id="more"></a><h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;id&quot;:1,</span><br><span class="line">        &quot;name&quot;:&quot;部门A&quot;,</span><br><span class="line">        &quot;parentId&quot;:0,</span><br><span class="line">        &quot;children&quot;:[</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;id&quot;:3,</span><br><span class="line">                &quot;name&quot;:&quot;部门C&quot;,</span><br><span class="line">                &quot;parentId&quot;:1,</span><br><span class="line">                &quot;children&quot;:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        &quot;id&quot;:6,</span><br><span class="line">                        &quot;name&quot;:&quot;部门F&quot;,</span><br><span class="line">                        &quot;parentId&quot;:3</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;id&quot;:4,</span><br><span class="line">                &quot;name&quot;:&quot;部门D&quot;,</span><br><span class="line">                &quot;parentId&quot;:1,</span><br><span class="line">                &quot;children&quot;:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        &quot;id&quot;:8,</span><br><span class="line">                        &quot;name&quot;:&quot;部门H&quot;,</span><br><span class="line">                        &quot;parentId&quot;:4,</span><br><span class="line">                        &quot;children&quot;:[</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;id&quot;:9,</span><br><span class="line">                                &quot;name&quot;:&quot;部门H&quot;,</span><br><span class="line">                                &quot;parentId&quot;:8</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;id&quot;:2,</span><br><span class="line">        &quot;name&quot;:&quot;部门B&quot;,</span><br><span class="line">        &quot;parentId&quot;:0,</span><br><span class="line">        &quot;children&quot;:[</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;id&quot;:5,</span><br><span class="line">                &quot;name&quot;:&quot;部门E&quot;,</span><br><span class="line">                &quot;parentId&quot;:2</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;id&quot;:7,</span><br><span class="line">                &quot;name&quot;:&quot;部门G&quot;,</span><br><span class="line">                &quot;parentId&quot;:2</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> graph </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>绘制网络拓扑图</title>
      <link href="/2019/08/09/%E7%BB%98%E5%88%B6%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91%E5%9B%BE/"/>
      <url>/2019/08/09/%E7%BB%98%E5%88%B6%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h3 id="效果图如下："><a href="#效果图如下：" class="headerlink" title="效果图如下："></a>效果图如下：</h3><p><img src="/images/echarts网络拓扑图.png" alt="echarts实现炫酷的网络拓扑图"></p><h3 id="实现原理以及优缺点"><a href="#实现原理以及优缺点" class="headerlink" title="实现原理以及优缺点"></a>实现原理以及优缺点</h3><p>实现原理实际上是graph类型和lines类型结合画出来的，graph可以绘制的拓扑图,目前三种layout, 包括力导图(force)、环形布局(circular)、二维坐标系(none)。前两种基本上排版位置不怎么受自己控制，第三种的画，节点位置完全的受数据中的x/y位置控制，但是估计计算位置是个麻烦事儿，如果节点的数量很少或者说比较固定的话，采用这个非常不错。lines类型主要负责线条上添加动态的效果</p><h3 id="live-demo"><a href="#live-demo" class="headerlink" title="live demo"></a>live demo</h3><p><a href="https://gallery.echartsjs.com/editor.html?c=xbETBRwXrm" target="_blank" rel="noopener">https://gallery.echartsjs.com/editor.html?c=xbETBRwXrm</a><br>或者<br><a href="http://39.105.159.58:3000/#/graph" target="_blank" rel="noopener">http://39.105.159.58:3000/#/graph</a></p><a id="more"></a><h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><p>1.nodes数据的x/y值一定要指定，否则画不出来<br>2.graph类型必须设置coordinateSystem: ‘cartesian2d’,指定定位系统采用二维坐标轴</p><h3 id="附上vue实现的代码"><a href="#附上vue实现的代码" class="headerlink" title="附上vue实现的代码"></a>附上vue实现的代码</h3><p>graph.vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div ref=&quot;chart&quot; style=&quot;height:800px;border:solid 1px red&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import echarts from &apos;echarts&apos;</span><br><span class="line">import graph from &apos;./data2&apos;</span><br><span class="line">let vm = null</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      charts: &#123;</span><br><span class="line">        nodes: graph.data.elements.nodes,</span><br><span class="line">        edges: graph.data.elements.edges,</span><br><span class="line">        linesData: []</span><br><span class="line">      &#125;,</span><br><span class="line">      nodePositionMap: new Map(),</span><br><span class="line">      chartInstance: null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    initData () &#123;</span><br><span class="line">      this.charts.nodes = this.charts.nodes.map(node =&gt; &#123;</span><br><span class="line">        this.nodePositionMap.set(node.data.name, [node.position.x, node.position.y])</span><br><span class="line">        return &#123;</span><br><span class="line">          name: node.data.name,</span><br><span class="line">          data: node.data,</span><br><span class="line">          value: [node.position.x, node.position.y],</span><br><span class="line">          // x: node.position.x,</span><br><span class="line">          // y: node.position.y,</span><br><span class="line">          symbolSize: 20 * node.data.size,</span><br><span class="line">          // alarm: node.alarm,</span><br><span class="line">          // symbol: &apos;image:///asset/get/s/&apos; + node.img,</span><br><span class="line">          itemStyle: &#123;</span><br><span class="line">            normal: &#123;</span><br><span class="line">              color: &apos;#12b5d0&apos;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      this.charts.linesData = []</span><br><span class="line"></span><br><span class="line">      this.charts.edges = this.charts.edges.map(edge =&gt; &#123;</span><br><span class="line">        this.charts.linesData.push([</span><br><span class="line">          &#123;</span><br><span class="line">            coord: this.nodePositionMap.get(edge.data.source)</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            coord: this.nodePositionMap.get(edge.data.target)</span><br><span class="line">          &#125;</span><br><span class="line">        ])</span><br><span class="line">        return &#123;</span><br><span class="line">          source: edge.data.source,</span><br><span class="line">          target: edge.data.target,</span><br><span class="line">          label: &#123;</span><br><span class="line">            normal: &#123;</span><br><span class="line">              show: true</span><br><span class="line">              // formatter: edge.nam</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          lineStyle: &#123;</span><br><span class="line">            normal: &#123;</span><br><span class="line">              color: edge.data.colour</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    init () &#123;</span><br><span class="line">      this.initData()</span><br><span class="line">      let option = &#123;</span><br><span class="line">        title: &#123;</span><br><span class="line">          text: &apos;网络拓扑图&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">          trigger: &apos;item&apos;,</span><br><span class="line">          formatter: &apos;&#123;b&#125;&apos;,</span><br><span class="line">          alwaysShowContent: true</span><br><span class="line">        &#125;,</span><br><span class="line">        backgroundColor: &apos;#F5F5F5&apos;,</span><br><span class="line">        xAxis: &#123;</span><br><span class="line">          min: 0,</span><br><span class="line">          max: 800,</span><br><span class="line">          show: false,</span><br><span class="line">          type: &apos;value&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        yAxis: &#123;</span><br><span class="line">          min: 0,</span><br><span class="line">          max: 300,</span><br><span class="line">          type: &apos;value&apos;,</span><br><span class="line">          show: false</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [</span><br><span class="line">          &#123;</span><br><span class="line">            type: &apos;graph&apos;,</span><br><span class="line">            layout: &apos;none&apos;,</span><br><span class="line">            id: &apos;a&apos;,</span><br><span class="line">            coordinateSystem: &apos;cartesian2d&apos;,</span><br><span class="line">            edgeSymbol: [&apos;&apos;, &apos;arrow&apos;],</span><br><span class="line">            // symbolSize: 50,</span><br><span class="line">            label: &#123;</span><br><span class="line">              normal: &#123;</span><br><span class="line">                show: true,</span><br><span class="line">                position: &apos;bottom&apos;</span><br><span class="line">                // color: &apos;#12b5d0&apos;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            lineStyle: &#123;</span><br><span class="line">              normal: &#123;</span><br><span class="line">                width: 2,</span><br><span class="line">                shadowColor: &apos;none&apos;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            xAxis: &#123;</span><br><span class="line">              min: 0,</span><br><span class="line">              max: 12,</span><br><span class="line">              show: false,</span><br><span class="line">              type: &apos;value&apos;</span><br><span class="line">            &#125;,</span><br><span class="line">            yAxis: &#123;</span><br><span class="line">              min: 0,</span><br><span class="line">              max: 12,</span><br><span class="line">              show: false,</span><br><span class="line">              type: &apos;value&apos;</span><br><span class="line">            &#125;,</span><br><span class="line">            // edgeSymbolSize: 8,</span><br><span class="line">            draggable: true,</span><br><span class="line">            nodes: this.charts.nodes,</span><br><span class="line">            edges: this.charts.edges,</span><br><span class="line">            z: 4,</span><br><span class="line">            itemStyle: &#123;</span><br><span class="line">              normal: &#123;</span><br><span class="line">                label: &#123;</span><br><span class="line">                  show: true,</span><br><span class="line">                  formatter: function (item) &#123;</span><br><span class="line">                    return item.data.name</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            name: &apos;A&apos;,</span><br><span class="line">            type: &apos;lines&apos;,</span><br><span class="line">            coordinateSystem: &apos;cartesian2d&apos;,</span><br><span class="line">            z: 4,</span><br><span class="line">            effect: &#123;</span><br><span class="line">              show: true,</span><br><span class="line">              trailLength: 0,</span><br><span class="line">              symbol: &apos;arrow&apos;,</span><br><span class="line">              color: &apos;#12b5d0&apos;,</span><br><span class="line">              symbolSize: 8</span><br><span class="line">            &#125;,</span><br><span class="line">            lineStyle: &#123;</span><br><span class="line">              normal: &#123;</span><br><span class="line">                curveness: 0</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            data: this.charts.linesData</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">      this.chartInstance = echarts.init(this.$refs.chart)</span><br><span class="line">      this.chartInstance.setOption(option)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    vm = this</span><br><span class="line">    this.$nextTick(() =&gt; &#123;</span><br><span class="line">      this.init()</span><br><span class="line">    &#125;)</span><br><span class="line">    window.addEventListener(&apos;resize&apos;, () =&gt; &#123;</span><br><span class="line">      vm.chartInstance &amp;&amp; this.chartInstance.resize()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><h3 id="想要看更详细的代码以及其他的栗子源码看这里"><a href="#想要看更详细的代码以及其他的栗子源码看这里" class="headerlink" title="想要看更详细的代码以及其他的栗子源码看这里"></a>想要看更详细的代码以及其他的栗子源码看这里</h3><p><a href="https://github.com/xuyongchaos/vue-charts.git" target="_blank" rel="noopener">https://github.com/xuyongchaos/vue-charts.git</a></p>]]></content>
      
      
      <categories>
          
          <category> graph </category>
          
      </categories>
      
      
        <tags>
            
            <tag> graph </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue中使用highcharts和echarts的实践</title>
      <link href="/2019/08/08/vue%E4%B8%AD%E4%BD%BF%E7%94%A8highcharts%E5%92%8Cecharts%E7%9A%84%E5%AE%9E%E8%B7%B5/"/>
      <url>/2019/08/08/vue%E4%B8%AD%E4%BD%BF%E7%94%A8highcharts%E5%92%8Cecharts%E7%9A%84%E5%AE%9E%E8%B7%B5/</url>
      
        <content type="html"><![CDATA[<p>  我从事云平台前端的开发，由于项目的需要，写了一个云监控Monitor项目。起初，我选择了 Echarts， 原因很简单，中文文档，定制化能力也比较好。事实上，使用了一年多来，用的也是蛮顺手的。但是，这是一个监控项目,里面存在大量的图，每个图有着巨量的数据，而且每条line的名字也超长。带来的问题就是，页面及其卡顿，即使是我限制了每个图中的数据量，仍然无法降低，页面无操作的情况下，CPU仍然占据20%以上（八个图，每个图平均10条line）。网上找了一通，都指向z_render()函数，echarts会不停的执行这个函数。实在是不堪忍受这样的卡顿，在进行了充分调研的情况下,果断换了highcharts。</p><p>  经过实际项目测试：同等数量的情况下，highcharts和echarts 所占的内存相近，但CPU占比很低。举一个栗子，一个页面上有八个图，每个图平均大概10条线，当页面渲染完成，无任何鼠标点击的时候，echarts的CPU占比稳定在20%左右，highcharts始终在1%以下。</p><p><img src="/images/highcharts-q.png" alt="highcharts"><br><img src="/images/echarts-q.png" alt="echarts"></p>]]></content>
      
      
      <categories>
          
          <category> graph </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> highcharts </tag>
            
            <tag> echarts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-cli3 入门</title>
      <link href="/2019/08/08/%20vue-cli3%E5%85%A5%E9%97%A8/"/>
      <url>/2019/08/08/%20vue-cli3%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<p><a href="https://cli.vuejs.org/zh/guide/" target="_blank" rel="noopener">官方文档</a></p><h3 id="1-vue-cli3实现分环境打包步骤"><a href="#1-vue-cli3实现分环境打包步骤" class="headerlink" title="1. vue-cli3实现分环境打包步骤"></a>1. vue-cli3实现分环境打包步骤</h3><p>通过改变 <code>process.env.NODE_ENV</code> 值区分打包环境，但是webpack打包时针对<code>process.env.NODE_ENV===&#39;production&#39;</code> 和其他情况打出来的包结构和大小都不一样；</p><p>为了消除这种差异，可以使用其他变量比如 <code>process.env.VUE_APP_TITLE</code> 来区分环境。<br>XXXXx<br><a id="more"></a></p><p>需求：</p><blockquote><p>打包一个测试环境alpha，该环境的打包和production一样，只是开发中用到的一些变量需要区分环境</p></blockquote><p>说明：</p><ul><li>打包时判断环境还是用<code>process.env.NODE_ENV</code>，我们不用处理</li><li>项目中用到的区分环境的变量我们自己定义</li></ul><p>实施：</p><ol><li><p>package.json中打包命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">···</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;serve&quot;: &quot;vue-cli-service serve&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;vue-cli-service build&quot;,</span><br><span class="line">    &quot;alpha&quot;: &quot;vue-cli-service build --mode alpha&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">···</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在项目根目录添加文件.env.alpha”，其内容为：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NODE_ENV=production</span><br><span class="line">VUE_APP_TITLE=alpha</span><br></pre></td></tr></table></figure></li><li><p>区分环境:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">通过env判断环境</span><br><span class="line">var env = process.env.VUE_APP_TITLE === &apos;alpha&apos; ? &apos;alpha&apos;</span><br><span class="line">      : process.env.NODE_ENV === &apos;production&apos; ? &apos;production&apos; : &apos;development&apos;</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-配置"><a href="#2-配置" class="headerlink" title="2. 配置"></a>2. 配置</h3><h4 id="2-1-基本配置"><a href="#2-1-基本配置" class="headerlink" title="2.1 基本配置"></a>2.1 基本配置</h4><p>默认 <code>baseUrl: &#39;/&#39;</code> , 再部署环境会报错，需要改成 <code>./</code></p><p>vue.config.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  baseUrl: process.env.NODE_ENV === &apos;production&apos; ? &apos;./&apos; : &apos;/&apos;,</span><br><span class="line">  productionSourceMap: false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="2-2-配置alias"><a href="#2-2-配置alias" class="headerlink" title="2.2. 配置alias"></a>2.2. 配置alias</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;)</span><br><span class="line">function resolve (dir) &#123;</span><br><span class="line">  return path.join(__dirname, dir)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  baseUrl: process.env.NODE_ENV === &apos;production&apos; ? &apos;./&apos; : &apos;/&apos;,</span><br><span class="line">  chainWebpack: (config) =&gt; &#123;</span><br><span class="line">    config.resolve.alias</span><br><span class="line">      .set(&apos;styles&apos;, resolve(&apos;src/assets/styles&apos;))</span><br><span class="line">      .set(&apos;components&apos;, resolve(&apos;src/components&apos;))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-设置启动端口"><a href="#2-3-设置启动端口" class="headerlink" title="2.3. 设置启动端口"></a>2.3. 设置启动端口</h4><p>默认是8080，被占用时依次累加。注意：mac上普通用户可设置的最小端口是1024，要配置小于1024的端口需要管理员权限<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    port: 80</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL常见错误码</title>
      <link href="/2019/08/08/MySQL%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E7%A0%81/"/>
      <url>/2019/08/08/MySQL%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<p>0101 属于其他进程的专用标志。<br><br>0102 标志已经设置，无法关闭。<br><br>0103 无法再次设置该标志。<br><br>0104 中断时无法请求专用标志。<br></p><a id="more"></a><p>0105 此标志先前的所有权已终止。<br><br>0106 请将软盘插入驱动器 %1。<br><br>0107 后续软盘尚未插入，程序停止。<br><br>0108 磁盘正在使用或已由其他进程锁定。<br><br>0109 管道已经结束。<br></p><p>0110 系统无法打开指定的设备或文件。<br><br>0111 文件名太长。 0112 磁盘空间不足。<br><br>0113 没有其他可用的内部文件标识符。<br><br>0114 目标内部文件标识符不正确。<br><br>0117 该应用程序所运行的 IOCTL 调用不正确。<br><br>0118 校验写入的开关参数值不正确。<br><br>0119 系统不支持所请求的命令。<br><br>0120 该系统上不支持此功能。<br><br>0121 标记已超时。<br><br>0123 文件名、目录名或卷标语法错误。<br><br>0124 系统调用层不正确。<br><br>0125 磁盘没有卷标。<br><br>0126 找不到指定的模块。<br><br>0127 找不到指定的过程。<br><br>0128 没有要等候的子进程。<br><br>0129 模式下运行。<br><br>0130 试图使用操作(而非原始磁盘I/O)的已打开磁盘分区的文件句柄。<br><br>0131 试图将文件指针移至文件开头之前。<br><br>0132 无法在指定的设备或文件中设置文件指针。<br><br>0133 对于包含已连接驱动器的驱动器，不能使用 JOIN 或 SUBST 命令。<br><br>0134 试图在已经连接的驱动器上使用 JOIN 或 SUBST 命令。<br><br>0135 试图在已经替换的驱动器上使用 JOIN 或 SUBST 命令。<br><br>0136 系统试图删除尚未连接的驱动器的 JOIN。<br><br>0137 系统试图删除尚未替换的驱动器的替换项。<br><br>0138 系统试图将驱动器连接到已连接的驱动器下的目录。<br><br>0139 系统试图将驱动器替换成已替换的驱动器下的目录。<br><br>0140 系统试图将驱动器连接到已替换的驱动器的一个目录中。<br><br>0141 系统试图将驱动器替换成到已连接的驱动器下的目录。<br><br>0142 此时系统无法运行 JOIN 或 SUBST。<br><br>0143 系统无法将驱动器连接到或替换成同一驱动器下的目录。<br><br>0144 此目录不是该根目录的子目录。<br><br>0145 该目录未清空。<br><br>0146 指定的路径已经在替换中使用。<br><br>0147 资源不足，无法执行该命令。<br><br>0148 此时无法使用指定的路径。<br><br>0149 试图连接或替换某个驱动器目录，该驱动器上的某个目录是上一次替换的目标目录。<br><br>0150 CONFIG.SYS 文件未指定系统跟踪信息，或禁止跟踪。<br><br>0151 DosMuxSemWait 的指定信号事件的数目不正确。<br><br>0152 DosMuxSemWait 没有运行；已经设置太多的标志。<br><br>0153 DosMuxSemWait 列表不正确。<br><br>0154 输入的卷标超过目标文件系统的标号字符长度极限。<br><br>0155 无法创建其他线程。<br><br>0156 接收进程拒绝该信号。<br><br>0157 已经放弃该区域，因此无法锁定。<br><br>0158 该区域已经解除锁定。<br><br>0159 线程标识符的地址错误。<br><br>0160 传到 DosExecPgm 的参数字符串错误。<br><br>0161 指定的路径无效。<br><br>0162 信号已挂起。<br><br>0164 系统无法创建其他线程。<br><br>0167 无法锁定文件的范围。<br><br>0170 所要求的资源正在使用中。<br><br>0173 锁定请求对于提供的取消区域不重要。<br><br>0174 文件系统不支持到锁定类型的自动更改。<br><br>0180 系统检测到错误的区域号码。<br></p><p>0182 操作系统无法运行 %1。<br><br>0183 不能创建已经存在的文件。<br><br>0186 传送的标志不正确。<br><br>0187 找不到指定的系统信号名称。<br><br>0188 操作系统无法运行 %1。<br><br>0189 操作系统无法运行 %1。<br><br>0190 操作系统无法运行 %1。<br><br>0191 无法在 Win32 模式下运行 %1。<br><br>0192 操作系统无法运行 %1。<br><br>0193 %1 不是有效的 Win32 应用程序。<br><br>0194 操作系统无法运行 %1。<br><br>0195 操作系统无法运行 %1。<br><br>0196 操作系统无法运行此应用程序。<br><br>0197 当前无法配置操作系统运行此应用程序。<br><br>0198 操作系统无法运行 %1。<br><br>0199 操作系统无法运行此应用程序。<br><br>0200 代码段应小于 64K。<br><br>0201 操作系统无法运行 %1。<br><br>0202 操作系统无法运行 %1。<br><br>0203 系统找不到输入的环境选项。<br><br>0205 在命令子树中的进程没有信号句柄。<br><br>0206 文件名或扩展名太长。<br><br>0207 环 2 堆栈正在使用中。<br><br>0208 输入的全局文件名字符 * 或 ? 不正确，或指定的全局文件名字符太多。 <br><br>0209 所发送的信号不正确。<br><br>0210 无法设置信号处理程序。<br><br>0212 区域已锁定，无法重新分配。<br><br>0214 附加到此程序或动态链接模块的动态链接模块太多。<br><br>0215 无法嵌套调用 LoadModule。<br><br>0216 图像文件 %1 有效，但不适用于本机类型。<br></p><p>0230 管道状态无效。<br><br>0231 所有的管道实例都处于忙状态。<br><br>0232 管道正在关闭。<br><br>0233 在管道的另一端没有进程。<br><br>0234 有更多可用的数据。<br><br>0240 已取消会话。<br><br>0254 指定的扩展属性名无效。<br><br>0255 扩展属性不一致。<br><br>0258 等待操作过时。<br><br>0259 没有其他可用数据。<br><br>0266 无法使用复制功能。<br><br>0267 目录名无效。<br><br>0275 扩展属性不匹配缓冲区。<br><br>0276 所装载的文件系统上的扩展属性文件已被损坏。<br><br>0277 扩展属性表格文件已满。<br><br>0278 指定的扩展属性句柄无效。<br><br>0282 安装的文件系统不支持扩展属性。<br><br>0288 试图释放不属于调用者的多路同步信号。<br><br>0298 信号投递的次数太多。<br><br>0299 仅完成部分 ReadProcessMemory 或 WriteProcessMemory 请求。<br></p><p>0300 操作锁定请求被拒绝。<br><br>0301 系统接收了一个无效的操作锁定确认。<br><br>0317 在 %2 的消息文件中，系统无法找到消息号为 0x%1 的消息文本。<br><br>0487 试图访问无效地址。<br><br>0534 运算结果超过 32 位。<br><br>0535 该管道的另一方有一进程。<br></p><p>0536 等候进程打开管道的另一端。<br><br>0994 拒绝对扩展属性的访问。<br><br>0995 由于线程退出或应用程序的要求，I/O 操作异常终止。<br><br>0996 重叠的 I/O 事件不处于已标记状态。<br><br>0997 正在处理重叠的 I/O 操作。<br><br>0998 对内存位置的无效访问。<br><br>0999 执行页内操作出错。<br><br>1001 递归太深；堆栈溢出。<br><br>1002 窗口无法用来发送消息。<br><br>1003 无法完成此项功能。<br><br>1004 标志无效。<br><br>1005 卷不包含已识别的文件系统。请确认所有需要的文件系统驱动程序都已经加载，而且卷没有任何损坏。<br><br>1006 某文件的卷已在外部改变，因而打开的文件不再有效。<br><br>1007 要求的操作无法以全屏幕模式执行。<br><br>1008 试图引用并不存在的符号。<br><br>1009 配置注册表数据库已损坏。<br><br>1010 配置注册表主键无效。<br><br>1011 无法打开配置注册表主键。<br><br>1012 无法读取配置注册表主键。<br><br>1013 无法写入配置注册表主键。<br><br>1014 必须使用日志文件或其他副本来恢复注册表数据库中的某个文件。恢复成功。 <br><br>1015 注册表已损坏。可能是一个包含注册表数据文件的结构已损坏，也可能内存中该文件的系统映像已损坏，或者因为备份副本（或日志）不存在（或损坏）导致无法恢复该文件。<br><br>1016 由注册表引起的 I/O 操作发生了不可恢复的错误。注册表将不能读取、写出或刷新包含注册表系统映像的其中一个文件。<br><br>1017 系统试图将文件加载或还原到注册表中，但是，指定的文件不是注册表文件格式。<br><br>1018 试图在注册表键（已经标记为删除）中完成的操作非法。<br><br>1019 系统无法在注册表日志文件中分配所需的空间。<br><br>1020 无法在已经有子键或键值的注册表项中创建符号链接。<br><br>1021 在易失的父键下不能创建固定的子键。<br><br>1022 通知的更改请求已经完成，并且返回信息还没有被送到调用者的缓冲区中。调用者需要列举所有文件以找到改动的内容。<br><br>1051 已将停止控制发送给与其他运行服务相关的服务。<br><br>1052 所要求的控制对此服务无效。<br><br>1053 服务没有及时地响应启动或控制请求。<br><br>1054 无法为该服务创建线程。<br><br>1055 服务数据库已锁定。<br><br>1056 该服务的实例已在运行。<br><br>1057 帐户名无效或者不存在，或者指定帐户名的密码无效。<br><br>1058 服务无法启动，可能因为被禁用，也可能因为没有关联的可用设备。<br><br>1059 已经指定了循环服务的从属关系。<br><br>1060 指定的服务不是所安装的服务。<br><br>1061 该服务此时无法接收控制消息。<br><br>1062 服务尚未启动。<br><br>1063 服务进程无法连接到服务控制程序。<br><br>1064 处理控制请求时，服务出现意外情况。<br><br>1065 指定的数据库不存在。<br><br>1066 服务返回服务特定的错误码。<br><br>1067 进程意外地终止。<br></p><p>1068 无法启动从属服务或组。<br><br>1069 由于登录失败，没有启动服务。<br><br>1070 启动后，服务保持在启动挂起状态。<br><br>1071 指定的服务数据库锁定无效。<br><br>1072 指定的服务已经标记为删除。<br><br>1073 指定的服务已经存在。<br><br>1074 系统当前正以上一次运行成功的配置运行。<br><br>1075 从属服务不存在，或已经标记为删除。<br><br>1076 已接受使用当前引导作为最后的有效控制设置。<br><br>1077 自从上一次启动以后，没有再次启动过该服务。<br><br>1078 该名称已经用作服务名或服务显示名。<br><br>1079 此服务的帐户不同于运行于同一进程上的其它服务的帐户。<br><br>1080 只能为 Win32 服务设置失败操作，不能为驱动程序设置。<br><br>1081 这个服务所运行的进程和服务控制管理器相同。所以，如果服务进程意外中止的话，服务控制管理器无法进行任何操作。<br><br>1082 这个服务没有设置恢复程序。<br><br>1083 配置成在该可执行程序中运行的这个服务不能执行该服务。<br><br>1100 已经到达磁带的物理尽头。<br><br>1101 磁带访问到文件标记。<br><br>1102 到达磁带或分区首部。<br><br>1103 磁带访问到文件组的末尾。<br><br>1104 磁带上没有其他数据。<br><br>1105 磁带无法分区。<br><br>1106 访问多重卷分区的新磁带时，当前的区块大小不正确。<br><br>1107 加载磁带时，找不到磁带分区信息。<br><br>1108 无法锁定媒体退出功能。<br><br>1109 无法卸载媒体。<br><br>1110 驱动器中的媒体已经更改。<br><br>1111 已经复位 I/O 总线。<br><br>1112 驱动器中没有媒体。<br><br>1113 在目标多字节代码页中不存在对单码字符的映射。<br><br>1114 动态链接库 (DLL) 初始化例程失败。<br><br>1115 正在关闭系统。<br><br>1116 无法终止系统关机，因为没有进行中的关机操作。<br><br>1117 由于 I/O 设备出现错误，无法运行该请求。<br><br>1118 串行设备初始化失败。将卸载串行驱动程序。<br><br>1119 无法打开正与其他设备共享中断请求 (IRQ) 的设备。至少有一个使用该 IRQ 的设备已经打开。<br><br>1120 由于再次写入串行口，串行 I/O 操作已结束。（IOCTL_SERIAL_XOFF_COUNTER 为零。）<br><br>1121 由于超时，串行 I/O 操作已结束。 (IOCTL_SERIAL_XOFF_COUNTER未达到零。)<br><br>1122 在软盘上找不到标识符地址标记。<br><br>1123 软盘扇区标识符字段与软盘控制器磁道地址不匹配。<br><br>1124 软盘控制器报告软盘驱动程序不能识别的错误。<br><br>1125 软盘控制器返回的结果和注册的不一致。<br></p><p>1126 访问硬盘时，再校准操作失败，再试一次后也无法操作。<br><br>1127 访问硬盘时，磁盘操作失败，再试一次后仍没有作用。<br><br>1128 访问硬盘时，需要重启动磁盘控制器，但仍未成功。<br><br>1129 磁带已卷到尽头。<br><br>1130 可用的服务器存储区不足，无法执行该命令。<br><br>1131 检测到潜在的死锁情况。<br><br>1132 指定的基址或文件偏移量没有正确对齐。<br><br>1140 试图更改系统电源状态的操作被另一应用程序或驱动程序禁止。<br><br>1141 系统 BIOS 无法更改系统电源状态。<br><br>1142 试图在一文件上创建超过系统允许数额的链接。<br><br>1150 指定的程序需要新的 Windows 版本。<br><br>1151 指定的程序不是 Windows 或 MS-DOS 程序。<br><br>1152 无法启动指定程序的多个实例。<br><br>1153 指定的程序是为 Windows 的早期版本编写的。<br><br>1154 运行此应用程序所需的某个库文件已损。<br><br>1155 没有应用程序与该操作中所指定的文件关联。<br><br>1156 将命令发送到应用程序时出现错误。<br><br>1157 找不到运行此应用程序所需的某个库文件。<br><br>1158 当前进程已使用了 Window 管理器对象的系统允许的所有句柄。<br><br>1159 消息只能与同步操作一起使用。<br><br>1160 指出的源元素没有媒体。<br><br>1161 指出的目标元素已包含媒体。<br><br>1162 指出的元素不存在。<br><br>1163 指出的元素是未显示的存储资源的一部分。<br><br>1164 指出的设备需要重新初始化，因为硬件有错误。<br><br>1165 设备显示在尝试进一步操作之前需要清除。<br><br>1166 设备显示它的门仍是打开状态。<br><br>1167 设备没有连接。<br><br>1168 找不到元素。<br><br>1169 索引中没有同指定项相匹配的项。cool 1170 在对象上不存在指定的属性集。<br><br>1171 传递到 GetMouseMovePoints 的点不在缓冲区中。<br><br>1172 跟踪(工作站)服务没运行。<br><br>1173 找不到卷 ID。<br><br>1175 无法删除要被替换的文件。<br><br>1176 无法将替换文件移到要被替换的文件。要被替换的文件保持原来的名称。 <br><br>1177 无法将替换文件移到要被替换的文件。要被替换的文件已被重新命名为备份名称。<br><br>1178 卷更改记录被删除。<br><br>1179 卷更改记录服务不处于活动中。<br><br>1180 找到一份文件，但是可能不是正确的文件。<br><br>1181 日志项已从日志中删除。<br><br>1200 指定的设备名无效。<br></p><p>1201 设备当前虽然未连接，但它是记忆连接。<br><br>1202 试图记起已经记住的设备。<br><br>1203 网络供应商不接受给定的网络路径。<br><br>1204 指定的网络供应商名无效。<br><br>1205 无法打开网络连接配置文件。<br><br>1206 网络连接配置文件已损坏。<br><br>1207 无法列举非包容类。<br><br>1208 出现扩展错误。<br><br>1209 指定组名的格式无效。<br><br>1210 指定计算机名的格式无效。<br><br>1211 指定事件名的格式无效。<br><br>1212 指定域名的格式无效。<br><br>1213 指定服务名的格式无效。<br><br>1214 指定网络名的格式无效。<br><br>1215 指定共享名的格式无效。<br><br>1216 指定密码的格式无效。<br><br>1217 指定的邮件名无效。<br><br>1218 指定邮件目的地的格式无效。<br><br>1219 所提供的凭据与现有凭据设置冲突。<br><br>1220 试图与网络服务器建立会话，但目前与该服务器建立的会话太多。<br><br>1221 网络上的其他计算机已经使用该工作组或域名。<br><br>1222 网络不存在或者没有启动。<br><br>1223 用户已经取消该操作。<br><br>1224 所要求的操作无法在已经打开用户映射区域的文件中运行。<br><br>1225 远程系统拒绝网络连接。<br><br>1226 已经关闭网络连接。<br><br>1227 网络传输的终点已经有一个地址与其关联。<br><br>1228 网络终点尚未与地址关联。<br><br>1229 试图在不存在的网络连接中操作。<br><br>1230 试图在活动的网络连接上进行无效操作。<br><br>1231 不能访问网络位置。有关网络疑难解答的信息，请参阅 Windows帮助。<br><br>1232 不能访问网络位置。有关网络疑难解答的信息，请参阅Windows 帮助。<br><br>1233 不能访问网络位置。有关网络疑难解答的信息，请参阅 Windows 帮助。<br><br>1234 远程系统的目标网络端点没有运行任何服务。<br><br>1235 该请求已经终止。<br><br>1236 本地系统已经终止网络连接。<br><br>1237 无法完成操作。请再试一次。<br><br>1238 无法创建到该服务器的连接，因为已经到达了该帐户同时连接的最大数目。<br><br>1239 试图在该帐户未授权的时间内登录。<br><br>1240 尚未授权此帐户从该站登录网络。<br><br>1241 网络地址无法用于要求的操作。<br><br>1242 服务已经注册。<br><br>1243 指定的服务不存在。<br></p><p>1244 由于尚未验证用户身份，无法执行要求的操作。<br><br>1245 由于用户尚未登录网络，无法运行要求的操作。指定的服务不存在。<br><br>1246 继续工作。<br><br>1247 完成初始化操作后，试图再次运行初始化操作。<br><br>1248 没有其他本地设备。<br><br>1249 指定的站点不存在。<br><br>1250 具有指定名称的域控制器已经存在。<br><br>1251 只有连接到服务器上时，才支持该操作。<br><br>1252 即使没有改动，组策略框架也应该调用扩展。<br><br>1253 指定的用户没有一个有效的配置文件。<br><br>1254 Microsoft Small Business Server 不支持此操作。<br><br>1300 不是对所有的调用方分配引用特权。<br><br>1301 帐户名与安全标识符之间的映射未完成。<br><br>1302 没有为该帐户明确地设置系统配额限制。<br><br>1303 没有可用的密钥。返回已知的密钥。<br><br>1304 密码太复杂，无法转换成 LAN Manager 密码。返回的 LANManager 密码是空字符串。<br><br>1305 修订级别未知。<br><br>1306 表示两个修订级别不兼容。<br><br>1307 无法将此安全标识符指定为该对象的拥有者。<br><br>1308 无法将此安全标识符指定为主要的对象组。<br><br>1309 当前并未模拟客户的线程试图操作模拟令牌。<br><br>1310 不可以禁用该组。<br><br>1311 目前没有可用的登录服务器处理登录请求。<br><br>1312 指定的登录会话不存在。该会话可能已终止。<br><br>1313 指定的权限不存在。<br><br>1314 客户不保留请求的权限。<br><br>1315 提供的名称不是正确的帐户名称格式。<br><br>1316 指定的用户已经存在。<br><br>1317 指定的用户不存在。<br><br>1318 指定的组已经存在。<br><br>1319 指定的组不存在。<br><br>1320 或者指定的用户帐户已经是某个特定组的成员，或者也可能指定的组非空而不能被删除。<br><br>1321 指定的用户帐户不是所指定组帐户的成员。<br><br>1322 上次保留的管理帐户无法关闭或删除。<br><br>1323 无法更新密码。所输入的密码不正确。<br><br>1324 无法更新密码。所提供的新密码包含不可用于密码的值。<br><br>1325 无法更新密码。为新密码提供的值不符合字符域的长度、复杂性或历史要求。 1326 登录失败: 用户名未知或密码错误。<br><br>1327 登录失败: 用户帐户限制。<br><br>1328 登录失败: 违反帐户登录时间限制。<br><br>1329 登录失败: 禁止用户登录到该计算机上。<br><br>1330 登录失败: 指定的帐户密码已过期。<br><br>1331 登录失败: 当前禁用帐户。<br><br>1332 未完成帐户名与安全性标识符之间的映射。<br><br>1333 一次请求的本地用户标识符(LUID)太多。<br><br>1334 没有其他可用的本地用户标识符(LUID)。<br><br>1335 对这个特定使用来说，安全标识符的子部分是无效的。<br><br>1336 访问控制清单(ACL)结构无效。<br><br>1337 安全标识符结构无效。<br><br>1338 安全描述符结构无效。<br><br>1340 无法创建继承的访问控制列表(ACL)或访问控制项目(ACE)。<br><br>1341 当前已禁用服务器。<br><br>1342 当前已启用服务器。<br><br>1343 所提供的值是无效的标识符授权值。<br><br>1344 没有更多的内存用于更新安全信息。<br><br>1345 指定的属性无效，或指定的属性与整个组的属性不兼容。<br><br>1346 或者没有提供所申请的模仿级别，或者提供的模仿级别无效。<br><br>1347 无法打开匿名级安全性符号。<br><br>1348 所请求的验证信息类别无效。<br><br>1349 该类符号不能以所尝试的方式使用。<br><br>1350 无法在没有相关安全性的对象上运行安全操作。<br><br>1351 未能从域控制器读取配置信息，或者是因为机器不可使用，或者是访问被拒绝。<br><br>1352 安全帐户管理程序(SAM)或本地安全颁发机构(LSA)服务器状态不正确，所以无法运行安全操作。<br><br>1353 域处于执行安全操作的错误状态。<br><br>1354 该操作只能在域的主域控制器中执行。<br><br>1355 指定的域不存在或联系不上。<br><br>1356 指定的域已经存在。<br><br>1357 试图超过每个服务器域数目的极限。<br><br>1358 由于严重的媒体错误或磁盘的数据结构损坏，无法完成所请求的操作。<br><br>1359 发生内部错误。<br><br>1360 通用的访问类型包含在访问掩码中，该掩码已经映射为非通用类型。<br><br>1361 安全性描述符的格式错误（绝对或自相关）。<br><br>1362 请求的操作只准登录进程使用。该调用过程并未被记录为登录进程。<br><br>1363 无法用已经使用的标识符来启动新的登录会话。<br><br>1364 指定的确认数据包未知。<br><br>1365 登录会话的状态与请求的操作不一致。<br><br>1366 登录会话标识符正在使用中。<br><br>1367 登录请求包含无效的登录类型值。<br></p><p>1368 在使用命名管道读取数据之前，无法经由该管道模拟。<br><br>1369 注册表子树的事务状态与所请求的操作不兼容。<br><br>1370 突发的内部安全性数据库故障。<br><br>1371 无法在内部帐户下运行该操作。<br><br>1372 无法在该内部特定组中运行该操作。<br><br>1373 无法在该内部特定用户中运行该操作。<br><br>1374 因为该组当前是用户的主要组，所以不能从此组中删除用户。<br><br>1375 该符号已作为主要符号使用。<br><br>1376 指定的本地组不存在。<br><br>1377 指定的帐户名不是本地组的成员。<br><br>1378 指定的帐户名已经是本地组的成员。<br><br>1379 指定的本地组已经存在。<br><br>1380 登录失败: 用户在本计算机上没有被授与所需注册类型。<br><br>1381 超过了可以存储在单个系统中的最大机密限制。<br><br>1382 机密的长度超过了最大允许值。<br><br>1383 本地安全授权数据库包含内部不一致的错误。<br><br>1384 登录时，用户的安全性上下文累积太多的安全标识符。<br><br>1385 登录失败: 用户在本计算机上没有被授与所需注册类型。<br><br>1386 经交叉加密的密码必须更改用户密码。<br><br>1387 成员不存在，因此无法将其添加到本地组或从中删除。<br><br>1388 新成员的帐户类型有误，因此无法将其添加到本地组。<br><br>1389 指定的安全标识符太多。<br><br>1390 经交叉加密的密码必须更改该用户密码。<br><br>1391 表示 ACL 没有可继承的组件。<br><br>1392 文件或目录已损坏，无法读取数据。<br><br>1393 磁盘结构已损坏，无法读取数据。<br><br>1394 指定的登录会话没有用户会话密钥。<br><br>1395 正在访问的服务允许特定数目的连接。因为连接的数目已达到服务可接受的数目，所以此时无法创建新的服务连接。<br><br>1396 登录失败: 该目标帐户名称不正确。 1397 相互身份验证失败。该服务器在域控制器的密码过期。<br><br>1398 在客户机和服务器之间有一个时间差。<br><br>1400 窗口句柄无效。<br><br>1401 菜单句柄无效。<br><br>1402 光标句柄无效。<br><br>1403 加速键表的句柄无效。<br><br>1404 挂接句柄无效。<br><br>1405 多重窗口位置结构句柄无效。<br><br>1406 无法创建最上层的子窗口。<br><br>1407 找不到窗口类。<br><br>1408 窗口无效；属于其他线程。<br><br>1409 已经注册热键。<br><br>1410 类已经存在。<br><br>1411 类不存在。<br><br>1412 类窗口仍打开着。<br><br>1413 索引无效。<br><br>1414 图标句柄无效。<br><br>1415 使用私人对话框窗口字。<br><br>1416 找不到列表框标识符。<br><br>1417 找不到任何通配符。<br><br>1418 线程没有打开剪贴板。<br><br>1419 尚未注册热键。<br><br>1420 该窗口不是有效的对话框窗口。<br><br>1421 找不到控制标识符。<br></p><p>1422 由于没有编辑控制，因此该组合框的消息无效。<br><br>1423 窗口不是组合框。<br><br>1424 高度必须小于 256。<br><br>1425 设备上下文(DC)句柄无效。<br><br>1426 挂接过程类型无效。<br><br>1427 挂接过程无效。<br><br>1428 不能在无模块句柄的情况下设置非本地的挂接。<br><br>1429 只能全局设置该挂接过程。<br><br>1430 已安装日记挂接过程。<br><br>1431 未安装挂接过程。<br><br>1432 单选列表框的消息无效。<br><br>1433 LB_SETCOUNT 发送到活动的列表框。<br><br>1434 该列表框不支持制表符。<br><br>1435 无法破坏由其他线程所创建的对象。<br><br>1436 子窗口不能有菜单。 <br><br>1437 窗口没有系统菜单。<br><br>1438 消息框样式无效。<br><br>1439 系统范围内的(SPI_<em>)的参数无效。<br><br>1440 屏幕已经锁定。<br><br>1441 多重窗口位置结构中所有窗口句柄必须具有相同的父窗口。<br><br>1442 窗口不是子窗口。<br><br>1443 GW_</em> 命令无效。<br><br>1444 线程标识符无效。<br><br>1445 无法处理非多文档接口(MDI)窗口的消息。<br><br>1446 弹出式菜单已激活。<br><br>1447 窗口没有滚动条。<br><br>1448 滚动条范围不能大于 MAXLONG。<br><br>1449 无法以指定的方式显示或关闭窗口。<br><br>1450 系统资源不足，无法完成所请求的服务。<br><br>1451 系统资源不足，无法完成所请求的服务。<br><br>1452 系统资源不足，无法完成所请求的服务。<br><br>1453 配额不足，无法完成请求的服务。<br><br>1454 配额不足，无法完成请求的服务。<br><br>1455 页面交换文件太小，无法完成此项操作。<br><br>1456 找不到菜单项。<br><br>1457 键盘布局句柄无效。<br><br>1458 不允许使用挂钩类型。<br><br>1459 该操作需要交互式窗口工作站。<br><br>1460 由于超时时间已过，该操作返回。<br>1461 无效监视器句柄。<br><br>1500 事件日志文件已损坏。<br><br>1501 无法打开事件日志文件，因此无法启动事件记录服务。<br><br>1502 事件日志文件已满。<br></p><p>1503 事件日志文件在两次读取操作间已发生变化。<br><br>1601 无法访问 Windows 安装服务。请与技术支持人员联系，确认Windows 安装服务是否注册正确。<br><br>1602 用户取消了安装。<br><br>1603 安装时发生严重错误。<br><br>1604 安装已挂起，未完成。<br><br>1605 这个操作只对当前安装的产品有效。<br><br>1606 功能 ID 未注册。<br><br>1607 组件 ID 未注册。<br><br>1608 未知属性。<br><br>1609 句柄处于不正确的状态。<br><br>1610 这个产品的配置数据已损坏。请与技术支持人员联系。<br><br>1611 组件限制语不存在。<br><br>1612 这个产品的安装来源无法使用。请验证来源是否存在，是否可以访问。<br><br>1613 Windows 安装服务无法安装这个安装程序包。您必须安装含有Windows 安装服务新版本的 Windows Service Park。<br><br>1614 产品已卸载。<br><br>1615 SQL 查询语法不正确或不被支持。<br><br>1616 记录字符域不存在。<br><br>1617 设备已被删除。<br><br>1618 正在进行另一个安装操作。请在继续这个安装操作之前完成那个操作。<br><br>1619 未能打开这个安装程序包。请验证程序包是否存在，是否可以访问；或者与应用程序供应商联系，验证这是否是有效的 Windows 安装程序包。<br><br>1620 未能打开这个安装程序包。请与应用程序供应商联系，验证这是否是有效的 Windows 安装程序包。<br><br>1621 启动 Windows 安装服务用户界面时有错误。请与技术支持人员联系。 1622 打开安装日志文件时出错。请验证指定的日志文件位置是否存在，是否可以写入。<br><br>1623 安装程序包的语言不受系统支持。<br><br>1624 应用变换时出错。请验证指定的变换路径是否有效。<br><br>1625 系统策略禁止这个安装。请与系统管理员联系。<br><br>1626 无法执行函数。<br><br>1627 执行期间，函数出了问题。<br><br>1628 指定了无效的或未知的表格。<br><br>1629 提供的数据类型不对。<br><br>1630 这个类型的数据不受支持。<br><br>1631 Windows 安装服务未能启动。请与技术支持人员联系。<br><br>1632 临时文件夹已满或无法使用。请验证临时文件夹是否存在，是否可以写入。<br><br>1633 这个处理器类型不支持该安装程序包。请与产品供应商联系。<br><br>1634 组件没有在这台计算机上使用。<br><br>1635 无法打开修补程序包。请验证修补程序包是否存在，是否可以访问；或者与应用程序供应商联系，验证这是否是有效的 Windows 安装修补程序包。<br><br>1636 无法打开修补程序包。请与应用程序供应商联系，验证这是否是有效的 Windows 安装修补程序包。<br><br>1637 Windows 安装服务无法处理这个修补程序包。您必须安装含有Windows 安装服务新版本的 Windows Service Pack。<br><br>1638 已安装这个产品的另一个版本。这个版本的安装无法继续。要配置或删除这个产品的现有版本，请用“控制面板”上的“添加/删除程序”。<br><br>1639 无效的命令行参数。有关详细的命令行帮助，请查阅 Windows 安装服务的 SDK。<br><br>1640 在终端服务远程会话期间，只有管理员有添加、删除或配置服务器软件的权限。如果您要在服务器上安装或配置软件，请与网络管理员联系。<br><br>1641 要求的操作已成功结束。要使改动生效，必须重新启动系统。<br><br>1642 Windows 安装服务无法安装升级修补程序，因为被升级的程序丢失，或者升级修补程序将更新此程序的其他版本。请确认要被升级的程序在您的计算机上且您的升级修补程序是正确的。<br><br>1700 串绑定无效。cool 1701 绑定句柄的类型错误。<br><br>1702 绑定句柄无效。<br><br>1703 不支持 RPC 协议顺序。<br><br>1704 RPC 协议序列无效。<br><br>1705 字符串的全球唯一标识符(UUID)无效。<br><br>1706 终点的格式无效。<br><br>1707 网络地址无效。<br><br>1708 未找到终点。<br><br>1709 超时设置值无效。<br><br>1710 找不到该对象的全球唯一标识符(UUID)。<br><br>1711 该对象的全球唯一标识符(UUID)已经注册。<br><br>1712 这一类型的全球唯一标识符(UUID)已经注册。<br><br>1713 RPC 服务器正在监听。<br><br>1714 尚未注册协议顺序。<br><br>1715 RPC 服务器不处于监听状态。<br><br>1716 管理程序的类型未知。<br><br>1717 接口未知。<br><br>1718 没有绑定。<br><br>1719 没有协议序列。<br><br>1720 无法创建终点。<br><br>1721 资源不足，无法完成该操作。<br><br>1722 RPC 服务器无法使用。<br><br>1723 RPC 服务器太忙，无法完成此项操作。<br><br>1724 网络选项无效。<br><br>1725 该线程中不存在活动的远程过程调用。<br><br>1726 远程过程调用失败。<br><br>1727 远程过程调用失败并且无法执行。<br><br>1728 远程过程调用(RPC)协议出现错误。<br><br>1730 RPC 服务器不支持传输语法。<br><br>1732 不支持这种类型的全球唯一标识符。<br><br>1733 标识无效。<br><br>1734 数组边界无效。<br><br>1735 绑定类型中不包含项目名。<br><br>1736 名称语法无效。<br></p><p>1737 不支持这种命名语法。<br><br>1739 没有可用的网络地址，无法创建全球唯一标识符(UUID)。<br><br>1740 终结点重复。<br><br>1741 身份验证类型未知。<br><br>1742 调用次数的上限太小。<br><br>1743 字符串太长。<br><br>1744 找不到 RPC 协议序列。<br><br>1745 过程号超出范围。<br><br>1746 此次绑定不包含任何身份验证信息。<br><br>1747 身份验证服务未知。<br><br>1748 身份验证级别未知。<br><br>1749 安全描述符无效。<br><br>1750 身份验证服务未知。<br><br>1751 项目无效。<br><br>1752 服务器的终结点无法执行此项操作。<br><br>1753 终点的映射器没有更多的终点可用。<br><br>1754 没有导出任何接口。<br><br>1755 项目名不完整。<br><br>1756 版本选项无效。<br><br>1757 没有其他成员。<br><br>1758 可以导出全部内容。<br><br>1759 未找到接口。<br><br>1760 项目已经存在。<br><br>1761 项目找不到。<br><br>1762 名称服务不可用。<br><br>1763 网络地址集无效。<br><br>1764 不支持请求的操作。<br><br>1765 没有可供冒仿的安全性描述符。<br><br>1766 远程过程调用(RPC)出现内部错误。<br><br>1767 RPC 服务器企图进行整除零运算。<br><br>1768 RPC 服务器出现寻址错误。<br><br>1769 RPC 服务器中的浮点运算造成被零除。<br><br>1770 RPC 服务器产生了浮点下溢错误。<br><br>1771 RPC 服务器产生了浮点上溢错误。<br><br>1772 可用于自动句柄绑定的 RPC 服务器列表已经用完。<br><br>1773 无法打开字符转换表文件。<br><br>1774 包含字符转换表的文件小于 512 个字节。<br><br>1775 在远程过程调用中，客户机向主机传送了一个空的描述体句柄。<br><br>1777 远程过程调用中的描述体句柄发生变化。<br><br>1778 发送到远程过程调用的绑定句柄不匹配。<br><br>1779 占位程序无法获得远程过程调用的句柄。<br><br>1780 将空的参考指针发送给占位程序。<br><br>1781 列举值超出范围。<br><br>1782 字节数目太小。<br><br>1783 占位程序接收到错误数据。<br><br>1784 所提供的用户缓冲区对所申请的操作无效。<br><br>1785 无法识别磁盘媒体。它可能还未格式化。<br><br>1786 工作站没有信任密码。<br></p><p>1787 服务器上的安全数据库中没有该工作站信任关系的计算机帐户。<br><br>1788 建立主域和受托域间的信任关系失败。<br><br>1789 建立工作站和主域间的信任关系失败。<br><br>1790 网络登录失败。<br><br>1791 该线程执行过程中已经进行了远程过程调用。<br><br>1792 试图登录网络，但网络登录服务尚未启动。<br><br>1793 用户帐户已到期。<br><br>1794 重定向程序正在使用，无法卸载。<br><br>1795 已经安装所指定的打印机驱动程序。<br><br>1796 指定的端口未知。<br><br>1797 打印机驱动程序未知。<br><br>1798 打印处理程序未知。<br><br>1799 指定的分隔符文件无效。<br><br>1800 指定的优先级无效。<br><br>1801 打印机名无效。<br><br>1802 打印机已经存在。<br><br>1803 打印机命令无效。<br><br>1804 指定的数据类型无效。<br><br>1805 指定的环境无效。<br><br>1806 没有其他绑定。<br><br>1807 使用的帐户是跨网络的信任帐户。请使用全局用户帐户或本地用户帐户来访问此服务器。<br><br>1808 所使用的帐户是计算机帐户。请使用全局用户帐户或本地用户帐户来访问该服务器。<br><br>1809 使用的帐户是服务器信任帐户。请使用全局用户帐户或本地用户帐户来访问该服务器。<br><br>1810 指定的域名或安全标识符与域的信任信息不一致。<br><br>1811 服务器正在使用中，无法卸载。<br><br>1812 指定的映像文件不包含资源部分。<br><br>1813 在映像文件中找不到指定的资源类型。<br><br>1814 在映像文件中找不到指定的资源名称。<br><br>1815 在映像文件中找不到指定的资源语言 ID 。<br><br>1816 可用的配额不足，无法执行该命令。<br><br>1817 没有已注册的接口。<br><br>1818 远程过程调用被取消。<br><br>1819 绑定句柄不包含所有需要的信息。<br><br>1820 远程调用过程中发生通讯失败。<br><br>1821 所需的身份验证级别不被支持。<br><br>1822 主要的名称没有注册。<br><br>1823 指定的错误不是有效的 Windows RPC 错误代码。<br><br>1824 已分配仅在本机上有效的 UUID。<br><br>1825 产生了特定的安全包错误。<br><br>1826 没有取消线程。<br></p><p>1827 在编码/解码处理时的操作无效。<br><br>1828 序列化软件包的版本不兼容。<br><br>1829 RPC 占位程序的版本不兼容。<br><br>1830 RPC 管道对象无效或已损坏。<br><br>1831 试图在 RPC 管道对象上进行无效操作。<br><br>1832 不被支持的 RPC 管道版本。<br><br>1898 找不到组成员。<br><br>1899 无法创建终结点映射数据库条目。<br><br>1900 对象的全球标识符(UUID)为空。<br><br>1901 指定的时间无效。<br><br>1902 指定的表单名无效。<br><br>1903 指定的表单大小无效。<br><br>1904 指定的打印机句柄正在等候处理<br><br>1905 指定的打印机已经删除。<br><br>1906 打印机的状态无效。<br><br>1907 用户首次登录前，必须先更改其密码。<br><br>1908 找不到该域的域控制器。<br><br>1909 引用的帐户目前被锁定，可能无法登录。<br><br>1910 没有发现指定的此对象导出者。<br><br>1911 没有发现指定的对象。<br><br>1912 没有发现指定的对象解析器。<br><br>1913 一些待发数据仍停留在请求缓冲区内。<br><br>1914 无效的异步远程过程调用句柄。<br><br>1915 这个操作的异步 RPC 调用句柄不正确。<br><br>1916 RPC 管道对象已经关闭。<br><br>1917 RPC 调用在全部的管道都被处理之前完成。<br><br>1918 没有其他可用的数据来自 RPC 管道。<br><br>1919 这个机器没有可用的站点名。<br><br>1920 系统无法访问此文件。<br><br>1921 系统无法解析文件名。<br><br>1922 项目不是所要的类型。<br><br>1923 无法将所有对象的 UUID 导出到指定的项。<br><br>1924 无法将接口导出到指定的项。<br><br>1925 无法添加指定的配置文件项。<br><br>1926 无法添加指定的配置文件元素。<br><br>1927 无法删除指定的配置文件元素。<br><br>1928 无法添加组元素。<br><br>1929 无法删除组元素。 mysql的出错代码表，根据mysql的头文件<br></p><p>1005：创建表失败<br><br>1006：创建数据库失败<br><br>1007：数据库已存在，创建数据库失败<br><br>1008：数据库不存在，删除数据库失败<br><br>1009：不能删除数据库文件导致删除数据库失败<br><br>1010：不能删除数据目录导致删除数据库失败<br><br>1011：删除数据库文件失败<br><br>1012：不能读取系统表中的记录<br><br>1020：记录已被其他用户修改<br><br>1021：硬盘剩余空间不足，请加大硬盘可用空间<br><br>1022：关键字重复，更改记录失败<br><br>1023：关闭时发生错误<br><br>1024：读文件错误<br></p><p>1025：更改名字时发生错误<br><br>1026：写文件错误<br><br>1032：记录不存在<br><br>1036：数据表是只读的，不能对它进行修改<br><br>1037：系统内存不足，请重启数据库或重启服务器<br></p>]]></content>
      
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cytoscape绘制一个拓扑图</title>
      <link href="/2019/07/18/cytoscape%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA%E6%8B%93%E6%89%91%E5%9B%BE/"/>
      <url>/2019/07/18/cytoscape%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA%E6%8B%93%E6%89%91%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h3 id="只记录核心代码"><a href="#只记录核心代码" class="headerlink" title="只记录核心代码"></a>只记录核心代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">import cytoscape from &apos;cytoscape&apos;</span><br><span class="line">import edgehandles from &apos;cytoscape-edgehandles&apos;</span><br><span class="line">cytoscape.use(edgehandles)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  let makeSvg = function (node) &#123;</span><br><span class="line">    let data = node.data()</span><br><span class="line">    return &#123; image: data.image || &apos;none&apos;, width: 50, height: 50 &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  const cy = cytoscape(&#123;</span><br><span class="line">    container: this.$refs.topology,</span><br><span class="line">    layout: &#123;</span><br><span class="line">      name: &apos;breadthfirst&apos;,</span><br><span class="line">      directed: true</span><br><span class="line">    &#125;,</span><br><span class="line">    userZoomingEnabled: false,</span><br><span class="line"></span><br><span class="line">    style: [</span><br><span class="line">      &#123;</span><br><span class="line">        selector: &apos;node&apos;,</span><br><span class="line">        style: &#123;</span><br><span class="line">          shape: &apos;ellipse&apos;, // rectangle vee pentagon</span><br><span class="line">          content: function (ele) &#123;</span><br><span class="line">            const data = ele.data()</span><br><span class="line">            if (data.title) &#123;</span><br><span class="line">              return `$&#123;data.title&#125;-$&#123;data.name&#125;`</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">              return `$&#123;data.id&#125;`</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          &apos;text-valign&apos;: &apos;center&apos;,</span><br><span class="line">          &apos;text-halign&apos;: &apos;right&apos;,</span><br><span class="line">          &apos;color&apos;: &apos;data(color)&apos;,</span><br><span class="line">          &apos;background-color&apos;: &apos;data(color)&apos;,</span><br><span class="line">          &apos;background-image&apos;: function (node) &#123; return makeSvg(node).image &#125;,</span><br><span class="line">          &apos;background-width&apos;: &apos;60%&apos;,</span><br><span class="line">          &apos;background-height&apos;: &apos;60%&apos;,</span><br><span class="line">          &apos;width&apos;: function (node) &#123; return makeSvg(node).width &#125;,</span><br><span class="line">          &apos;height&apos;: function (node) &#123; return makeSvg(node).height &#125;,</span><br><span class="line">          &apos;text-rotation&apos;: function (node) &#123;  //根据条件旋转文字，避免节点太多文字相互覆盖</span><br><span class="line">            let data = node.data()</span><br><span class="line">            if (data.level === 3 &amp;&amp; level3Len &gt; 10) &#123;</span><br><span class="line">              return 45</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">              return 0</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &apos;selector&apos;: &apos;node:selected&apos;,</span><br><span class="line">        &apos;style&apos;: &#123;</span><br><span class="line">          &apos;min-zoomed-font-size&apos;: 0,</span><br><span class="line">          &apos;z-index&apos;: 9999,</span><br><span class="line">          &apos;border-color&apos;: &apos;black&apos;,</span><br><span class="line">          &apos;border-width&apos;: 2,</span><br><span class="line">          &apos;color&apos;: &apos;black&apos;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">        selector: &apos;edge&apos;,</span><br><span class="line">        style: &#123;</span><br><span class="line">          &apos;curve-style&apos;: &apos;straight&apos;,</span><br><span class="line">          &apos;target-arrow-shape&apos;: &apos;triangle&apos;,</span><br><span class="line">          &apos;line-color&apos;: &apos;gray&apos;,</span><br><span class="line">          &apos;width&apos;: 0.8,</span><br><span class="line">          &apos;line-style&apos;: &apos;data(lineStyle)&apos;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    elements: &#123;</span><br><span class="line">      nodes: nodes,</span><br><span class="line">      edges: edges</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  cy.on(&apos;tap&apos;, &apos;node&apos;, function (evt) &#123;</span><br><span class="line">    let data = evt.target.data()</span><br><span class="line">    if (data.click) &#123;</span><br><span class="line">      vm.getIpStat(data.ip)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> graph </category>
          
      </categories>
      
      
        <tags>
            
            <tag> graph </tag>
            
            <tag> cytoscape </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>http访问控制</title>
      <link href="/2019/07/18/http%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/"/>
      <url>/2019/07/18/http%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h3 id="http访问控制-cors-概念"><a href="#http访问控制-cors-概念" class="headerlink" title="http访问控制(cors)概念"></a>http访问控制(cors)概念</h3><pre><code>跨域资源共享(CORS) 是一种机制，它使用额外的 HTTP 头来告诉浏览器  让运行在一个 origin (domain) 上的Web应用被准许访问来自不同源服务器上的指定的资源。</code></pre><p>出于安全原因，浏览器限制从脚本内<strong>发起</strong>的跨源HTTP请求。</p><blockquote><p>⚠️不一定是浏览器限制了发起跨站请求，也可能是跨站请求可以正常发起，但是返回结果被浏览器拦截了</p></blockquote><h3 id="简单请求-满足下面所有条件"><a href="#简单请求-满足下面所有条件" class="headerlink" title="简单请求: (满足下面所有条件)"></a>简单请求: (满足下面所有条件)</h3><p>  方法：GET、HEAD、POST<br>  Content-Typ为下面三个值之一：text/plain 、mutipart/form-data 、application/x-www-data-urlencoded</p><a id="more"></a><h3 id="复杂请求【预检请求】（满足下面任一条件）"><a href="#复杂请求【预检请求】（满足下面任一条件）" class="headerlink" title="复杂请求【预检请求】（满足下面任一条件）"></a>复杂请求【预检请求】（满足下面任一条件）</h3><p>  与前述简单请求不同，“需预检的请求”要求必须首先使用 OPTIONS 方法发起一个预检请求到服务器，以获知服务器是否允许该实际请求。”预检请求“的使用，可以避免跨域请求对服务器的用户数据产生未预期的影响。<br>当请求满足下述任一条件时，即应首先发送预检请求：</p><ul><li>使用了下面任一 HTTP 方法：</li></ul><ol><li>PUT</li><li>DELETE</li><li>CONNECT</li><li>OPTIONS</li><li>TRACE</li><li>PATCH</li></ol><ul><li>人为设置了对 CORS 安全的首部字段集合之外的其他首部字段。该集合为：</li></ul><ol><li>Accept</li><li>Accept-Language</li><li>Content-Language</li><li>Content-Type (需要注意额外的限制)</li></ol><ul><li>Content-Type 的值不属于下列之一:</li></ul><ol><li>application/x-www-form-urlencoded</li><li>multipart/form-data</li><li>text/plain</li></ol><ul><li>请求中的XMLHttpRequestUpload 对象注册了任意多个事件监听器。</li><li>请求中使用了ReadableStream对象。</li></ul><h3 id="HTTP响应首部字段："><a href="#HTTP响应首部字段：" class="headerlink" title="HTTP响应首部字段："></a>HTTP响应首部字段：</h3><h4 id="Access-Control-Allow-Origin"><a href="#Access-Control-Allow-Origin" class="headerlink" title="Access-Control-Allow-Origin"></a>Access-Control-Allow-Origin</h4><h4 id="Access-Control-Expose-Headers"><a href="#Access-Control-Expose-Headers" class="headerlink" title="Access-Control-Expose-Headers"></a>Access-Control-Expose-Headers</h4><p>  让服务器把允许浏览器访问的头放入白名单。在跨域访问时，XMLHttpRequest对象的getResponseHeader()方法只能拿到一些最基本的响应头，Cache-Control、Content-Language、Content-Type、Expires、Last-Modified、Pragma，如果要访问其他头，则需要服务器设置本响应头。</p><h4 id="Access-Control-Max-Age"><a href="#Access-Control-Max-Age" class="headerlink" title="Access-Control-Max-Age"></a>Access-Control-Max-Age</h4><p>  指定了preflight请求的结果能够被缓存多久</p><h4 id="Access-Control-Allow-Credentials"><a href="#Access-Control-Allow-Credentials" class="headerlink" title="Access-Control-Allow-Credentials"></a>Access-Control-Allow-Credentials</h4><p>  指定了当浏览器的credentials设置为true时是否允许浏览器读取response的内容。当用在对preflight预检测请求的响应中时，它指定了实际的请求是否可以使用credentials。请注意：简单 GET 请求不会被预检；如果对此类请求的响应中不包含该字段，这个响应将被忽略掉，并且浏览器也不会将相应内容返回给网页</p><h4 id="Access-Control-Allow-Methods"><a href="#Access-Control-Allow-Methods" class="headerlink" title="Access-Control-Allow-Methods"></a>Access-Control-Allow-Methods</h4><p>  首部字段用于预检请求的响应。其指明了实际请求所允许使用的 HTTP 方法</p><h4 id="Access-Control-Allow-Headers"><a href="#Access-Control-Allow-Headers" class="headerlink" title="Access-Control-Allow-Headers"></a>Access-Control-Allow-Headers</h4><p>  首部字段用于预检请求的响应。其指明了实际请求中允许携带的首部字段。</p><h3 id="HTTP请求首部字段："><a href="#HTTP请求首部字段：" class="headerlink" title="HTTP请求首部字段："></a>HTTP请求首部字段：</h3><h4 id="Origin-首部字段表明预检请求或实际请求的源站。"><a href="#Origin-首部字段表明预检请求或实际请求的源站。" class="headerlink" title="Origin 首部字段表明预检请求或实际请求的源站。"></a>Origin 首部字段表明预检请求或实际请求的源站。</h4><p>  它不包含任何路径信息，只是服务器名称。Note: 有时候将该字段的值设置为空字符串是有用的，例如，当源站是一个 data URL 时。</p><h4 id="Access-Control-Request-Method"><a href="#Access-Control-Request-Method" class="headerlink" title="Access-Control-Request-Method"></a>Access-Control-Request-Method</h4><p>  首部字段用于预检请求。其作用是，将实际请求所使用的 HTTP 方法告诉服务器。</p><h4 id="Access-Control-Request-Headers"><a href="#Access-Control-Request-Headers" class="headerlink" title="Access-Control-Request-Headers"></a>Access-Control-Request-Headers</h4><p>  首部字段用于预检请求。其作用是，将实际请求所携带的首部字段告诉服务器。</p><p>摘录自<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS</a></p><h3 id="最后来一个小demo吧"><a href="#最后来一个小demo吧" class="headerlink" title="最后来一个小demo吧"></a>最后来一个小demo吧</h3><p>index1.html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  port: 9000 index page</span><br><span class="line">  &lt;!-- &lt;script src=&quot;http://127.0.0.1:9001/&quot;&gt;&lt;/script&gt; --&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var xhr = new XMLHttpRequest()</span><br><span class="line">    xhr.open(&apos;put&apos;, &apos;http://127.0.0.1:9001/&apos;)</span><br><span class="line">    // xhr.setRequestHeader(&apos;X-Custom-Field&apos;, &apos;custom-field&apos;)</span><br><span class="line">    xhr.send()</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>server1.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const http = require(&apos;http&apos;);</span><br><span class="line">const fs = require(&apos;fs&apos;)</span><br><span class="line"></span><br><span class="line">http.createServer(function(req, res) &#123;</span><br><span class="line">  if(req.url === &apos;/&apos;) &#123;</span><br><span class="line">    file = fs.readFileSync(&apos;./index1.html&apos;, &apos;utf-8&apos;)</span><br><span class="line">    res.writeHead(200, &#123;</span><br><span class="line">      &apos;Content-Type&apos;: &apos;text/html&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">    res.end(file)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).listen(9000, &apos;127.0.0.1&apos;)</span><br></pre></td></tr></table></figure></p><p>server2.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">const http = require(&apos;http&apos;);</span><br><span class="line"></span><br><span class="line">// http.createServer(function(req, res) &#123;</span><br><span class="line">//   if(req.url === &apos;/&apos;) &#123;</span><br><span class="line">//     console.log(&apos;come in 127.0.0.1:9001 server&apos;)</span><br><span class="line">//     res.writeHead(200,&#123;</span><br><span class="line">//       &apos;Content-Type&apos;: &apos;text/plain&apos;</span><br><span class="line">//     &#125;)</span><br><span class="line">//     res.end(&apos;9001 index page&apos;)</span><br><span class="line">//   &#125;</span><br><span class="line">// &#125;).listen(9001, &apos;127.0.0.1&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// http.createServer(function(req, res) &#123;</span><br><span class="line">//   if(req.url === &apos;/&apos;) &#123;</span><br><span class="line">//     console.log(&apos;come in 127.0.0.1:9001 server&apos;)</span><br><span class="line">//     res.writeHead(200,&#123;</span><br><span class="line">//       &apos;Access-Control-Allow-Origin&apos;: &apos;*&apos;, // 告诉浏览器允许访问的origin</span><br><span class="line">//       &apos;Content-Type&apos;: &apos;text/plain&apos; </span><br><span class="line">//     &#125;)</span><br><span class="line">//     res.end(&apos;9001 index page&apos;)</span><br><span class="line">//   &#125;</span><br><span class="line">// &#125;).listen(9001, &apos;127.0.0.1&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http.createServer(function(req, res) &#123;</span><br><span class="line">  if(req.url === &apos;/&apos;) &#123;</span><br><span class="line">    console.log(&apos;come in 127.0.0.1:9001 server&apos;)</span><br><span class="line">    res.writeHead(200,&#123;</span><br><span class="line">      &apos;Access-Control-Allow-Origin&apos;: &apos;*&apos;, // 告诉浏览器允许访问的origin</span><br><span class="line">      &apos;Access-Control-Allow-Methods&apos;: &apos;PUT&apos;, </span><br><span class="line">      &apos;Allow-Control-Request-Method&apos;: &apos;PUT&apos;,</span><br><span class="line">      // &apos;Access-Control-Allow-Headers&apos;: &apos;X-Custom-Field&apos;,  // 用来指定允许的自定义header</span><br><span class="line">      // &apos;Access-Control-Max-Age&apos;: 0,   //指定预请求(prefight)的有效期， 单位为秒</span><br><span class="line">      // &apos;Cache-Control&apos;: &apos;no-store&apos;,</span><br><span class="line">      &apos;Content-Type&apos;: &apos;text/plain&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">    res.end(JSON.stringify(&#123;</span><br><span class="line">      name: &apos;Tom&apos;</span><br><span class="line">    &#125;))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).listen(9001, &apos;127.0.0.1&apos;)</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cors </tag>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>code自定义iview语法提示</title>
      <link href="/2019/07/16/code%E8%87%AA%E5%AE%9A%E4%B9%89iview%E8%AF%AD%E6%B3%95%E6%8F%90%E7%A4%BA/"/>
      <url>/2019/07/16/code%E8%87%AA%E5%AE%9A%E4%B9%89iview%E8%AF%AD%E6%B3%95%E6%8F%90%E7%A4%BA/</url>
      
        <content type="html"><![CDATA[<p>vscode 中支持自定义语法提示，于是我就将一些常见的代码模块记录一下，开发时只要输入少量代码就可以获得整个代码块，提高了开发效率。</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br></pre></td><td class="code"><pre><span class="line">&apos;.text.html.vue&apos;:</span><br><span class="line">  &apos;button&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;btn&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Button type=&quot;$1&quot;&gt;&lt;/Button&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;icon&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;icon&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Icon type=&quot;$1&quot;/&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;row&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;row&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Row&gt;</span><br><span class="line">        &lt;Col&gt;&lt;/Col&gt;</span><br><span class="line">      &lt;/Row&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;col&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;col&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Col&gt;&lt;/Col&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;card&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;card&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Card dis-hover&gt;</span><br><span class="line">        $1</span><br><span class="line">      &lt;/Card&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;collapse&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;collapse&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Collapse&gt;</span><br><span class="line">        &lt;Panel name=&quot;&quot;&gt;</span><br><span class="line">        &lt;/Panel&gt;</span><br><span class="line">      &lt;/Collapse&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;Split&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;split&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Split v-model=&quot;split1&quot;&gt;</span><br><span class="line">        &lt;div slot=&quot;left&quot;&gt;</span><br><span class="line">            Left Pane</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div slot=&quot;right&quot;&gt;</span><br><span class="line">            Right Pane</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/Split&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;divider&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;divider&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Divider /&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;cell&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;cell&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Cell title=&quot;$1&quot;&gt;&lt;/Cell&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;CellGroup&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;cellgroup&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;CellGroup&gt;</span><br><span class="line">        &lt;Cell&gt;&lt;/Cell&gt;</span><br><span class="line">      &lt;/CellGroup&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;Tabs&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;tabs&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Tabs&gt;</span><br><span class="line">        &lt;Tabpane label=&quot;&quot;&gt;&lt;/Tabpane&gt;</span><br><span class="line">      &lt;/Tabs&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;Dropdown&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;dropdown&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Dropdown&gt;</span><br><span class="line">        &lt;Button type=&quot;primary&quot;&gt;</span><br><span class="line">          下拉菜单</span><br><span class="line">        &lt;/Button&gt;</span><br><span class="line">        &lt;DropdownMenu slot=&quot;list&quot;&gt;</span><br><span class="line">          &lt;DropdownItem&gt;&lt;/DropdownItem&gt;</span><br><span class="line">        &lt;/DropdownMenu&gt;</span><br><span class="line">      &lt;/Dropdown&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;Steps&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;steps&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Steps :current=&quot;1&quot;&gt;</span><br><span class="line">        &lt;Step title=&quot;$1&quot; content=&quot;$2&quot;&gt;&lt;/Step&gt;</span><br><span class="line">      &lt;/Steps&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &apos;Input --&gt;vue&apos;:</span><br><span class="line">    &apos;prefix&apos;: &apos;input&apos;</span><br><span class="line">    &apos;body&apos;:&quot;&quot;&quot;</span><br><span class="line">      &lt;Input v-model.trim=&quot;$1&quot;/&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &quot;form --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;form&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Form ref=&quot;Form&quot; :model=&quot;Form&quot; :rules=&quot;FormRules&quot; label-position=&quot;right&quot;&gt;</span><br><span class="line">        &lt;Form-item label=&quot;&quot; prop=&quot;&quot;&gt;</span><br><span class="line">        &lt;/Form-item&gt;</span><br><span class="line">        &lt;Form-item&gt;</span><br><span class="line">          &lt;div style=&quot;text-align:center&quot;&gt;</span><br><span class="line">            &lt;Button type=&quot;primary&quot; @click=&quot;&quot;&gt;提交&lt;/Button&gt;</span><br><span class="line">            &lt;Button type=&quot;warning&quot; @click=&quot;&quot;&gt;重置&lt;/Button&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/Form-item&gt;</span><br><span class="line">      &lt;/Form&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &quot;form validate--&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;validate&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$refs[&apos;$1&apos;].validate((valid) =&gt; &#123;</span><br><span class="line">        if (valid) &#123;</span><br><span class="line">          this.$Message.error(&apos;表单验证成功!&apos;)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          this.$Message.error(&apos;表单验证失败!&apos;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;form reset--&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;reset&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$refs[&apos;$1&apos;].resetFields()</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;formitem --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;formitem&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Form-item label=&quot;$1&quot; prop=&quot;$2&quot;&gt;</span><br><span class="line">      &lt;/Form-item&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;formitem-input --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;formitem.input&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Form-item label=&quot;$1&quot; prop=&quot;$2&quot;&gt;</span><br><span class="line">        &lt;Input v-model=&quot;$3&quot;&gt;&lt;/Input&gt;</span><br><span class="line">      &lt;/Form-item&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;formitem-select --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;formitem.select&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Form-item label=&quot;$1&quot; prop=&quot;$2&quot;&gt;</span><br><span class="line">        select</span><br><span class="line">      &lt;/Form-item&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;formitem-switch --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;formitem.switch&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Form-item label=&quot;$1&quot; prop=&quot;$2&quot;&gt;</span><br><span class="line">        switch</span><br><span class="line">      &lt;/Form-item&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;formitem-radiogroup --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;formitem.radiogroup&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      radiogroup</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;formitem-checkgroup --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;formitem.checkgroup&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      checkgroup</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;radio --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;radio&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Radio label=&quot;$1&quot;&gt;否&lt;/Radio&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;radiogroup --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;radiogroup&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;RadioGroup v-model=&quot;a&quot;&gt;</span><br><span class="line">          &lt;Radio label=&quot;&quot;&gt;是&lt;/Radio&gt;</span><br><span class="line">          &lt;Radio label=&quot;&quot;&gt;否&lt;/Radio&gt;</span><br><span class="line">        &lt;/RadioGroup&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;checkbox --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;checkbox&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Checkbox label=&quot;$1&quot;&gt;&lt;/Checkbox&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;checkboxgroup --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;checkboxgroup&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;CheckboxGroup v-model=&quot;$1&quot;&gt;</span><br><span class="line">        &lt;Checkbox label=&quot;$2&quot;&gt;</span><br><span class="line">        &lt;/Checkbox&gt;</span><br><span class="line">      &lt;/CheckboxGroup&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;switch --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;switch&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;i-switch v-model=&quot;&quot; :true-value=&quot;&quot; :false-value=&quot;&quot;&gt;</span><br><span class="line">        &lt;span slot=&quot;open&quot;&gt;开&lt;/span&gt;</span><br><span class="line">        &lt;span slot=&quot;close&quot;&gt;关&lt;/span&gt;</span><br><span class="line">    &lt;/i-switch&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;select --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;select&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Select v-model=&quot;$1&quot;&gt;</span><br><span class="line">        &lt;Option v-for=&quot;(item, index) in List&quot; :value=&quot;$2&quot; :key=&quot;index&quot;&gt;&#123;&#123;$3&#125;&#125;&lt;/Option&gt;</span><br><span class="line">      &lt;/Select&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;datepicker --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;datepicker&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;DatePicker type=&quot;date&quot;&gt;&lt;/DatePicker&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;inputnumber --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;inputnumber&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;InputNumber v-model=&quot;$1&quot;&gt;&lt;/InputNumber&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;rate --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;rate&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Rate v-model=&quot;$1&quot;&gt;&lt;/Rate&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;alert --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;alert&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Alert type=&quot;&quot;&gt;&lt;/Alert&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;alert.success --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;alert&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Alert type=&quot;success&quot;&gt;&lt;/Alert&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;alert.warning --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;alert.warning&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Alert type=&quot;warning&quot;&gt;&lt;/Alert&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;alert.error --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;alert.error&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Alert type=&quot;error&quot;&gt;&lt;/Alert&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;message --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;icon&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Message.info(&apos;表单验证失败&apos;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;message.success --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;message.success&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Message.success(&apos;表单验证成功！&apos;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;message.warning --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;message.warning&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Message.warning(content: &apos;表单验证失败！&apos;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;message.error --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;message.error&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Message.error(&apos;表单验证失败！&apos;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;message.loading --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;message.loading&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Message.loading(&apos;表单验证失败！&apos;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;notice --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;notice&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Notice.open(&#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        desc: &apos;&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;notice.info --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;notice.info&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Notice.info(&#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        desc: &apos;&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;notice.success --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;notice.succes&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Notice.succes(&#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        desc: &apos;&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;notice.warning --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;notice.warning&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Notice.warning(&#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        desc: &apos;&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;notice.error --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;notice.error&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Notice.error(&#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        desc: &apos;&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;Modal --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;modal&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Modal v-model=&quot;$1ModalVis&quot; title=&quot;&quot; :mask-closable=&quot;false&quot; @on-cancel=&quot;&quot;&gt;</span><br><span class="line">      &lt;/Modal&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;Modal.info --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;modal.info&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Modal.info(&#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        content: &apos;&apos;,</span><br><span class="line">        onOk () &#123;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;Modal.success --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;modal.success&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Modal.success(&#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        content: &apos;&apos;,</span><br><span class="line">        onOk () &#123;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;Modal.warning --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;modal.warning&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Modal.warning(&#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        content: &apos;&apos;,</span><br><span class="line">        onOk () &#123;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;Modal.error --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;modal.error&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Modal.error(&#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        content: &apos;&apos;,</span><br><span class="line">        onOk () &#123;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;Modal.confirm --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;modal.confirm&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$Modal.confirm(&#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        content: &apos;&apos;,</span><br><span class="line">        onOk () &#123;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;timeline --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;timeline&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Timeline&gt;</span><br><span class="line">          &lt;TimelineItem color=&quot;&quot;&gt;&lt;/TimelineItem&gt;</span><br><span class="line">      &lt;/Timeline&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;timelineitem --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;timelineitem&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;TimelineItem color=&quot;&quot;&gt;&lt;/TimelineItem&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;tag --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;tag&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Tag&gt;$1&lt;/Tag&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;tag.for type=&apos;border,dot&apos; --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;tag.for&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Tag v-for=&quot;(item, index) in $1&quot; :key=&quot;index&quot;&gt;&#123;&#123;item.$2&#125;&#125;&lt;/Tag&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;tooptip --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;tooptip&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Tooltip content=&quot;&quot;&gt;</span><br><span class="line">      &lt;/Tooltip&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;poptip --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;poptip&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Poptip trigger=&quot;hover&quot; title=&quot;$1&quot; content=&quot;$2&quot;&gt;</span><br><span class="line">        $3</span><br><span class="line">      &lt;/Poptip&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;carousel --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;carousel&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Carousel v-model=&quot;$1&quot; loop&gt;</span><br><span class="line">        &lt;CarouselItem&gt;&lt;/CarouselItem&gt;</span><br><span class="line">      &lt;/Carousel&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;carouselitem --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;carouselitem&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">        &lt;CarouselItem&gt;&lt;/CarouselItem&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;menu --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;menu&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">        &lt;Menu theme=&quot;dark&quot;&gt;</span><br><span class="line">          &lt;Submenu name=&quot;&quot;&gt;</span><br><span class="line">            &lt;template slot=&quot;title&quot;&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">            &lt;MenuItem name=&quot;&quot;&gt;&lt;/MenuItem&gt;</span><br><span class="line">          &lt;/Submenu&gt;</span><br><span class="line">        &lt;/Menu&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;menuitem --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;menuitem&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">        &lt;MenuItem name=&quot;&quot;&gt;&lt;/MenuItem&gt;s</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;drop --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;drop&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Dropdown @on-click=&quot;&quot;&gt;</span><br><span class="line">        &lt;DropdownMenu slot=&quot;list&quot;&gt;</span><br><span class="line">          &lt;DropdownItem&gt;&lt;/DropdownItem&gt;</span><br><span class="line">        &lt;/DropdownMenu&gt;</span><br><span class="line">      &lt;/Dropdown&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;breadcrumb --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;breadcrumb&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Breadcrumb&gt;</span><br><span class="line">        &lt;BreadcrumbItem v-for=&quot;(item, index) in $1&quot; :key=&quot;index&quot; to=&quot;$2&quot;&gt;$3&lt;/BreadcrumbItem&gt;</span><br><span class="line">      &lt;/Breadcrumb&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;circle --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;circle&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Circle :percent=&quot;&quot;&gt;</span><br><span class="line">      &lt;/Circle&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;backtop --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;backtop&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;BackTop&gt;&lt;/BackTop&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;spin --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;spin&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;Spin&gt;&lt;/Spin&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;vue --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;vue&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;template&gt;</span><br><span class="line">        &lt;div name=&quot;$1&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">      &lt;script&gt;</span><br><span class="line">      let vm = null</span><br><span class="line"></span><br><span class="line">      export default &#123;</span><br><span class="line">        components: &#123;</span><br><span class="line">        &#125;,</span><br><span class="line">        data () &#123;</span><br><span class="line">          return &#123;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        computed: &#123;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">        &#125;,</span><br><span class="line">        created () &#123;</span><br><span class="line">          vm = this</span><br><span class="line">          console.log(vm)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      &lt;/script&gt;</span><br><span class="line">      &lt;style scoped&gt;</span><br><span class="line">      &lt;/style&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;api --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;api&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      api.$1($2).then(res =&gt; &#123;</span><br><span class="line">        console.log(res)</span><br><span class="line">      &#125;).catch(err =&gt; &#123;</span><br><span class="line">        console.log(&apos;err&apos;, err)</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;columns --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;columns&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      let $1Col = [</span><br><span class="line">        &#123;</span><br><span class="line">          title: &apos;&apos;,</span><br><span class="line">          key: &apos;&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &apos;&apos;,</span><br><span class="line">          key: &apos;&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &apos;&apos;,</span><br><span class="line">          key: &apos;&apos;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;column --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;column&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &#123;</span><br><span class="line">        title: &apos;&apos;,</span><br><span class="line">        key: &apos;&apos;</span><br><span class="line">      &#125;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;column.selection --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;column.selection&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &#123;</span><br><span class="line">        type: &apos;selection&apos;,</span><br><span class="line">        width: 60,</span><br><span class="line">        align: &apos;center&apos;</span><br><span class="line">      &#125;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;column.index --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;column.index&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &#123;</span><br><span class="line">        type: &apos;index&apos;,</span><br><span class="line">        width: 60,</span><br><span class="line">        align: &apos;center&apos;</span><br><span class="line">      &#125;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;render --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;render&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      render: (h, params) =&gt; &#123;</span><br><span class="line">        return h()</span><br><span class="line">      &#125;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;render.button --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;render&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      render: (h, params) =&gt; &#123;</span><br><span class="line">        return h(&apos;Button&apos;, &#123;</span><br><span class="line">          props: &#123;</span><br><span class="line">            type: &apos;primary&apos;,</span><br><span class="line">            size: &apos;small&apos;</span><br><span class="line">          &#125;,</span><br><span class="line">          on: &#123;</span><br><span class="line">            click () &#123;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, &apos;查看&apos;)</span><br><span class="line">      &#125;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;rules --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;rules&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      let $1FormRules = &#123;</span><br><span class="line">        $2: &#123;</span><br><span class="line">          required: true,</span><br><span class="line">          message: &apos;$3不能为空&apos;,</span><br><span class="line">          trigger: &apos;blur&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        $4: &#123;</span><br><span class="line">          required: true,</span><br><span class="line">          message: &apos;$5不能为空&apos;,</span><br><span class="line">          trigger: &apos;blur&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        $6: &#123;</span><br><span class="line">          required: true,</span><br><span class="line">          message: &apos;$7不能为空&apos;,</span><br><span class="line">          trigger: &apos;blur&apos;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;rule --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;rule&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">        $1: [</span><br><span class="line">          &#123;required: true, message: &apos;$2不能为空&apos;, trigger: &apos;blur&apos;&#125;</span><br><span class="line">        ]</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;import --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;import&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      import $1 from &apos;@/&apos;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;func --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;func&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      function (item) &#123;</span><br><span class="line">        $1</span><br><span class="line">      &#125;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;dispatch --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;dispatch&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$store.dispatch(&apos;$1&apos;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;router --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;router&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$router.push(&#123;</span><br><span class="line">        name: &apos;$1&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;routerview --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;routerview&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;colorpicker --&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;colorpicker&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;ColorPicker v-model=&quot;$1&quot; /&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;ntable (slot=&apos;batch,ouput&apos;)--&gt;vue&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;ntable&quot;</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;NTable :nColumns=&quot;$1&quot; :nData=&quot;$2&quot;&gt;&lt;/NTable&gt;</span><br><span class="line">      &quot;&quot;&quot;</span><br><span class="line">  &quot;buttonGroup&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;buttongroup&quot;,</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      &lt;ButtonGroup&gt;</span><br><span class="line">        &lt;Button type=&quot;primary&quot;&gt;L&lt;/Button&gt;</span><br><span class="line">        &lt;Button type=&quot;dashed&quot;&gt;R&lt;/Button&gt;</span><br><span class="line">      &lt;/ButtonGroup&gt;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">  &quot;nextTick&quot;:</span><br><span class="line">    &quot;prefix&quot;: &quot;nextTick&quot;,</span><br><span class="line">    &quot;body&quot;: &quot;&quot;&quot;</span><br><span class="line">      this.$nextTick(() =&gt; &#123;</span><br><span class="line">      &#125;)</span><br><span class="line">    &quot;&quot;&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>amd/cmd/commonjs和es6的简单对比</title>
      <link href="/2019/07/09/amd-cmd-commonjs%E5%92%8Ces6%E7%9A%84%E7%AE%80%E5%8D%95%E5%AF%B9%E6%AF%94/"/>
      <url>/2019/07/09/amd-cmd-commonjs%E5%92%8Ces6%E7%9A%84%E7%AE%80%E5%8D%95%E5%AF%B9%E6%AF%94/</url>
      
        <content type="html"><![CDATA[<h3 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h3><p>AMD是RequireJS在推广过程中的对模块定义的规范化产出。异步加载模块，依赖前置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">define(&quot;package/lib&quot;, function(lib)&#123;</span><br><span class="line">  function () foo&#123;</span><br><span class="line">    lib.log(&quot;hello world)</span><br><span class="line">  &#125;</span><br><span class="line">  return &#123;</span><br><span class="line">    foo: foo</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h3 id="CMD"><a href="#CMD" class="headerlink" title="CMD"></a>CMD</h3><p>CMD是SeaJS在推广过程中对模块定义的规范化产出。 异步加载， 依赖就近<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">define(function(require, exports, module)&#123;&#125;)</span><br><span class="line"></span><br><span class="line">//通过require引入依赖</span><br><span class="line">var $ = require(&quot;jquery&quot;);</span><br><span class="line">var Spinning = require(&quot;./Spinning&quot;)</span><br></pre></td></tr></table></figure></p><h3 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h3><p>CommonJS规范 - module.exports 适用于服务端<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exports.area = function() &#123;</span><br><span class="line">  return Math.PI * r * r</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="ES6-import-export"><a href="#ES6-import-export" class="headerlink" title="ES6 - import/export"></a>ES6 - import/export</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import $ from &apos;jquery&apos;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js中函数的参数传递误区</title>
      <link href="/2019/06/18/js%E4%B8%AD%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E8%AF%AF%E5%8C%BA/"/>
      <url>/2019/06/18/js%E4%B8%AD%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E8%AF%AF%E5%8C%BA/</url>
      
        <content type="html"><![CDATA[<h3 id="误区"><a href="#误区" class="headerlink" title="误区"></a>误区</h3><p>一直以来都以为在函数参数传递的过程中遵循： 普通类型使用值传递，对象使用引用传递。很多文章也这么说，现在发现大错特错了。下面举个例子来说吧</p><h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- 在函数中对参数进行了重新赋值 --&gt;</span><br><span class="line">function setName(obj) &#123;</span><br><span class="line">  obj.name = &quot;Nicholas&quot;;</span><br><span class="line">  obj = new Object();</span><br><span class="line">  obj.name = &quot;Greg&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 定义一个全局变量</span><br><span class="line">var person = new Object();</span><br><span class="line">setName(person);</span><br><span class="line">// 如果对象是引用传递的话，name应该是&quot;Greg&quot;的，事实上结果是Nicholas</span><br><span class="line">console.log(person.name);</span><br></pre></td></tr></table></figure><h3 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h3><p>在js的参数传递中，<strong>有且只有值传递一种</strong>。但是变量的访问却有<strong>按值访问</strong>和<strong>按引用访问</strong>。<br>在传递对象参数的过程中，实际上是将对象地址的一个拷贝传过去了，就是一个string类型的值。<br>如果是修改对象的属性的话，使用按引用访问的方式，找到堆中的对象进行修改。<br>但是当对参数重新赋值的时候，只不过是改变了obj的存储的string类型的地址值，不存在访问的操作，也就对原始的对象无影响了,obj指向了一个全新的对象，和原来的对象断了联系。</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js中对象的delete</title>
      <link href="/2019/06/18/js%E4%B8%AD%E5%AF%B9%E8%B1%A1%E7%9A%84delete/"/>
      <url>/2019/06/18/js%E4%B8%AD%E5%AF%B9%E8%B1%A1%E7%9A%84delete/</url>
      
        <content type="html"><![CDATA[<h3 id="delete操作有以下几个特点"><a href="#delete操作有以下几个特点" class="headerlink" title="delete操作有以下几个特点:"></a>delete操作有以下几个特点:</h3><ol><li>删除自有属性，不影响原型上的，如果自己没有这个属性，仍然返回true</li><li>属性描述符configable: false的属性是不能被删除的， 返回false</li><li>删除是将key-value都删除了</li></ol><h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function Person()&#123;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.name = &quot;Nicholas&quot;;</span><br><span class="line">Person.prototype.age = 29;</span><br><span class="line">Person.prototype.job = &quot;Software Engineer&quot;;</span><br><span class="line">Person.prototype.sayName = function()&#123;</span><br><span class="line">  console.log(this.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var person1 = new Person();</span><br><span class="line">console.log(person1)</span><br><span class="line">console.log(&apos;person1是否自己存在属性name: &apos;, person1.hasOwnProperty(&quot;name&quot;));  //false</span><br><span class="line">person1.name = &quot;Greg&quot;;</span><br><span class="line">console.log(&apos;person1的name进行重新赋值以后的person1（对象的属性赋值）&apos;, person1)</span><br><span class="line"></span><br><span class="line">delete person1.name;</span><br><span class="line">console.log(&apos;删除person1的name属性&apos;,person1)</span><br><span class="line">console.log(&apos;获取person1的name属性（prototype上的）&apos;, person1.name)</span><br></pre></td></tr></table></figure><h3 id="result"><a href="#result" class="headerlink" title="result"></a>result</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Person &#123;&#125;</span><br><span class="line">person1是否自己存在属性name:  false</span><br><span class="line">person1的name进行重新赋值以后的person1（对象的属性赋值） Person &#123; name: &apos;Greg&apos; &#125;</span><br><span class="line">删除person1的name属性 Person &#123;&#125;</span><br><span class="line">获取person1的name属性（prototype上的） Nicholas</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>macrotask和microtask以及eventloop的介绍</title>
      <link href="/2019/06/17/macrotask%E5%92%8Cmicrotask%E4%BB%A5%E5%8F%8Aeventloop%E7%9A%84%E4%BB%8B%E7%BB%8D/"/>
      <url>/2019/06/17/macrotask%E5%92%8Cmicrotask%E4%BB%A5%E5%8F%8Aeventloop%E7%9A%84%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>提起js,有这么几个概念非了解不可。单线程 、回调函数、非阻塞、执行上下文、调用栈、上下文、事件循环、任务队列。</p><h3 id="单线程"><a href="#单线程" class="headerlink" title="单线程"></a>单线程</h3><p>one thread = one call stack == one thing at a time<br>解释来讲就是单线程意味着只有一个调用栈，在同一时刻只能做一件事儿</p><h3 id="执行上下文"><a href="#执行上下文" class="headerlink" title="执行上下文"></a>执行上下文</h3><p>执行上下文就是当前JavaScript代码被解析和执行是所在环境的抽象概念，JavaScript中运行任何的代码都是在执行上下文中运行。</p><p>执行上下文的类型，总共有三类<br>  1.全局执行上下文：这是默认的，最基础的执行上下文。不在任何函数中的代码都位于全局执行上下文中。共有两个过程：</p><pre><code>- .创建有全局对象，在浏览器中这个全局对象就是window对象。- .将this指针指向这个全局对象。一个程序中只能存在一个执行上下文。</code></pre><p>  2.函数执行上下文：每次调用函数时，都会为该函数创建一个新的执行上下文。每个函数都拥有自己的执行上下文，但是只有在函数被调用的时候才会被创建。一个程序中可以存在多个函数执行上下文，这些函数执行上下文按照特定的顺序执行一系列步骤，后文具体讨论。<br>  3.Eval函数执行上下文：运行在eval函数中的代码也获得了自己的执行上下文，但由于Eval较为少用到，也不建议使用，就不去详细讨论了。。。（eval方法是在运行时对脚本进行解释执行，而普通的javascript会有一个预处理的过程。所以会有一些性能上的损失；eval也存在一个安全问题，因为它可以执行传给它的任何字符串，所以永远不要传入字符串或者来历不明和不受信任源的参数。</p><h3 id="（执行栈）调用栈"><a href="#（执行栈）调用栈" class="headerlink" title="（执行栈）调用栈"></a>（执行栈）调用栈</h3><p>执行栈，也叫调用栈，具有LIFO（Last in, First out 后进先出）结构，用于存储在代码执行期间创建的所有执行上下文。<br>当JavaScript引擎首次读取脚本时，会创建一个全局执行上下文并将其Push到当前执行栈中。每当发生函数调用时，引擎都会为该函数创建一个新的执行上下文并Push到当前执行栈的栈顶。<br>引擎会运行执行上下文在执行栈栈顶的函数，根据LIFO规则，当此函数运行完成后，其对应的执行上下文将会从执行栈中Pop出，上下文控制权将转到当前执行栈的下一个执行上下文。 </p><h3 id="任务队列、macrotask、mircotask"><a href="#任务队列、macrotask、mircotask" class="headerlink" title="任务队列、macrotask、mircotask"></a>任务队列、macrotask、mircotask</h3><h4 id="同步任务和异步任务"><a href="#同步任务和异步任务" class="headerlink" title="同步任务和异步任务"></a>同步任务和异步任务</h4><p>因 <strong>js是单线程语言</strong> ， 存在大量的IO等耗时操作，所以有“同步任务”和“异步任务”的区分<br>同步任务</p><blockquote><p>在主线程上排队执行的任务，前一个任务执行完毕，才能执行后一个任务；<br>异步任务<br>不进入主线程、而进入”任务队列”（task queue）的任务，只有”任务队列”通知主线程，某个异步任务可以执行了，该任务才会进入主线程执行。<br>总之<br>只要主线程空了，就会去读取”任务队列”，这就是JavaScript的运行机制,这个过程是循环往复的，所以也叫做Event Loop事件循环</p></blockquote><h4 id="macrotask、mircotask队列"><a href="#macrotask、mircotask队列" class="headerlink" title="macrotask、mircotask队列"></a>macrotask、mircotask队列</h4><p>microtasks:</p><ul><li>process.nextTick</li><li>promise</li><li>Object.observe</li><li>MutationObserver</li></ul><p>macrotasks:</p><ul><li>setTimeout</li><li>setInterval</li><li>setImmediate</li><li>I/O</li><li>UI渲染</li></ul><p>一个事件循环有一个或多个任务队列，一个任务队列是任务的<strong>集合</strong><br>whatwg规范：<a href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" target="_blank" rel="noopener">https://html.spec.whatwg.org/multipage/webappapis.html#task-queue</a></p><ul><li>task queue 就是 macrotask queue</li><li>每一个 event loop 都有一个 microtask queue</li><li>task queue == macrotask queue != microtask queue</li><li>一个任务 task 可以放入 macrotask queue 也可以放入 microtask queue 中</li></ul><p>理解了这些定义之后，再看执行原理：</p><blockquote><p>事件循环的顺序，决定了JavaScript代码的执行顺序。它从script(整体代码)开始第一次循环。之后全局上下文进入函数调用栈。直到调用栈清空(只剩全局)，然后执行所有的micro-task。当所有可执行的micro-task执行完毕之后。循环再次从macro-task开始，找到其中一个任务队列执行完毕，然后再执行所有的micro-task，这样一直循环下去。<br>更为形象的显示代码的执行过程，请看<a href="https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/" target="_blank" rel="noopener">https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/</a></p></blockquote><p>还要注意一点：</p><blockquote><p>包裹在一个 script 标签中的js代码也是一个 task 确切说是 macrotask。</p></blockquote><h3 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h3><p>执行栈中执行完之后会从任务队列中读取一个task进行执行，这个过程是循环的，称之为 “事件循环”</p><h3 id="非阻塞"><a href="#非阻塞" class="headerlink" title="非阻塞"></a>非阻塞</h3><p>遇到异步操作，主线程会继续处理后面的代码，当异步操作完成以后在任务队列（task）中添加事件</p><hr><p>作者：BenjaminShih<br>来源：CSDN<br>原文：<a href="https://blog.csdn.net/sjn0503/article/details/76087631" target="_blank" rel="noopener">https://blog.csdn.net/sjn0503/article/details/76087631</a><br>版权声明：本文为博主原创文章，转载请附上博文链接！</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>缓存memorize</title>
      <link href="/2019/06/12/%E7%BC%93%E5%AD%98memorize/"/>
      <url>/2019/06/12/%E7%BC%93%E5%AD%98memorize/</url>
      
        <content type="html"><![CDATA[<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function memoize(func, hashFunc) &#123;</span><br><span class="line">  var memoize = function(key) &#123;</span><br><span class="line">    var cache = memoize.cache</span><br><span class="line">    var address = &apos;&apos; + (hashFunc ? hashFunc.apply(this, arguments) : key)</span><br><span class="line">    if(Object.getOwnPropertyNames(cache).indexOf(address) === -1) &#123;</span><br><span class="line">      cache[address] = func.apply(this, arguments)</span><br><span class="line">    &#125;</span><br><span class="line">      return cache[address]</span><br><span class="line">  &#125;</span><br><span class="line">  memoize.cache = &#123;&#125;</span><br><span class="line">  return memoize</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="test"><a href="#test" class="headerlink" title="test"></a>test</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let fibonacci = memoize(function(n)&#123;</span><br><span class="line">  return n &lt; 2 ? n: fibonacci(n - 1) + fibonacci(n - 2);</span><br><span class="line">&#125;)</span><br><span class="line">console.log(fibonacci(1))</span><br><span class="line">console.log(fibonacci(2))</span><br><span class="line">console.log(fibonacci(3))</span><br><span class="line">console.log(fibonacci(4))</span><br><span class="line">console.log(fibonacci(10))</span><br><span class="line">console.log(fibonacci(100))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>节流和防抖</title>
      <link href="/2019/06/11/%E8%8A%82%E6%B5%81%E5%92%8C%E9%98%B2%E6%8A%96/"/>
      <url>/2019/06/11/%E8%8A%82%E6%B5%81%E5%92%8C%E9%98%B2%E6%8A%96/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>很多常见中由于事件频繁的被触发，造成频繁的执行Dom操作，资源加载等行为，导致UI卡顿甚至崩溃。</p><ol><li>window 的resize和scroll事件</li><li>mousedown keydown mousemove keydup事件<br>实际上对于window的resize事件，实际需求大多为停止改变大小n毫秒后执行后续处理；而其他事件大多的需求是以一定的频率执行后续处理。针对这两种需求就出现了debounce和throttle两种解决办法。 </li></ol><h3 id="throttle"><a href="#throttle" class="headerlink" title="throttle"></a>throttle</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><p>每间隔一定的时间执行一次函数，在此期间内得多次函数调用忽略不处理</p><h4 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function throttle(fn, wait)&#123;</span><br><span class="line">  let pervious = 0</span><br><span class="line"></span><br><span class="line">  return function (...args) &#123;</span><br><span class="line">    let now = Date.now()</span><br><span class="line">    if(now - pervious &gt; wait) &#123;</span><br><span class="line">      pervious = now</span><br><span class="line">      fn.apply(this, args)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h4 id="underscore源码分析"><a href="#underscore源码分析" class="headerlink" title="underscore源码分析"></a>underscore源码分析</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"> /* options的默认值</span><br><span class="line">  *  表示首次调用返回值方法时，会马上调用func；否则仅会记录当前时刻，当第二次调用的时间间隔超过wait时，才调用func。</span><br><span class="line">  *  options.leading = true;</span><br><span class="line">  *  表示当调用方法时，未到达wait指定的时间间隔，则启动计时器延迟调用func函数，若后续在既未达到wait指定的时间间隔和func函数又未被调用的情况下调用返回值方法，则被调用请求将被丢弃。</span><br><span class="line">  *  options.trailing = true; </span><br><span class="line">  *  注意：当options.trailing = false时，效果与上面的简单实现效果相同</span><br><span class="line">  */</span><br><span class="line">_.throttle = function(func, wait, options) &#123;</span><br><span class="line">    var timeout, context, args, result;</span><br><span class="line">    var previous = 0;</span><br><span class="line">    if (!options) options = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    var later = function() &#123;</span><br><span class="line">      previous = options.leading === false ? 0 : _.now();</span><br><span class="line">      timeout = null;</span><br><span class="line">      result = func.apply(context, args);</span><br><span class="line">      if (!timeout) context = args = null;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    var throttled = function() &#123;</span><br><span class="line">      var now = _.now();</span><br><span class="line">      if (!previous &amp;&amp; options.leading === false) previous = now; // 默认为时开头就调用一次的， Date.now() - previous (0) &gt; wait</span><br><span class="line">      var remaining = wait - (now - previous);</span><br><span class="line">      context = this;</span><br><span class="line">      args = arguments;</span><br><span class="line">      if (remaining &lt;= 0 || remaining &gt; wait) &#123; // 当间隔大于wait 或者 当前时间小于上一个时间(！！！客户端人为的更改系统时间后，马上执行了func函数)</span><br><span class="line">        if (timeout) &#123;</span><br><span class="line">          clearTimeout(timeout);</span><br><span class="line">          timeout = null;</span><br><span class="line">        &#125;</span><br><span class="line">        previous = now;</span><br><span class="line">        result = func.apply(context, args);</span><br><span class="line">        </span><br><span class="line">        if (!timeout) context = args = null;</span><br><span class="line">      &#125; else if (!timeout &amp;&amp; options.trailing !== false) &#123; // 无timeout和 允许结尾时调用一次函数 </span><br><span class="line">        timeout = setTimeout(later, remaining);</span><br><span class="line">      &#125;</span><br><span class="line">      return result;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    throttled.cancel = function() &#123;</span><br><span class="line">      clearTimeout(timeout);</span><br><span class="line">      previous = 0;</span><br><span class="line">      timeout = context = args = null;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    return throttled;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure><h3 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a>防抖</h3><h4 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h4><p>如果用手指一直按住一个弹簧，它将不会弹起直到你松手为止。也就是说当调用动作n毫秒后，才会执行该动作，若在这n毫秒内又调用此动作则将重新计算执行时间。</p><h4 id="简单demo"><a href="#简单demo" class="headerlink" title="简单demo"></a>简单demo</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function debouce (fn, wait, immediate) &#123;</span><br><span class="line">  let timer = null</span><br><span class="line">  </span><br><span class="line">  return function(...args)&#123;</span><br><span class="line">    &lt;!-- 清除原来的延时器 --&gt;</span><br><span class="line">    if(tiemr) clearTimeout(timer)</span><br><span class="line"></span><br><span class="line">    &lt;!-- 第一次调用 --&gt;</span><br><span class="line">    if (immediate &amp;&amp; !tiemr)&#123;</span><br><span class="line">      fn.apply(this, args)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    timer = setTimeout(function() &#123;</span><br><span class="line">      fn.apply(this, args)</span><br><span class="line">    &#125;, wait)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="加强版的throttle"><a href="#加强版的throttle" class="headerlink" title="加强版的throttle"></a>加强版的throttle</h4><p>现在考虑一种情况，如果用户的操作非常频繁，不等设置的延迟时间结束就进行下次操作，会频繁的清除计时器并重新生成，所以函数 fn 一直都没办法执行，导致用户操作迟迟得不到响应。<br>有一种思想是将「节流」和「防抖」合二为一，变成加强版的节流函数，关键点在于「 wait 时间内，可以重新生成定时器，但只要 wait 的时间到了，必须给用户一个响应。这种合体思路恰好可以解决上面提出的问题。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function throttle(fn, wait , immediate) &#123;</span><br><span class="line">  let pervious = 0</span><br><span class="line">  let timer = null</span><br><span class="line"></span><br><span class="line">  return function(...args) &#123;</span><br><span class="line">    let now = Date.now()</span><br><span class="line"></span><br><span class="line">    if(now - pervious &lt; wait) &#123;</span><br><span class="line">      if (timer) clearTimeout(timer)</span><br><span class="line">      if (immediate &amp;&amp; !timer) &#123;</span><br><span class="line">        fn.apply(this, args)</span><br><span class="line">      &#125;</span><br><span class="line">      timer = setTimeout(function() &#123;</span><br><span class="line">        pervious = now</span><br><span class="line">        fn.apply(this, args)</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      pervious = now</span><br><span class="line">      fn.apply(this, args)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="underscore源码分析-1"><a href="#underscore源码分析-1" class="headerlink" title="underscore源码分析"></a>underscore源码分析</h4><p>实现原理和demo可以说是一摸一样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">// 此处的三个参数上文都有解释</span><br><span class="line">_.debounce = function(func, wait, immediate) &#123;</span><br><span class="line">  var timer, result;</span><br><span class="line"></span><br><span class="line">  // 定时器计时结束后</span><br><span class="line">  // 1、清空计时器，使之不影响下次连续事件的触发</span><br><span class="line">  // 2、触发执行 func</span><br><span class="line">  var later = function(context, args) &#123;</span><br><span class="line">    timer = null;</span><br><span class="line">    if (args) result = func.apply(context, args);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  // 将 debounce 处理结果当作函数返回</span><br><span class="line">  var debounced = restArguments(function(args) &#123;</span><br><span class="line">    if (timer) clearTimeout(timer);</span><br><span class="line">    if (immediate) &#123;</span><br><span class="line">      // 第一次触发后会设置 timer，</span><br><span class="line">      // 根据 timer 是否为空可以判断是否是首次触发</span><br><span class="line">      var callNow = !timer;</span><br><span class="line">      timer = setTimeout(later, wait);</span><br><span class="line">      if (callNow) result = func.apply(this, args);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // 设置定时器</span><br><span class="line">      timer = _.delay(later, wait, this, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return result;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // 新增 手动取消</span><br><span class="line">  debounced.cancel = function() &#123;</span><br><span class="line">    clearTimeout(timer);</span><br><span class="line">    timer = null;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  return debounced;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 根据给定的毫秒 wait 延迟执行函数 func</span><br><span class="line">_.delay = restArguments(function(func, wait, args) &#123;</span><br><span class="line">  return setTimeout(function() &#123;</span><br><span class="line">    return func.apply(null, args);</span><br><span class="line">  &#125;, wait);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>highcharts中一些插件的使用方式demo</title>
      <link href="/2019/06/04/highcharts%E4%B8%AD%E4%B8%80%E4%BA%9B%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8Fdemo/"/>
      <url>/2019/06/04/highcharts%E4%B8%AD%E4%B8%80%E4%BA%9B%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8Fdemo/</url>
      
        <content type="html"><![CDATA[<h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Card dis-hover class=&quot;chart-item&quot; style=&quot;margin-bottom:20px&quot;&gt;</span><br><span class="line">    &lt;template v-if=&quot;!simple&quot;&gt;</span><br><span class="line">      &lt;div slot=&quot;title&quot; class=&quot;chart-item-title&quot;&gt;</span><br><span class="line">        &#123;&#123; title &#125;&#125;</span><br><span class="line">        &lt;span style=&quot;float:right&quot;&gt;</span><br><span class="line">          &lt;slot name=&quot;extra&quot;&gt;</span><br><span class="line">            &lt;template v-if=&quot;unit&quot;&gt;</span><br><span class="line">              &lt;span class=&quot;desc-title&quot;&gt;单位&lt;/span&gt; &#123;&#123;unit&#125;&#125; &lt;span class=&apos;vertital-divider&apos;&gt;|&lt;/span&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">          &lt;/slot&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;chart-item-header&quot;&gt;</span><br><span class="line">        &lt;slot name=&quot;operation&quot;&gt;&lt;/slot&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div ref=&quot;chart&quot; :class=&quot;[&apos;chart-item-content&apos;, &#123;&apos;simple&apos; : simple&#125;]&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/Card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Highcharts from &apos;highcharts&apos;</span><br><span class="line">import HighchartsNoData from &apos;highcharts/modules/no-data-to-display&apos;</span><br><span class="line">import HighchartsExporting from &apos;highcharts/modules/exporting&apos;</span><br><span class="line">import mockData from &apos;./mock.js&apos;</span><br><span class="line"></span><br><span class="line">HighchartsNoData(Highcharts)</span><br><span class="line">HighchartsExporting(Highcharts)</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;ChartItem&apos;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    simple: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: false</span><br><span class="line">    &#125;,</span><br><span class="line">    type: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;line&apos;,</span><br><span class="line">      validator (val) &#123;</span><br><span class="line">        if ([&apos;area&apos;, &apos;spline&apos;, &apos;line&apos;].indexOf(val) &gt; -1) &#123;</span><br><span class="line">          return true</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          throw new Error(&apos;chart type must be oneof [line, spline, area]&apos;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    title: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;&apos;</span><br><span class="line">    &#125;, // 图表名字</span><br><span class="line">    extra: Object, // 关于图表的一些其他信息</span><br><span class="line">    data: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    unit: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    plotLine: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default: null</span><br><span class="line">    &#125;,</span><br><span class="line">    notTimeStamp: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      chartInstance: null,</span><br><span class="line">      mockData: mockData</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // resize () &#123;</span><br><span class="line">    //   return this.$store.state.common.resize</span><br><span class="line">    // &#125;,</span><br><span class="line">    option () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        chart: &#123;</span><br><span class="line">          type: this.type</span><br><span class="line">        &#125;,</span><br><span class="line">        title: &#123;</span><br><span class="line">          text: this.simple ? this.title : &apos;&apos;,</span><br><span class="line">          style: &#123;</span><br><span class="line">            fontWeight: &apos;bold&apos;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        credits: &#123;</span><br><span class="line">          text: &apos;http://nevis.sina.com.cn&apos;,</span><br><span class="line">          href: &apos;http://nevis.sina.com.cn&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">          enabled: true,</span><br><span class="line">          lineHeight: 20,</span><br><span class="line">          maxHeight: 40</span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">          xDateFormat: &apos;%Y-%m-%d %H:%M&apos;,</span><br><span class="line">          valueDecimals: 2,</span><br><span class="line">          shared: true</span><br><span class="line">        &#125;,</span><br><span class="line">        xAxis: &#123;</span><br><span class="line">          startOnTick: true,</span><br><span class="line">          tickmarkPlacement: &apos;on&apos;,</span><br><span class="line">          type: &apos;datetime&apos;,</span><br><span class="line">          dateTimeLabelFormats: &#123;</span><br><span class="line">            day: &apos;%Y/%b/%e&apos;</span><br><span class="line">          &#125;,</span><br><span class="line">          followPointer: true,</span><br><span class="line">          crosshair: true</span><br><span class="line">        &#125;,</span><br><span class="line">        yAxis: &#123;</span><br><span class="line">          startOnTick: true,</span><br><span class="line">          lineWidth: 1,</span><br><span class="line">          tickWidth: 1,</span><br><span class="line">          title: &#123;</span><br><span class="line">            align: &apos;middle&apos;,</span><br><span class="line">            text: `值($&#123;this.unit&#125;)`</span><br><span class="line">          &#125;,</span><br><span class="line">          plotBands: [],</span><br><span class="line">          min: this.min || null</span><br><span class="line">        &#125;,</span><br><span class="line">        plotOptions: &#123;</span><br><span class="line">          series: &#123;</span><br><span class="line">            lineWidth: 1,</span><br><span class="line">            marker: &#123;</span><br><span class="line">              enabled: false</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        exporting: &#123;</span><br><span class="line">          enabled: true,</span><br><span class="line">          buttons: &#123;</span><br><span class="line">            contextButton: &#123;</span><br><span class="line">              menuItems: [</span><br><span class="line">                &apos;viewFullscreen&apos;, &apos;downloadPNG&apos;, &apos;downloadJPEG&apos;, &apos;downloadPDF&apos;, &apos;downloadSVG&apos;</span><br><span class="line">              ]</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          filename: this.title</span><br><span class="line">        &#125;,</span><br><span class="line">        series: this.innerData</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    innerData () &#123;</span><br><span class="line">      if (this.notTimeStamp) &#123;</span><br><span class="line">        return this.data.map(item =&gt; &#123;</span><br><span class="line">          return [Date.parse(item[0]), item[1]]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        return this.data</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    // resize () &#123;</span><br><span class="line">    //   this.chartInstance &amp;&amp; this.chartInstance.reflow()</span><br><span class="line">    // &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    init () &#123;</span><br><span class="line">      Highcharts.setOptions(&#123;</span><br><span class="line">        global: &#123;</span><br><span class="line">          useUTC: false</span><br><span class="line">        &#125;,</span><br><span class="line">        lang: &#123;</span><br><span class="line">          loading: &apos;加载中...&apos;,</span><br><span class="line">          shortMonths: [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;, &apos;10&apos;, &apos;11&apos;, &apos;12&apos;],</span><br><span class="line">          printChart: &apos;打印图表&apos;,</span><br><span class="line">          downloadJPEG: &apos;导出jpeg&apos;,</span><br><span class="line">          downloadPNG: &apos;导出png&apos;,</span><br><span class="line">          downloadSVG: &apos;导出svg&apos;,</span><br><span class="line">          downloadPDF: &apos;导出pdf&apos;,</span><br><span class="line">          noData: &apos;暂无数据&apos;,</span><br><span class="line">          contextButtonTitle: &apos;导出&apos;,</span><br><span class="line">          viewFullscreen: &apos;全屏显示&apos;,</span><br><span class="line">          viewData: &apos;表格显示数据&apos;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      let option = this.option</span><br><span class="line">      if (this.plotLine) &#123;</span><br><span class="line">        option = Object.assign(this.option, &#123;</span><br><span class="line">          yAxis: &#123;</span><br><span class="line">            plotLines: [</span><br><span class="line">              &#123;</span><br><span class="line">                value: this.plotLine.value,</span><br><span class="line">                color: &apos;red&apos;,</span><br><span class="line">                width: 2,</span><br><span class="line">                dashStyle: &apos;solid&apos;,</span><br><span class="line">                label: &#123;</span><br><span class="line">                  text: this.plotLine.text || &apos;&apos;,</span><br><span class="line">                  align: this.plotLine.align || &apos;left&apos;,</span><br><span class="line">                  style: &#123;</span><br><span class="line">                    color: &apos;red&apos;,</span><br><span class="line">                    fontSize: &apos;18px&apos;</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      Highcharts.chart(this.$refs.chart, option)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.init()</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy () &#123;</span><br><span class="line">    this.chartInstance &amp;&amp; this.chartInstance.destroy()</span><br><span class="line">    this.chartInstance = null</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">.chart-item &#123;</span><br><span class="line">  margin-bottom: 20px;</span><br><span class="line">  &amp;-title &#123;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    height: 18px;</span><br><span class="line">    line-height: 18px;</span><br><span class="line">    .vertital-divider&#123;</span><br><span class="line">      margin: 0 5px;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      width: 1px;</span><br><span class="line">      vertical-align: middle;</span><br><span class="line">      color: #e8eaec;</span><br><span class="line">      box-sizing: border-box;</span><br><span class="line">      background: #e8eaec;</span><br><span class="line">    &#125;</span><br><span class="line">    .desc-title&#123;</span><br><span class="line">      color: #888;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;-header &#123;</span><br><span class="line">    text-align: right;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;-content &#123;</span><br><span class="line">    height: 300px;</span><br><span class="line">  &#125;</span><br><span class="line">  .simple&#123;</span><br><span class="line">    height: 346px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> graph </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> highcharts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iphone中的一些兼容问题</title>
      <link href="/2019/06/04/iphone%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/"/>
      <url>/2019/06/04/iphone%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h3 id="滚动不流畅"><a href="#滚动不流畅" class="headerlink" title="滚动不流畅"></a>滚动不流畅</h3><p>解决办法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> overflow-y: scroll;</span><br><span class="line">touch-action: pan-y;</span><br><span class="line">-webkit-overflow-scrolling: touch;</span><br></pre></td></tr></table></figure></p><h3 id="input再次获得焦点时，需要多次点击"><a href="#input再次获得焦点时，需要多次点击" class="headerlink" title="input再次获得焦点时，需要多次点击"></a>input再次获得焦点时，需要多次点击</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 解决300ms延迟 --&gt;</span><br><span class="line">import fastClick from &apos;fastclick&apos;</span><br><span class="line"></span><br><span class="line">// 解决ios输入框bug：第一次点击输入框，正常反应；</span><br><span class="line">// 点击键盘完成后，再次点击输入框，很难再获得焦点的问题</span><br><span class="line">fastClick.prototype.onTouchEnd = function (event) &#123;</span><br><span class="line">  if (event.target.hasAttribute(&apos;type&apos;) &amp;&amp; event.target.getAttribute(&apos;type&apos;) === &apos;text&apos;) &#123;</span><br><span class="line">    event.preventDefault()</span><br><span class="line">    return false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fastClick.attach(document.body)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue中组件间的六种通信方式</title>
      <link href="/2019/06/04/vue%E4%B8%AD%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%E7%9A%84%E5%85%AD%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
      <url>/2019/06/04/vue%E4%B8%AD%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%E7%9A%84%E5%85%AD%E7%A7%8D%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h3 id="方法一-props、-emit"><a href="#方法一-props、-emit" class="headerlink" title="方法一 props、$emit"></a>方法一 props、$emit</h3><p>父组件A通过props的方式向子组件B传递，B to A 通过在 B 组件中 $emit, A 组件中 v-on 的方式实现。</p><h4 id="1-父组件向子组件传值"><a href="#1-父组件向子组件传值" class="headerlink" title="1.父组件向子组件传值"></a>1.父组件向子组件传值</h4><p>接下来我们通过一个例子，说明父组件如何向子组件传递值：在子组件Users.vue中如何获取父组件App.vue中的数据 users:[“Henry”,”Bucky”,”Emily”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//App.vue父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;users v-bind:users=&quot;users&quot;&gt;&lt;/users&gt;//前者自定义名称便于子组件调用，后者要传递数据名</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Users from &quot;./components/Users&quot;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;App&apos;,</span><br><span class="line">  data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">      users:[&quot;Henry&quot;,&quot;Bucky&quot;,&quot;Emily&quot;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components:&#123;</span><br><span class="line">    &quot;users&quot;:Users</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//users子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;hello&quot;&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;user in users&quot;&gt;&#123;&#123;user&#125;&#125;&lt;/li&gt;//遍历传递过来的值，然后呈现到页面</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;HelloWorld&apos;,</span><br><span class="line">  props:&#123;</span><br><span class="line">    users:&#123;           //这个就是父组件中子标签自定义名字\</span><br><span class="line">      type:Array,</span><br><span class="line">      required:true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>总结：父组件通过props向下传递数据给子组件。注：组件中的数据共有三种形式：data、props、computed</p><h4 id="2-子组件向父组件传值（通过事件形式）"><a href="#2-子组件向父组件传值（通过事件形式）" class="headerlink" title="2.子组件向父组件传值（通过事件形式）"></a>2.子组件向父组件传值（通过事件形式）</h4><p>接下来我们通过一个例子，说明子组件如何向父组件传递值：当我们点击“Vue.js Demo”后，子组件向父组件传递值，文字由原来的“传递的是一个值”变成“子向父组件传值”，实现子组件向父组件值的传递。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// 子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;header&gt;</span><br><span class="line">    &lt;h1 @click=&quot;changeTitle&quot;&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;//绑定一个点击事件</span><br><span class="line">  &lt;/header&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;app-header&apos;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      title:&quot;Vue.js Demo&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    changeTitle() &#123;</span><br><span class="line">      this.$emit(&quot;titleChanged&quot;,&quot;子向父组件传值&quot;);//自定义事件  传递值“子向父组件传值”</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// 父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;app-header v-on:titleChanged=&quot;updateTitle&quot; &gt;&lt;/app-header&gt;//与子组件titleChanged自定义事件保持一致</span><br><span class="line">   // updateTitle($event)接受传递过来的文字</span><br><span class="line">    &lt;h2&gt;&#123;&#123;title&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Header from &quot;./components/Header&quot;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;App&apos;,</span><br><span class="line">  data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">      title:&quot;传递的是一个值&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    updateTitle(e)&#123;   //声明这个函数</span><br><span class="line">      this.title = e;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components:&#123;</span><br><span class="line">   &quot;app-header&quot;:Header,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>总结：子组件通过events给父组件发送消息，实际上就是子组件把自己的数据发送到父组件。</p><h3 id="方法二、-emit-on"><a href="#方法二、-emit-on" class="headerlink" title="方法二、 $emit　/ $on"></a>方法二、 $emit　/ $on</h3><p>这种方法通过一个空的Vue实例作为中央事件总线（事件中心），用它来触发事件和监听事件,巧妙而轻量地实现了任何组件间的通信，包括父子、兄弟、跨级。当我们的项目比较大时，可以选择更好的状态管理解决方案vuex。</p><h4 id="1-具体实现方式："><a href="#1-具体实现方式：" class="headerlink" title="1.具体实现方式："></a>1.具体实现方式：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var Event=new Vue();</span><br><span class="line">Event.$emit(事件名,数据);</span><br><span class="line">Event.$on(事件名,data =&gt; &#123;&#125;);</span><br></pre></td></tr></table></figure><h4 id="2-举个例子"><a href="#2-举个例子" class="headerlink" title="2.举个例子"></a>2.举个例子</h4><p>假设兄弟组件有三个，分别是A、B、C组件，C组件如何获取A或者B组件的数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;itany&quot;&gt;</span><br><span class="line">    &lt;my-a&gt;&lt;/my-a&gt;</span><br><span class="line">    &lt;my-b&gt;&lt;/my-b&gt;</span><br><span class="line">    &lt;my-c&gt;&lt;/my-c&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;template id=&quot;a&quot;&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3&gt;A组件：&#123;&#123;name&#125;&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;button @click=&quot;send&quot;&gt;将数据发送给C组件&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;template id=&quot;b&quot;&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3&gt;B组件：&#123;&#123;age&#125;&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;button @click=&quot;send&quot;&gt;将数组发送给C组件&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;template id=&quot;c&quot;&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3&gt;C组件：&#123;&#123;name&#125;&#125;，&#123;&#123;age&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var Event = new Vue();//定义一个空的Vue实例</span><br><span class="line">var A = &#123;</span><br><span class="line">    template: &apos;#a&apos;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        name: &apos;tom&apos;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      send() &#123;</span><br><span class="line">        Event.$emit(&apos;data-a&apos;, this.name);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var B = &#123;</span><br><span class="line">    template: &apos;#b&apos;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        age: 20</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      send() &#123;</span><br><span class="line">        Event.$emit(&apos;data-b&apos;, this.age);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var C = &#123;</span><br><span class="line">    template: &apos;#c&apos;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        name: &apos;&apos;,</span><br><span class="line">        age: &quot;&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;//在模板编译完成后执行</span><br><span class="line">     Event.$on(&apos;data-a&apos;,name =&gt; &#123;</span><br><span class="line">         this.name = name;//箭头函数内部不会产生新的this，这边如果不用=&gt;,this指代Event</span><br><span class="line">     &#125;)</span><br><span class="line">     Event.$on(&apos;data-b&apos;,age =&gt; &#123;</span><br><span class="line">         this.age = age;</span><br><span class="line">     &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var vm = new Vue(&#123;</span><br><span class="line">    el: &apos;#itany&apos;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      &apos;my-a&apos;: A,</span><br><span class="line">      &apos;my-b&apos;: B,</span><br><span class="line">      &apos;my-c&apos;: C</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);    </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p><p><img src="/images/vue/eventBus.gif" alt="eventBus"><br>监听了自定义事件 data-a和data-b，因为有时不确定何时会触发事件，一般会在 mounted 或 created 钩子中来监听。</p><h3 id="方法三、vuex"><a href="#方法三、vuex" class="headerlink" title="方法三、vuex"></a>方法三、vuex</h3><p><img src="/images/vue/vuex.png" alt="vuex"></p><h4 id="1-简要介绍Vuex原理"><a href="#1-简要介绍Vuex原理" class="headerlink" title="1.简要介绍Vuex原理"></a>1.简要介绍Vuex原理</h4><p>Vuex实现了一个单向数据流，在全局拥有一个State存放数据，当组件要更改State中的数据时，必须通过Mutation进行，Mutation同时提供了订阅者模式供外部插件调用获取State数据的更新。而当所有异步操作(常见于调用后端接口异步获取更新数据)或批量的同步操作需要走Action，但Action也是无法直接修改State的，还是需要通过Mutation来修改State的数据。最后，根据State的变化，渲染到视图上。</p><h4 id="2-简要介绍各模块在流程中的功能："><a href="#2-简要介绍各模块在流程中的功能：" class="headerlink" title="2.简要介绍各模块在流程中的功能："></a>2.简要介绍各模块在流程中的功能：</h4><ul><li>Vue Components：Vue组件。HTML页面上，负责接收用户操作等交互行为，执行dispatch方法触发对应action进行回应。</li><li>dispatch：操作行为触发方法，是唯一能执行action的方法。</li><li>actions：操作行为处理模块,由组件中的 $store.dispatch(‘action 名称’,data1)来触发。然后由commit()来触发mutation的调用 , 间接更新 state。负责处理Vue Components接收到的所有交互行为。包含同步/异步操作，支持多个同名方法，按照注册的顺序依次触发。向后台API请求的操作就在这个模块中进行，包括触发其他action以及提交mutation的操作。该模块提供了Promise的封装，以支持action的链式触发。</li><li>commit：状态改变提交操作方法。对mutation进行提交，是唯一能执行mutation的方法。</li><li>mutations：状态改变操作方法，由actions中的 commit(‘mutation 名称’)来触发。是Vuex修改state的唯一推荐方法。该方法只能进行同步操作，且方法名只能全局唯一。操作之中会有一些hook暴露出来，以进行state的监控等。</li><li>state：页面状态管理容器对象。集中存储Vue components中data对象的零散数据，全局唯一，以进行统一的状态管理。页面显示所需的数据从该对象中进行读取，利用Vue的细粒度数据响应机制来进行高效的状态更新。</li><li>getters：state对象读取方法。图中没有单独列出该模块，应该被包含在了render中，Vue Components通过该方法读取全局state对象。<h4 id="3-Vuex与localStorage"><a href="#3-Vuex与localStorage" class="headerlink" title="3.Vuex与localStorage"></a>3.Vuex与localStorage</h4>vuex 是 vue 的状态管理器，存储的数据是响应式的。但是并不会保存起来，刷新之后就回到了初始状态，具体做法应该在vuex里数据改变的时候把数据拷贝一份保存到localStorage里面，刷新之后，如果localStorage里有保存的数据，取出来再替换store里的state。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">let defaultCity = &quot;上海&quot;</span><br><span class="line">try &#123;   // 用户关闭了本地存储功能，此时在外层加个try...catch</span><br><span class="line">  if (!defaultCity)&#123;</span><br><span class="line">    defaultCity = JSON.parse(window.localStorage.getItem(&apos;defaultCity&apos;))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;catch(e)&#123;&#125;</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    city: defaultCity</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    changeCity(state, city) &#123;</span><br><span class="line">      state.city = city</span><br><span class="line">      try &#123;</span><br><span class="line">      window.localStorage.setItem(&apos;defaultCity&apos;, JSON.stringify(state.city));</span><br><span class="line">      // 数据改变的时候把数据拷贝一份保存到localStorage里面</span><br><span class="line">      &#125; catch (e) &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><p>这里需要注意的是：由于vuex里，我们保存的状态，都是数组，而localStorage只支持字符串，所以需要用JSON转换：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JSON.stringify(state.subscribeList);   // array -&gt; string</span><br><span class="line">JSON.parse(window.localStorage.getItem(&quot;subscribeList&quot;));    // string -&gt; array</span><br></pre></td></tr></table></figure></p><h3 id="方法四、-attrs-listeners"><a href="#方法四、-attrs-listeners" class="headerlink" title="方法四、 $attrs　/ $listeners"></a>方法四、 $attrs　/ $listeners</h3><p>1.简介<br>多级组件嵌套需要传递数据时，通常使用的方法是通过vuex。但如果仅仅是传递数据，而不做中间处理，使用 vuex 处理，未免有点大材小用。为此Vue2.4 版本提供了另一种方法—- $attrs/ $listeners<br>    $attrs：包含了父作用域中不被 prop 所识别 (且获取) 的特性绑定 (class 和 style 除外)。当一个组件没有声明任何 prop 时，这里会包含所有父作用域的绑定 (class 和 style 除外)，并且可以通过 v-bind=”$attrs” 传入内部组件。通常配合 interitAttrs 选项一起使用。<br>    $listeners：包含了父作用域中的 (不含 .native 修饰器的) v-on 事件监听器。它可以通过 v-on=”$listeners” 传入内部组件<br>接下来我们看个跨级通信的例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// index.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;浪里行舟&lt;/h2&gt;</span><br><span class="line">    &lt;child-com1</span><br><span class="line">      :foo=&quot;foo&quot;</span><br><span class="line">      :boo=&quot;boo&quot;</span><br><span class="line">      :coo=&quot;coo&quot;</span><br><span class="line">      :doo=&quot;doo&quot;</span><br><span class="line">      title=&quot;前端工匠&quot;</span><br><span class="line">    &gt;&lt;/child-com1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">const childCom1 = () =&gt; import(&quot;./childCom1.vue&quot;);</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123; childCom1 &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      foo: &quot;Javascript&quot;,</span><br><span class="line">      boo: &quot;Html&quot;,</span><br><span class="line">      coo: &quot;CSS&quot;,</span><br><span class="line">      doo: &quot;Vue&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// childCom1.vue</span><br><span class="line">&lt;template class=&quot;border&quot;&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;p&gt;foo: &#123;&#123; foo &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;childCom1的$attrs: &#123;&#123; $attrs &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;child-com2 v-bind=&quot;$attrs&quot;&gt;&lt;/child-com2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">const childCom2 = () =&gt; import(&quot;./childCom2.vue&quot;);</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    childCom2</span><br><span class="line">  &#125;,</span><br><span class="line">  inheritAttrs: false, // 可以关闭自动挂载到组件根元素上的没有在props声明的属性</span><br><span class="line">  props: &#123;</span><br><span class="line">    foo: String // foo作为props属性绑定</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    console.log(this.$attrs); // &#123; &quot;boo&quot;: &quot;Html&quot;, &quot;coo&quot;: &quot;CSS&quot;, &quot;doo&quot;: &quot;Vue&quot;, &quot;title&quot;: &quot;前端工匠&quot; &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// childCom2.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;border&quot;&gt;</span><br><span class="line">    &lt;p&gt;boo: &#123;&#123; boo &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;childCom2: &#123;&#123; $attrs &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;child-com3 v-bind=&quot;$attrs&quot;&gt;&lt;/child-com3&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">const childCom3 = () =&gt; import(&quot;./childCom3.vue&quot;);</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    childCom3</span><br><span class="line">  &#125;,</span><br><span class="line">  inheritAttrs: false,</span><br><span class="line">  props: &#123;</span><br><span class="line">    boo: String</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    console.log(this.$attrs); // &#123; &quot;boo&quot;: &quot;Html&quot;, &quot;coo&quot;: &quot;CSS&quot;, &quot;doo&quot;: &quot;Vue&quot;, &quot;title&quot;: &quot;前端工匠&quot; &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// childCom3.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;border&quot;&gt;</span><br><span class="line">    &lt;p&gt;childCom3: &#123;&#123; $attrs &#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    coo: String,</span><br><span class="line">    title: String</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="/.tech:8080//$attrs和$listeners.png" alt="$attrs和$listeners"><br>$attrs表示没有继承数据的对象，格式为{属性名：属性值}。Vue2.4提供了 $attrs , $listeners 来传递数据与事件，跨级组件之间的通讯变得更简单。<br>简单来说： $attrs与 $listeners 是两个对象， $attrs 里存放的是父组件中绑定的非 Props 属性， $listeners里存放的是父组件中绑定的非原生事件。</p><h3 id="方法五、provide-inject"><a href="#方法五、provide-inject" class="headerlink" title="方法五、provide/inject"></a>方法五、provide/inject</h3><h4 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a>1.简介</h4><p>Vue2.2.0新增API,这对选项需要一起使用，以允许一个祖先组件向其所有子孙后代注入一个依赖，不论组件层次有多深，并在起上下游关系成立的时间里始终生效。一言而蔽之：祖先组件中通过provider来提供变量，然后在子孙组件中通过inject来注入变量。provide / inject API 主要解决了跨级组件间的通信问题，不过它的使用场景，主要是子组件获取上级组件的状态，跨级组件间建立了一种主动提供与依赖注入的关系。</p><h4 id="2-举个例子-1"><a href="#2-举个例子-1" class="headerlink" title="2.举个例子"></a>2.举个例子</h4><p>假设有两个组件： A.vue 和 B.vue，B 是 A 的子组件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// A.vue</span><br><span class="line">export default &#123;</span><br><span class="line">  provide: &#123;</span><br><span class="line">    name: &apos;浪里行舟&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// B.vue</span><br><span class="line">export default &#123;</span><br><span class="line">  inject: [&apos;name&apos;],</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    console.log(this.name);  // 浪里行舟</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>可以看到，在 A.vue 里，我们设置了一个 provide: name，值为 浪里行舟，它的作用就是将 name 这个变量提供给它的所有子组件。而在 B.vue 中，通过 inject 注入了从 A 组件中提供的 name 变量，那么在组件 B 中，就可以直接通过 this.name 访问这个变量了，它的值也是 浪里行舟。这就是 provide / inject API 最核心的用法。<br>需要注意的是：provide 和 inject 绑定并不是可响应的。这是刻意为之的。然而，如果你传入了一个可监听的对象，那么其对象的属性还是可响应的—-vue官方文档所以，上面 A.vue 的 name 如果改变了，B.vue 的 this.name 是不会改变的</p><h4 id="3-provide与inject-怎么实现数据响应式"><a href="#3-provide与inject-怎么实现数据响应式" class="headerlink" title="3.provide与inject 怎么实现数据响应式"></a>3.provide与inject 怎么实现数据响应式</h4><p>一般来说，有两种办法：</p><ul><li>provide祖先组件的实例，然后在子孙组件中注入依赖，这样就可以在子孙组件中直接修改祖先组件的实例的属性，不过这种方法有个缺点就是这个实例上挂载很多没有必要的东西比如props，methods</li><li>使用2.6最新API Vue.observable 优化响应式 provide(推荐)<br>我们来看个例子：孙组件D、E和F获取A组件传递过来的color值，并能实现数据响应式变化，即A组件的color变化后，组件D、E、F不会跟着变（核心代码如下：）<br><img src="images/vue/provide与inject.png" alt="provide和inject"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">// A 组件 </span><br><span class="line">&lt;div&gt;</span><br><span class="line">      &lt;h1&gt;A 组件&lt;/h1&gt;</span><br><span class="line">      &lt;button @click=&quot;() =&gt; changeColor()&quot;&gt;改变color&lt;/button&gt;</span><br><span class="line">      &lt;ChildrenB /&gt;</span><br><span class="line">      &lt;ChildrenC /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">......</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      color: &quot;blue&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  // provide() &#123;</span><br><span class="line">  //   return &#123;</span><br><span class="line">  //     theme: &#123;</span><br><span class="line">  //       color: this.color //这种方式绑定的数据并不是可响应的</span><br><span class="line">  //     &#125; // 即A组件的color变化后，组件D、E、F不会跟着变</span><br><span class="line">  //   &#125;;</span><br><span class="line">  // &#125;,</span><br><span class="line">  provide() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      theme: this//方法一：提供祖先组件的实例</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    changeColor(color) &#123;</span><br><span class="line">      if (color) &#123;</span><br><span class="line">        this.color = color;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.color = this.color === &quot;blue&quot; ? &quot;red&quot; : &quot;blue&quot;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // 方法二:使用vue2.6最新API Vue.observable 优化响应式 provide</span><br><span class="line">  // provide() &#123;</span><br><span class="line">  //   this.theme = Vue.observable(&#123;</span><br><span class="line">  //     color: &quot;blue&quot;</span><br><span class="line">  //   &#125;);</span><br><span class="line">  //   return &#123;</span><br><span class="line">  //     theme: this.theme</span><br><span class="line">  //   &#125;;</span><br><span class="line">  // &#125;,</span><br><span class="line">  // methods: &#123;</span><br><span class="line">  //   changeColor(color) &#123;</span><br><span class="line">  //     if (color) &#123;</span><br><span class="line">  //       this.theme.color = color;</span><br><span class="line">  //     &#125; else &#123;</span><br><span class="line">  //       this.theme.color = this.theme.color === &quot;blue&quot; ? &quot;red&quot; : &quot;blue&quot;;</span><br><span class="line">  //     &#125;</span><br><span class="line">  //   &#125;</span><br><span class="line">  // &#125;</span><br><span class="line">// F 组件 </span><br><span class="line">&lt;template functional&gt;</span><br><span class="line">  &lt;div class=&quot;border2&quot;&gt;</span><br><span class="line">    &lt;h3 :style=&quot;&#123; color: injections.theme.color &#125;&quot;&gt;F 组件&lt;/h3&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  inject: &#123;</span><br><span class="line">    theme: &#123;</span><br><span class="line">      //函数式组件取值不一样</span><br><span class="line">      default: () =&gt; (&#123;&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><p>虽说provide 和 inject 主要为高阶插件/组件库提供用例，但如果你能在业务中熟练运用，可以达到事半功倍的效果！</p><h3 id="方法六、-parent-children-＆-ref"><a href="#方法六、-parent-children-＆-ref" class="headerlink" title="方法六、 $parent / $children　＆ ref"></a>方法六、 $parent / $children　＆ ref</h3><ul><li>ref：如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例</li><li>$parent / $children：访问父 / 子实例<br>需要注意的是：这两种都是直接得到组件实例，使用后可以直接调用组件的方法或访问数据。我们先来看个用 ref来访问组件的例子：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// component-a 子组件</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      title: &apos;Vue.js&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sayHello () &#123;</span><br><span class="line">      window.alert(&apos;Hello&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;component-a ref=&quot;comA&quot;&gt;&lt;/component-a&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    mounted () &#123;</span><br><span class="line">      const comA = this.$refs.comA;</span><br><span class="line">      console.log(comA.title);  // Vue.js</span><br><span class="line">      comA.sayHello();  // 弹窗</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><p>不过，这两种方法的弊端是，无法在跨级或兄弟间通信。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// parent.vue</span><br><span class="line">&lt;component-a&gt;&lt;/component-a&gt;</span><br><span class="line">&lt;component-b&gt;&lt;/component-b&gt;</span><br><span class="line">&lt;component-b&gt;&lt;/component-b&gt;</span><br></pre></td></tr></table></figure></p><p>我们想在 component-a 中，访问到引用它的页面中（这里就是 parent.vue）的两个 component-b 组件，那这种情况下，就得配置额外的插件或工具了，比如 Vuex 和 Bus 的解决方案</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>常见使用场景可以分为三类：</p><ul><li>父子通信： 父向子传递数据是通过 props，子向父是通过 events（ $emit）；通过父链 / 子链也可以通信（ $parent / $children）；ref 也可以访问组件实例；provide / inject API； $attrs/$listeners</li><li>兄弟通信： Bus；Vuex</li><li>跨级通信： Bus；Vuex；provide / inject API、 $attrs/$listeners</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>深拷贝</title>
      <link href="/2019/05/04/%E6%B7%B1%E6%8B%B7%E8%B4%9D/"/>
      <url>/2019/05/04/%E6%B7%B1%E6%8B%B7%E8%B4%9D/</url>
      
        <content type="html"><![CDATA[<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><h4 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h4><p>创建一个新的对象，这个对象有着对原始对象的属性值的一份拷贝。如果属性是基本类型，拷贝的就是基本类型的值；如果是引用对象，拷贝的是地址。所以如果其中一个对象改变了这个地址，就是影响另一个对象</p><h4 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h4><p>将一个对象从内存中完整的拷贝一份出来，从堆中开辟出一个新的区域来存放新对象，且修改新的对象不会影响到原对象</p><a id="more"></a><h3 id="简易版-实际上也是项目中最常用的"><a href="#简易版-实际上也是项目中最常用的" class="headerlink" title="简易版(实际上也是项目中最常用的)"></a>简易版(实际上也是项目中最常用的)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JSON.parse(JSON.stringify(原对象))</span><br></pre></td></tr></table></figure><h3 id="基础版"><a href="#基础版" class="headerlink" title="基础版"></a>基础版</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function deep_clone1 (source) &#123;</span><br><span class="line">  if (typeof source === &apos;object&apos;) &#123;</span><br><span class="line">    let target = &#123;&#125;</span><br><span class="line">    for(let key in source) &#123;</span><br><span class="line">      target[key] = clone(source[key])</span><br><span class="line">    &#125;</span><br><span class="line">    return target</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    return source</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是很显然，还存在很多问题，比如并没有考虑数组、循环引用</p><h3 id="考虑数组"><a href="#考虑数组" class="headerlink" title="考虑数组"></a>考虑数组</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function deep_clone2 (source) &#123;</span><br><span class="line">  if (typeof source === &apos;object&apos;) &#123;</span><br><span class="line">    let target = Array.isArray(source) ? [] : &#123;&#125;</span><br><span class="line">    for(let key in source) &#123;</span><br><span class="line">      target[key] = clone(source[key])</span><br><span class="line">    &#125;</span><br><span class="line">    return target</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    return source</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>数组和对象的遍历方式可以一致，就是存储的时候不同，[]和{}</p><h3 id="处理循环引用"><a href="#处理循环引用" class="headerlink" title="处理循环引用"></a>处理循环引用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function deep_clone3 (source, map = new Map()) &#123;</span><br><span class="line">  if (typeof source === &apos;object&apos;) &#123;</span><br><span class="line">    let target = Array.isArray(source) ? [] : &#123;&#125;</span><br><span class="line">    // 专门处理循环引用问题（object类型)</span><br><span class="line">    if(map.get(source)) &#123;</span><br><span class="line">      return map.get(source)</span><br><span class="line">    &#125;</span><br><span class="line">    map.set(source, target)</span><br><span class="line"></span><br><span class="line">    for(let key in source) &#123;</span><br><span class="line">      target[key] = deep_clone3(source[key], map)</span><br><span class="line">    &#125;</span><br><span class="line">    return target</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    return source</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="使用WeakMap画龙点睛"><a href="#使用WeakMap画龙点睛" class="headerlink" title="使用WeakMap画龙点睛"></a>使用WeakMap画龙点睛</h3><p>WeakMap 对象是一组键/值对的集合，其中的键是弱引用的。其键必须是对象，而值可以是任意的。</p><p>什么是弱引用呢？</p><pre><code>在计算机程序设计中，弱引用与强引用相对，是指不能确保其引用的对象不会被垃圾回收器回收的引用。 一个对象若只被弱引用所引用，则被认为是不可访问（或弱可访问）的，并因此可能在任何时刻被回收。</code></pre><p>举个例子：<br>如果我们使用Map的话，那么对象间是存在强引用关系的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123; name : &apos;ConardLi&apos;&#125;</span><br><span class="line">const target = new Map();</span><br><span class="line">target.set(obj,&apos;code秘密花园&apos;);</span><br><span class="line">obj = null;</span><br></pre></td></tr></table></figure></p><p>复制代码虽然我们手动将obj，进行释放，然是target依然对obj存在强引用关系，所以这部分内存依然无法被释放。<br>再来看WeakMap：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123; name : &apos;ConardLi&apos;&#125;</span><br><span class="line">const target = new WeakMap();</span><br><span class="line">target.set(obj,&apos;code秘密花园&apos;);</span><br><span class="line">obj = null;</span><br></pre></td></tr></table></figure></p><p>复制代码如果是WeakMap的话，target和obj存在的就是弱引用关系，当下一次垃圾回收机制执行时，这块内存就会被释放掉。<br>设想一下，如果我们要拷贝的对象非常庞大时，使用Map会对内存造成非常大的额外消耗，而且我们需要手动清除Map的属性才能释放这块内存，而WeakMap会帮我们巧妙化解这个问题。</p><blockquote><p>引用ConardLi：<a href="https://juejin.im/post/5d6aa4f96fb9a06b112ad5b1" target="_blank" rel="noopener">https://juejin.im/post/5d6aa4f96fb9a06b112ad5b1</a></p></blockquote><h3 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h3><p>在上面的代码中，我们遍历数组和对象都使用了for in这种方式，实际上for in在遍历时效率是非常低的.经过比较执行效率 while &gt; for &gt; for in<br>先实现一个通用的forEach 循环， iterate 是遍历的回调函数， 每次接收value和index两个参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function forEach(arr, iterate) &#123;</span><br><span class="line">  let index = -1</span><br><span class="line">  const len = array.length</span><br><span class="line">  while(++index &lt; len&gt;) &#123;</span><br><span class="line">    iterate(array[index], index)</span><br><span class="line">  &#125;</span><br><span class="line">  return array</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>然后对之前的代码进行调整<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function deep_clone3 (source, map = new Map()) &#123;</span><br><span class="line">  if (typeof source === &apos;object&apos;) &#123;</span><br><span class="line">    const isArray = Array.isArray(source)</span><br><span class="line">    let target = isArray ? [] : &#123;&#125;</span><br><span class="line">    // 专门处理循环引用问题（object类型)</span><br><span class="line">    if(map.get(source)) &#123;</span><br><span class="line">      return map.get(source)</span><br><span class="line">    &#125;</span><br><span class="line">    map.set(source, target)</span><br><span class="line"></span><br><span class="line">    const keys = isArray ? undefined ? Object.keys(source)</span><br><span class="line"></span><br><span class="line">    forEach(keys || source, (value, index)) &#123;</span><br><span class="line">      if (keys) &#123; // 处理对象， value就是对象key</span><br><span class="line">        key = value</span><br><span class="line">      &#125;</span><br><span class="line">      target[key] = deep_clone3(source[key], map)</span><br><span class="line">    &#125;</span><br><span class="line">    return target</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    return source</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="其他数据类型"><a href="#其他数据类型" class="headerlink" title="其他数据类型"></a>其他数据类型</h3><h4 id="可继续遍历的类型"><a href="#可继续遍历的类型" class="headerlink" title="可继续遍历的类型"></a>可继续遍历的类型</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">const mapTag = &apos;[object Map]&apos;;</span><br><span class="line">const setTag = &apos;[object Set]&apos;;</span><br><span class="line">const arrayTag = &apos;[object Array]&apos;;</span><br><span class="line">const objectTag = &apos;[object Object]&apos;;</span><br><span class="line">const argsTag = &apos;[object Arguments]&apos;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const deepTag = [mapTag, setTag, arrayTag, objectTag, argsTag];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function forEach(array, iteratee) &#123;</span><br><span class="line">    let index = -1;</span><br><span class="line">    const length = array.length;</span><br><span class="line">    while (++index &lt; length) &#123;</span><br><span class="line">        iteratee(array[index], index);</span><br><span class="line">    &#125;</span><br><span class="line">    return array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function isObject(target) &#123;</span><br><span class="line">    const type = typeof target;</span><br><span class="line">    return target !== null &amp;&amp; (type === &apos;object&apos; || type === &apos;function&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getType(target) &#123;</span><br><span class="line">    return Object.prototype.toString.call(target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getInit(target) &#123;</span><br><span class="line">    const Ctor = target.constructor;</span><br><span class="line">    return new Ctor();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function clone(target, map = new WeakMap()) &#123;</span><br><span class="line"></span><br><span class="line">    // 克隆原始类型</span><br><span class="line">    if (!isObject(target)) &#123;</span><br><span class="line">        return target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 初始化</span><br><span class="line">    const type = getType(target);</span><br><span class="line">    let cloneTarget;</span><br><span class="line">    if (deepTag.includes(type)) &#123;</span><br><span class="line">        cloneTarget = getInit(target, type);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 防止循环引用</span><br><span class="line">    if (map.get(target)) &#123;</span><br><span class="line">        return target;</span><br><span class="line">    &#125;</span><br><span class="line">    map.set(target, cloneTarget);</span><br><span class="line"></span><br><span class="line">    // 克隆set</span><br><span class="line">    if (type === setTag) &#123;</span><br><span class="line">        target.forEach(value =&gt; &#123;</span><br><span class="line">            cloneTarget.add(clone(value));</span><br><span class="line">        &#125;);</span><br><span class="line">        return cloneTarget;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 克隆map</span><br><span class="line">    if (type === mapTag) &#123;</span><br><span class="line">        target.forEach((value, key) =&gt; &#123;</span><br><span class="line">            cloneTarget.set(key, clone(value));</span><br><span class="line">        &#125;);</span><br><span class="line">        return cloneTarget;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 克隆对象和数组</span><br><span class="line">    const keys = type === arrayTag ? undefined : Object.keys(target);</span><br><span class="line">    forEach(keys || target, (value, key) =&gt; &#123;</span><br><span class="line">        if (keys) &#123;</span><br><span class="line">            key = value;</span><br><span class="line">        &#125;</span><br><span class="line">        cloneTarget[key] = clone(target[key], map);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    return cloneTarget;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="不可继续遍历的类型"><a href="#不可继续遍历的类型" class="headerlink" title="不可继续遍历的类型"></a>不可继续遍历的类型</h4><p>Bool、Number、String、Symbol、Date、Error这几种类型我们都可以直接用构造函数和原始数据创建一个新对象：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">function cloneOtherType(targe, type) &#123;</span><br><span class="line">    const Ctor = targe.constructor;</span><br><span class="line">    switch (type) &#123;</span><br><span class="line">        case boolTag:</span><br><span class="line">        case numberTag:</span><br><span class="line">        case stringTag:</span><br><span class="line">        case errorTag:</span><br><span class="line">        case dateTag:</span><br><span class="line">            return new Ctor(targe);</span><br><span class="line">        case regexpTag:</span><br><span class="line">            return cloneReg(targe);</span><br><span class="line">        case symbolTag:</span><br><span class="line">            return cloneSymbol(targe);</span><br><span class="line">        default:</span><br><span class="line">            return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function cloneSymbol(targe) &#123;</span><br><span class="line">    return Object(Symbol.prototype.valueOf.call(targe));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">克隆正则：</span><br><span class="line"></span><br><span class="line">function cloneReg(targe) &#123;</span><br><span class="line">    const reFlags = /\w*$/;</span><br><span class="line">    const result = new targe.constructor(targe.source, reFlags.exec(targe));</span><br><span class="line">    result.lastIndex = targe.lastIndex;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>克隆函数<br>首先，我们可以通过prototype来区分下箭头函数和普通函数，箭头函数是没有prototype的。<br>我们可以直接使用eval和函数字符串来重新生成一个箭头函数，注意这种方法是不适用于普通函数的。<br>我们可以使用正则来处理普通函数：<br>分别使用正则取出函数体和函数参数，然后使用new Function ([arg1[, arg2[, …argN]],] functionBody)构造函数重新构造一个新的函数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">function cloneFunction(func) &#123;</span><br><span class="line">    const bodyReg = /(?&lt;=&#123;)(.|\n)+(?=&#125;)/m;</span><br><span class="line">    const paramReg = /(?&lt;=\().+(?=\)\s+&#123;)/;</span><br><span class="line">    const funcString = func.toString();</span><br><span class="line">    if (func.prototype) &#123;</span><br><span class="line">        console.log(&apos;普通函数&apos;);</span><br><span class="line">        const param = paramReg.exec(funcString);</span><br><span class="line">        const body = bodyReg.exec(funcString);</span><br><span class="line">        if (body) &#123;</span><br><span class="line">            console.log(&apos;匹配到函数体：&apos;, body[0]);</span><br><span class="line">            if (param) &#123;</span><br><span class="line">                const paramArr = param[0].split(&apos;,&apos;);</span><br><span class="line">                console.log(&apos;匹配到参数：&apos;, paramArr);</span><br><span class="line">                return new Function(...paramArr, body[0]);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                return new Function(body[0]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return eval(funcString);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">作者：ConardLi</span><br><span class="line">链接：https://juejin.im/post/5d6aa4f96fb9a06b112ad5b1</span><br><span class="line">来源：掘金</span><br><span class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure></p><blockquote><p>原文<a href="https://juejin.im/post/5d6aa4f96fb9a06b112ad5b1" target="_blank" rel="noopener">https://juejin.im/post/5d6aa4f96fb9a06b112ad5b1</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>变量、作用域和内存问题</title>
      <link href="/2019/04/30/js%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/"/>
      <url>/2019/04/30/js%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="全局属性的两种创建方法的区别"><a href="#全局属性的两种创建方法的区别" class="headerlink" title="全局属性的两种创建方法的区别"></a>全局属性的两种创建方法的区别</h4><h5 id="1-var-a-’a’"><a href="#1-var-a-’a’" class="headerlink" title="1. var a=’a’"></a>1. var a=’a’</h5><p>执行Object.getOwnPropertyDescriptor(window, ‘a’)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  value: &quot;a&quot;, </span><br><span class="line">  writable: true,</span><br><span class="line">  enumerable: true,</span><br><span class="line">  configurable: false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h5 id="2-a-’a’"><a href="#2-a-’a’" class="headerlink" title="2. a=’a’"></a>2. a=’a’</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  value: &quot;a&quot;,</span><br><span class="line">  writable: true,</span><br><span class="line">  enumerable: true,</span><br><span class="line">  configurable: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总而言之，最明显的区别就是var a = ‘a’这种方式定义的变量不能删除</p><a id="more"></a><h4 id="复制变量的方式"><a href="#复制变量的方式" class="headerlink" title="复制变量的方式"></a>复制变量的方式</h4><ol><li>复制基本类型时直接复制的是值</li><li>复制引用类型时复制的是一个指针</li></ol><h4 id="传递参数"><a href="#传递参数" class="headerlink" title="传递参数"></a>传递参数</h4><blockquote><p>传递参数的时候都是按值传递的。（在看了js高级程序设计之前，我是懵的。）访问变量有按值和按引用两种方式，而参数只能按值传递<br>举个栗子就清楚了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function setName(obj) &#123;</span><br><span class="line">    obj.name = &quot;Nicholas&quot;;</span><br><span class="line">&#125;</span><br><span class="line">var person = new Object();</span><br><span class="line">setName(person);</span><br><span class="line">alert(person.name);    //&quot;Nicholas&quot;</span><br></pre></td></tr></table></figure></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function setName(obj) &#123;</span><br><span class="line">  obj.name = &quot;Nicholas&quot;;</span><br><span class="line">  obj = new Object();</span><br><span class="line">  obj.name = &quot;Greg&quot;;</span><br><span class="line">&#125;</span><br><span class="line">var person = new Object();</span><br><span class="line">setName(person);</span><br><span class="line">alert(person.name);    //&quot;Nicholas&quot;</span><br></pre></td></tr></table></figure><h3 id="执行环境和作用域"><a href="#执行环境和作用域" class="headerlink" title="执行环境和作用域"></a>执行环境和作用域</h3><p>执行环境(execution context，为简单起见，有时也称为“环境”)是 JavaScript 中最为重要的一个概 念。执行环境定义了变量或函数有权访问的其他数据，决定了它们各自的行为。每个执行环境都有一个 与之关联的变量对象(variable object)，环境中定义的所有变量和函数都保存在这个对象中。虽然我们 编写的代码无法访问这个对象，但解析器在处理数据时会在后台使用它。<br>当代码在一个环境中执行时，会创建变量对象的一个作用域链(scope chain)。作用域链的用途，是 保证对执行环境有权访问的所有变量和函数的有序访问。作用域链的前端，始终都是当前执行的代码所 在环境的变量对象。如果这个环境是函数，则将其活动对象(activation object)作为变量对象。活动对 6 象在最开始时只包含一个变量，即 arguments 对象(这个对象在全局环境中是不存在的)。作用域链中 的下一个变量对象来自包含(外部)环境，而再下一个变量对象则来自下一个包含环境。这样，一直延 续到全局执行环境;全局执行环境的变量对象始终都是作用域链中的最后一个对象。<br>标识符解析是沿着作用域链一级一级地搜索标识符的过程。搜索过程始终从作用域链的前端开始， 然后逐级地向后回溯，直至找到标识符为止(如果找不到标识符，通常会导致错误发生)。</p><h4 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h4><ol><li>Undefined</li><li>Unll</li><li>Boolean</li><li>Number</li><li>String</li><li>Symbol</li></ol><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>1、基本类型值在内存中占据固定大小的空间，因此被保存在栈内存中;<br>2、从一个变量向另一个变量复制基本类型的值，会创建这个值的一个副本;<br>3、引用类型的值是对象，保存在堆内存中;<br>4、包含引用类型值的变量实际上包含的并不是对象本身，而是一个指向该对象的指针;<br>5、从一个变量向另一个变量复制引用类型的值，复制的其实是指针，因此两个变量最终都指向同一个对象</p>]]></content>
      
      
      <categories>
          
          <category> js知识库 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>count-to组件</title>
      <link href="/2019/04/30/count-to%E7%BB%84%E4%BB%B6/"/>
      <url>/2019/04/30/count-to%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;slot name=&quot;prepend&quot;&gt;&lt;/slot&gt;&lt;span :class=&quot;classes&quot; ref=&quot;number&quot; :id=&quot;eleId&quot;&gt;&lt;/span&gt;&lt;slot name=&quot;append&quot;&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import CountUp from &apos;countup&apos;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;CountTo&apos;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    satrtVal: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    endVal: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * @description 小数点的精度</span><br><span class="line">     */</span><br><span class="line">    decimals: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * @description 动画时间，单位： 秒</span><br><span class="line">     */</span><br><span class="line">    duration: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 1</span><br><span class="line">    &#125;,</span><br><span class="line">    separator: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;,&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * @description 是否使用分组</span><br><span class="line">     */</span><br><span class="line">    useGrouping: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: true</span><br><span class="line">    &#125;,</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * @description 动画开始延迟，单位：毫秒</span><br><span class="line">     */</span><br><span class="line">    delay: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    className: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      counter: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    eleId () &#123;</span><br><span class="line">      return `count-to-$&#123;this._uid&#125;`</span><br><span class="line">    &#125;,</span><br><span class="line">    classes () &#123;</span><br><span class="line">      return [</span><br><span class="line">        &apos;count-to-number&apos;,</span><br><span class="line">        this.className</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    endVal (newVal) &#123;</span><br><span class="line">      this.counter.update(newVal)</span><br><span class="line">      this.emitEndEvent()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getCount () &#123;</span><br><span class="line">      return this.$refs.number.innerText</span><br><span class="line">    &#125;,</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * @description 动画结束时发送事件</span><br><span class="line">     */</span><br><span class="line">    emitEndEvent () &#123;</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        this.$nextTick(() =&gt; &#123;</span><br><span class="line">          this.$emit(&apos;on-animation-end&apos;)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;, this.duration * 1000 + 5)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.$nextTick(() =&gt; &#123;</span><br><span class="line">      this.counter = new CountUp(this.eleId, this.satrtVal, this.endVal, this.decimals, this.duration, &#123;</span><br><span class="line">        useEasing: true,</span><br><span class="line">        useGrouping: this.useGrouping,</span><br><span class="line">        separator: this.separator,</span><br><span class="line">        decimal: &apos;.&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        this.counter.start()</span><br><span class="line">        this.emitEndEvent()</span><br><span class="line">      &#125;, this.delay)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">.count-to-number&#123;</span><br><span class="line">  color: #000;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> components </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>button-popup</title>
      <link href="/2019/04/30/button-popup/"/>
      <url>/2019/04/30/button-popup/</url>
      
        <content type="html"><![CDATA[<h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><p><img src="/../images/btn-popup-1.png" alt="btn-popup-1"><br><img src="/../images/btn-popup-2.png" alt="btn-popup-2"></p><a id="more"></a><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;Poptip :width=&quot;width&quot; placement=&quot;bottom-start&quot; trigger=&quot;click&quot;&gt;</span><br><span class="line">        &lt;Button&gt;&#123;&#123;title&#125;&#125;&#123;&#123;checkAll ? &apos;(全选)&apos; : &apos;&apos;&#125;&#125;&lt;/Button&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=&quot;content&quot; slot=&quot;content&quot;&gt;</span><br><span class="line">          &lt;Input v-model=&quot;search&quot; class=&quot;item&quot;/&gt;</span><br><span class="line">          &lt;Checkbox v-model=&quot;checkAll&quot; class=&quot;item&quot; label=&quot;all&quot; @on-change=&quot;handleChangeAll&quot;&gt;全部&lt;/Checkbox&gt;</span><br><span class="line">          &lt;CheckboxGroup v-model=&quot;select&quot; @on-change=&quot;handleChange&quot;&gt;</span><br><span class="line">            &lt;Checkbox v-for=&quot;item in groups&quot; v-show=&quot;item.value.indexOf(search) &gt; -1&quot; :key=&quot;item.value&quot; :label=&quot;item.label&quot; class=&quot;item&quot;&gt;</span><br><span class="line">              &#123;&#123;item.label&#125;&#125;</span><br><span class="line">            &lt;/Checkbox&gt;</span><br><span class="line">          &lt;/CheckboxGroup&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Poptip&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">/**</span><br><span class="line"> * 数据格式:</span><br><span class="line"> * [&#123;label: &apos;&apos;, value: &apos;&apos;&#125;]</span><br><span class="line"> *</span><br><span class="line"> * or</span><br><span class="line"> *</span><br><span class="line"> * [&apos;XXX1&apos;, &apos;xxx2&apos;]</span><br><span class="line"> */</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    data: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    value: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    width: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 100</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      select: this.value,</span><br><span class="line">      checkAll: false,</span><br><span class="line">      search: &apos;&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    groups () &#123;</span><br><span class="line">      return this.data.map(item =&gt; &#123;</span><br><span class="line">        if (typeof item === &apos;string&apos;) &#123;</span><br><span class="line">          return &#123;</span><br><span class="line">            label: item,</span><br><span class="line">            value: item</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else if (typeof item === &apos;object&apos;) &#123;</span><br><span class="line">          if ((&apos;value&apos; in item) &amp;&amp; (&apos;label&apos; in item)) &#123;</span><br><span class="line">            return item</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          throw new Error(&apos;data is valid&apos;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    value () &#123;</span><br><span class="line">      this.init()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleChange (val) &#123;</span><br><span class="line">      if (val.length === this.data.length) &#123;</span><br><span class="line">        this.select = this.data</span><br><span class="line">        this.checkAll = true</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.checkAll = false</span><br><span class="line">      &#125;</span><br><span class="line">      this.$emit(&apos;on-change&apos;, this.select)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleChangeAll (checkAll) &#123;</span><br><span class="line">      if (checkAll) &#123;</span><br><span class="line">        this.select = this.data</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.select = []</span><br><span class="line">      &#125;</span><br><span class="line">      this.$emit(&apos;on-change&apos;, this.select)</span><br><span class="line">    &#125;,</span><br><span class="line">    init () &#123;</span><br><span class="line">      this.select = this.value</span><br><span class="line">      if (this.select.length === this.data.length) &#123;</span><br><span class="line">        this.checkAll = true</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.checkAll = false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.init()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">.content&#123;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">.item&#123;</span><br><span class="line">  display: block;</span><br><span class="line">  text-overflow: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> components </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js的几种模块化方式</title>
      <link href="/2019/04/29/js%E7%9A%84%E5%87%A0%E7%A7%8D%E6%A8%A1%E5%9D%97%E5%8C%96%E6%96%B9%E5%BC%8F/"/>
      <url>/2019/04/29/js%E7%9A%84%E5%87%A0%E7%A7%8D%E6%A8%A1%E5%9D%97%E5%8C%96%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>模块化的必要性：<br>为了提高代码的开发效率，方便代码的维护，重构。</p><p>模块化与组件化的区别：<br>模块可以理解为分解的页面逻辑，比如一个网站的登录，用户管理等；<br>组件则是一个具体的功能。<br>具体来说一个下拉框是一个组件，一个登录功能一个模块。</p><p>目前常见的模块化规范（排名不分先后）：</p><ul><li>AMD</li><li>CMD</li><li>CommonJS</li><li>ES6</li></ul><h3 id="1-AMD"><a href="#1-AMD" class="headerlink" title="1. AMD"></a>1. AMD</h3><p>AMD与CMD类似，不同的是AMD推崇依赖前置，–requireJS 推广过程中出现的规范。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/** main.js中引入1.js及2.js **/</span><br><span class="line">// 执行基本操作</span><br><span class="line">define([&quot;1.js&quot;,&quot;2.js&quot;],function($,_)&#123;</span><br><span class="line">  // some code here</span><br><span class="line">&#125;);</span><br><span class="line">/** 如果1.js中又引入了3.js，那就会先广度优先，然后深度遍历。   </span><br><span class="line">请求1.js和2.js然后在1.js中进行3.js的请求，3.js返回结果后查看2.js是否已经返回，   </span><br><span class="line">如果已经返回则合并结果后返回给main.js</span><br><span class="line">**/</span><br></pre></td></tr></table></figure></p><h3 id="2-CMD"><a href="#2-CMD" class="headerlink" title="2. CMD"></a>2. CMD</h3><p>CMD推崇就近依赖。   –sea.js推广过程中出现的规范。<br>但是因为在AMD&amp;CMD都是在浏览器端使用，采用的是异步加载，其实CMD还是需要在一开始就请求需要的，只是写法上更方便了。（采用的是正则匹配来获得js文件名，所以注释掉的仍然会请求，并且只可以书写字符串，不可以使用表达式）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/** AMD写法 **/</span><br><span class="line">define([&quot;1&quot;, &quot;2&quot;], function(1, 2) &#123; </span><br><span class="line">     // 依赖前置</span><br><span class="line">  function foo()&#123;</span><br><span class="line">    lib.log(&apos;hello world!&apos;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return &#123;</span><br><span class="line">    foo: foo</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">/** CMD写法 **/</span><br><span class="line">define(function(require, exports, module) &#123;</span><br><span class="line">    var test = require(&apos;./1&apos;); //就近依赖</span><br><span class="line">    test.sayHi();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h3 id="3-CommonJS"><a href="#3-CommonJS" class="headerlink" title="3. CommonJS"></a>3. CommonJS</h3><p>大前端使用的Node即时CommonJS的实例。<br>与AMD&amp;CMD的不同之处在于CommonJS规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。<br>require参数规则:</p><p>3.1. 如果参数字符串以“/”开头，则表示加载的是一个位于绝对路径的模块文件。<br>比如，require(‘/home/marco/foo.js’)将加载/home/marco/foo.js。<br>3.2. 如果参数字符串以“./”开头，则表示加载的是一个位于相对路径（跟当前执行脚本的位置相比）的模块文件。<br>比如，require(‘./circle’)将加载当前脚本同一目录的circle.js。<br>3.3. 如果参数字符串不以“./“或”/“开头，则表示加载的是一个默认提供的核心模块（位于Node的系统安装目录中），<br>或者一个位于各级node_modules目录的已安装模块（全局安装或局部安装）。<br>3.4. 如果参数字符串不以“./“或”/“开头，而且是一个路径，比如require(‘example-module/path/to/file’)，<br>则将先找到example-module的位置，然后再以它为参数，找到后续路径。<br>3.5. 如果指定的模块文件没有发现，Node会尝试为文件名添加.js、.json、.node后，再去搜索。<br>.js件会以文本格式的JavaScript脚本文件解析，.json文件会以JSON格式的文本文件解析，<br>.node文件会以编译后的二进制文件解析。<br>3.6. 如果想得到require命令加载的确切文件名，使用require.resolve()方法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const webpack = require(&apos;webpack&apos;);//引入</span><br><span class="line">const sayHi = function ()&#123;</span><br><span class="line">    console.log(&apos;haha&apos;);</span><br><span class="line">&#125;</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    sayHi:sayHi</span><br><span class="line">&#125;//导出</span><br></pre></td></tr></table></figure></p><h3 id="4-ES6"><a href="#4-ES6" class="headerlink" title="4. ES6"></a>4. ES6</h3><p>相对于以上的AMD&amp;CMD是用于浏览器端，CommonJS用于服务器端。ES6的模块化非常可喜可贺的是浏览器和服务器通用的模块解决方案。<br>那它是怎么做到的呢？<br>区别与以上三者需要在 进行时加载，ES6尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。<br>使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ES6使用import进行引入，export default(比export更友好)进行导出。</span><br><span class="line">import &#123; lastName as surname &#125; from &apos;./profile.js&apos;;</span><br><span class="line">function foo() &#123;</span><br><span class="line">  console.log(&apos;foo&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default foo;</span><br></pre></td></tr></table></figure></p><p>作者：littleStar<br>链接：<a href="https://juejin.im/post/5cc5909d518825253f4a5a68" target="_blank" rel="noopener">https://juejin.im/post/5cc5909d518825253f4a5a68</a><br>来源：掘金<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js的有趣应用</title>
      <link href="/2019/04/29/js%E7%9A%84%E6%9C%89%E8%B6%A3%E5%BA%94%E7%94%A8/"/>
      <url>/2019/04/29/js%E7%9A%84%E6%9C%89%E8%B6%A3%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="打乱数组"><a href="#打乱数组" class="headerlink" title="打乱数组"></a>打乱数组</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let fn = (arr) =&gt; arr.slice().sort(() =&gt; Math.random() - 0.5)</span><br></pre></td></tr></table></figure><h3 id="生成随机的十六进制颜色"><a href="#生成随机的十六进制颜色" class="headerlink" title="生成随机的十六进制颜色"></a>生成随机的十六进制颜色</h3><h4 id="1"><a href="#1" class="headerlink" title="1"></a>1</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;#&apos; + Math.floor(Math.random() * 0xffffff).toString(16).padEnd(6, &apos;0&apos;)</span><br></pre></td></tr></table></figure><h4 id="2"><a href="#2" class="headerlink" title="2"></a>2</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Array.from(&#123;length:6&#125;,()=&gt;Math.floor(Math.random()*16).toString(16)).join(&quot;&quot;)</span><br><span class="line">// Array.from()的第一个参数指定了第二个参数的运行次数</span><br></pre></td></tr></table></figure><h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[new Set(arr)]</span><br></pre></td></tr></table></figure><h3 id="获取URL的查询参数"><a href="#获取URL的查询参数" class="headerlink" title="获取URL的查询参数"></a>获取URL的查询参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">q=&#123;&#125;;location.search.replace(/([^?&amp;=]+)=([^&amp;]+)/g,(_,k,v)=&gt;q[k]=v);q;</span><br></pre></td></tr></table></figure><h3 id="返回一个键盘"><a href="#返回一个键盘" class="headerlink" title="返回一个键盘"></a>返回一个键盘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 用字符串返回一个键盘图形</span><br><span class="line">(_=&gt;[...&quot;`1234567890-=~~QWERTYUIOP[]\\~ASDFGHJKL;&apos;~~ZXCVBNM,./~&quot;].map(x=&gt;(o+=`/$&#123;b=&apos;_&apos;.repeat(w=x&lt;y?2:&apos; 667699&apos;[x=[&quot;BS&quot;,&quot;TAB&quot;,&quot;CAPS&quot;,&quot;ENTER&quot;][p++]||&apos;SHIFT&apos;,p])&#125;\\|`,m+=y+(x+&apos;    &apos;).slice(0,w)+y+y,n+=y+b+y+y,l+=&apos; __&apos;+b)[73]&amp;&amp;(k.push(l,m,n,o),l=&apos;&apos;,m=n=o=y),m=n=o=y=&apos;|&apos;,p=l=k=[])&amp;&amp;k.join``)()</span><br></pre></td></tr></table></figure><p>来源 <a href="https://juejin.im/post/5cc55eb5e51d456e577f93f0" target="_blank" rel="noopener">https://juejin.im/post/5cc55eb5e51d456e577f93f0</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>全屏显示组件</title>
      <link href="/2019/04/29/%E5%85%A8%E5%B1%8F%E6%98%BE%E7%A4%BA%E7%BB%84%E4%BB%B6/"/>
      <url>/2019/04/29/%E5%85%A8%E5%B1%8F%E6%98%BE%E7%A4%BA%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Button type=&quot;primary&quot; @click=&quot;toggle&quot;&gt;&#123;&#123;full ? &apos;退出全屏&apos; : &apos;全屏&apos;&#125;&#125;&lt;/Button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;FullScreen&apos;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    elem: &#123;</span><br><span class="line">      type: HTMLDivElement,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      full: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    toggle () &#123;</span><br><span class="line">      this.full = !this.full</span><br><span class="line">      if (this.full) &#123;</span><br><span class="line">        if (this.elem.requestFullscreen) &#123;</span><br><span class="line">          this.elem.requestFullscreen()</span><br><span class="line">        &#125; else if (this.elem.webkitRequestFullscreen) &#123;</span><br><span class="line">          this.elem.webkitRequestFullscreen()</span><br><span class="line">        &#125; else if (this.elem.mozRequestFullScreen) &#123;</span><br><span class="line">          this.elem.mozRequestFullScreen()</span><br><span class="line">        &#125; else if (this.elem.msRequestFullscreen) &#123;</span><br><span class="line">          this.elem.msRequestFullscreen()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        if (document.exitFullscreen) &#123;</span><br><span class="line">          document.exitFullscreen()</span><br><span class="line">        &#125; else if (document.webkitExitFullscreen) &#123;</span><br><span class="line">          document.webkitExitFullscreen()</span><br><span class="line">        &#125; else if (document.mozCancelFullScreen) &#123;</span><br><span class="line">          document.mozCancelFullScreen()</span><br><span class="line">        &#125; else if (document.msExitFullscreen) &#123;</span><br><span class="line">          document.msExitFullscreen()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      this.$emit(&apos;on-change&apos;, this.full)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.btn-con .ivu-tooltip-rel&#123;</span><br><span class="line">  height: 64px;</span><br><span class="line">  width: 64px;</span><br><span class="line">  line-height: 56px;</span><br><span class="line">&#125;</span><br><span class="line">.btn-con .ivu-tooltip-rel i &#123;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> components </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>封装line和pie简单组件</title>
      <link href="/2019/04/29/%E5%B0%81%E8%A3%85line%E5%92%8Cpie%E7%AE%80%E5%8D%95%E7%BB%84%E4%BB%B6/"/>
      <url>/2019/04/29/%E5%B0%81%E8%A3%85line%E5%92%8Cpie%E7%AE%80%E5%8D%95%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图:"></a>效果图:</h3><p><img src="/images/chart-line-pie.png" alt="chart-line-pie"></p><a id="more"></a><h3 id="ChartLine-vue"><a href="#ChartLine-vue" class="headerlink" title="ChartLine.vue"></a>ChartLine.vue</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Card dis-hover class=&quot;chart-item&quot; style=&quot;margin-bottom:20px&quot;&gt;</span><br><span class="line">    &lt;template v-if=&quot;!simple&quot;&gt;</span><br><span class="line">      &lt;div slot=&quot;title&quot; class=&quot;chart-item-title&quot;&gt;</span><br><span class="line">        &#123;&#123; title &#125;&#125;</span><br><span class="line">        &lt;span style=&quot;float:right&quot;&gt;</span><br><span class="line">          &lt;slot name=&quot;extra&quot;&gt;</span><br><span class="line">            &lt;template v-if=&quot;unit&quot;&gt;</span><br><span class="line">              &lt;span class=&quot;desc-title&quot;&gt;单位&lt;/span&gt; &#123;&#123;unit&#125;&#125; &lt;span class=&apos;vertital-divider&apos;&gt;|&lt;/span&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">          &lt;/slot&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;chart-item-header&quot;&gt;</span><br><span class="line">        &lt;slot name=&quot;operation&quot;&gt;&lt;/slot&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div ref=&quot;chart&quot; :class=&quot;[&apos;chart-item-content&apos;, &#123;&apos;simple&apos; : simple&#125;]&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/Card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Highcharts from &apos;highcharts&apos;</span><br><span class="line">import HighchartsNoData from &apos;highcharts/modules/no-data-to-display&apos;</span><br><span class="line">import HighchartsExporting from &apos;highcharts/modules/exporting&apos;</span><br><span class="line">import mockData from &apos;./mock.js&apos;</span><br><span class="line"></span><br><span class="line">HighchartsNoData(Highcharts)</span><br><span class="line">HighchartsExporting(Highcharts)</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;ChartItem&apos;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    simple: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: false</span><br><span class="line">    &#125;,</span><br><span class="line">    type: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;line&apos;,</span><br><span class="line">      validator (val) &#123;</span><br><span class="line">        if ([&apos;area&apos;, &apos;spline&apos;, &apos;line&apos;].indexOf(val) &gt; -1) &#123;</span><br><span class="line">          return true</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          throw new Error(&apos;chart type must be oneof [line, spline, area]&apos;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    title: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;&apos;</span><br><span class="line">    &#125;, // 图表名字</span><br><span class="line">    extra: Object, // 关于图表的一些其他信息</span><br><span class="line">    data: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    unit: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    plotLine: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default: null</span><br><span class="line">    &#125;,</span><br><span class="line">    notTimeStamp: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: false</span><br><span class="line">    &#125;,</span><br><span class="line">    zoomType: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;none&apos; // 可用值 none  x y xy</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      chartInstance: null,</span><br><span class="line">      mockData: mockData</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    option () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        chart: &#123;</span><br><span class="line">          type: this.type,</span><br><span class="line">          zoomType: zoomType</span><br><span class="line">        &#125;,</span><br><span class="line">        title: &#123;</span><br><span class="line">          text: this.simple ? this.title : &apos;&apos;,</span><br><span class="line">          style: &#123;</span><br><span class="line">            fontWeight: &apos;bold&apos;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        credits: &#123;</span><br><span class="line">          text: &apos;http://xxx.com.cn&apos;,</span><br><span class="line">          href: &apos;http://xxx.com.cn&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">          enabled: true,</span><br><span class="line">          lineHeight: 20,</span><br><span class="line">          maxHeight: 40</span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">          xDateFormat: &apos;%Y-%m-%d %H:%M&apos;,</span><br><span class="line">          valueDecimals: 2,</span><br><span class="line">          shared: true</span><br><span class="line">        &#125;,</span><br><span class="line">        xAxis: &#123;</span><br><span class="line">          startOnTick: true,</span><br><span class="line">          tickmarkPlacement: &apos;on&apos;,</span><br><span class="line">          type: &apos;datetime&apos;,</span><br><span class="line">          dateTimeLabelFormats: &#123;</span><br><span class="line">            day: &apos;%Y/%b/%e&apos;</span><br><span class="line">          &#125;,</span><br><span class="line">          followPointer: true,</span><br><span class="line">          crosshair: true</span><br><span class="line">        &#125;,</span><br><span class="line">        yAxis: &#123;</span><br><span class="line">          startOnTick: true,</span><br><span class="line">          lineWidth: 1,</span><br><span class="line">          tickWidth: 1,</span><br><span class="line">          title: &#123;</span><br><span class="line">            align: &apos;middle&apos;,</span><br><span class="line">            text: `值($&#123;this.unit&#125;)`</span><br><span class="line">          &#125;,</span><br><span class="line">          plotBands: [],</span><br><span class="line">          min: this.min || null</span><br><span class="line">        &#125;,</span><br><span class="line">        plotOptions: &#123;</span><br><span class="line">          series: &#123;</span><br><span class="line">            lineWidth: 1,</span><br><span class="line">            marker: &#123;</span><br><span class="line">              enabled: false</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        exporting: &#123;</span><br><span class="line">          enabled: true,</span><br><span class="line">          buttons: &#123;</span><br><span class="line">            contextButton: &#123;</span><br><span class="line">              menuItems: [</span><br><span class="line">                &apos;viewFullscreen&apos;, &apos;downloadPNG&apos;, &apos;downloadJPEG&apos;, &apos;downloadPDF&apos;, &apos;downloadSVG&apos;</span><br><span class="line">              ]</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          filename: this.title</span><br><span class="line">        &#125;,</span><br><span class="line">        series: this.innerData</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    innerData () &#123;</span><br><span class="line">      if (this.notTimeStamp) &#123;</span><br><span class="line">        return this.data.map(item =&gt; &#123;</span><br><span class="line">          return [Date.parse(item[0]), item[1]]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        return this.data</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    init () &#123;</span><br><span class="line">      Highcharts.setOptions(&#123;</span><br><span class="line">        global: &#123;</span><br><span class="line">          useUTC: true</span><br><span class="line">        &#125;,</span><br><span class="line">        lang: &#123;</span><br><span class="line">          loading: &apos;加载中...&apos;,</span><br><span class="line">          shortMonths: [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;, &apos;10&apos;, &apos;11&apos;, &apos;12&apos;],</span><br><span class="line">          printChart: &apos;打印图表&apos;,</span><br><span class="line">          downloadJPEG: &apos;导出jpeg&apos;,</span><br><span class="line">          downloadPNG: &apos;导出png&apos;,</span><br><span class="line">          downloadSVG: &apos;导出svg&apos;,</span><br><span class="line">          downloadPDF: &apos;导出pdf&apos;,</span><br><span class="line">          noData: &apos;暂无数据&apos;,</span><br><span class="line">          contextButtonTitle: &apos;导出&apos;,</span><br><span class="line">          viewFullscreen: &apos;全屏显示&apos;,</span><br><span class="line">          viewData: &apos;表格显示数据&apos;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      let option = this.option</span><br><span class="line">      if (this.plotLine) &#123;</span><br><span class="line">        option = Object.assign(this.option, &#123;</span><br><span class="line">          yAxis: &#123;</span><br><span class="line">            plotLines: [</span><br><span class="line">              &#123;</span><br><span class="line">                value: this.plotLine.value,</span><br><span class="line">                color: &apos;red&apos;,</span><br><span class="line">                width: 2,</span><br><span class="line">                dashStyle: &apos;solid&apos;,</span><br><span class="line">                label: &#123;</span><br><span class="line">                  text: this.plotLine.text || &apos;&apos;,</span><br><span class="line">                  align: this.plotLine.align || &apos;left&apos;,</span><br><span class="line">                  style: &#123;</span><br><span class="line">                    color: &apos;red&apos;,</span><br><span class="line">                    fontSize: &apos;18px&apos;</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      Highcharts.chart(this.$refs.chart, option)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.init()</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy () &#123;</span><br><span class="line">    this.chartInstance &amp;&amp; this.chartInstance.destroy()</span><br><span class="line">    this.chartInstance = null</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">.chart-item &#123;</span><br><span class="line">  margin-bottom: 20px;</span><br><span class="line">  &amp;-title &#123;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    height: 18px;</span><br><span class="line">    line-height: 18px;</span><br><span class="line">    .vertital-divider&#123;</span><br><span class="line">      margin: 0 5px;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      width: 1px;</span><br><span class="line">      vertical-align: middle;</span><br><span class="line">      color: #e8eaec;</span><br><span class="line">      box-sizing: border-box;</span><br><span class="line">      background: #e8eaec;</span><br><span class="line">    &#125;</span><br><span class="line">    .desc-title&#123;</span><br><span class="line">      color: #888;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;-header &#123;</span><br><span class="line">    text-align: right;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;-content &#123;</span><br><span class="line">    height: 400px;</span><br><span class="line">  &#125;</span><br><span class="line">  .simple&#123;</span><br><span class="line">    height: 446px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="ChartPie-vue"><a href="#ChartPie-vue" class="headerlink" title="ChartPie.vue"></a>ChartPie.vue</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Card dis-hover class=&quot;chart-item&quot; style=&quot;margin-bottom:20px&quot;&gt;</span><br><span class="line">    &lt;template v-if=&quot;!simple&quot;&gt;</span><br><span class="line">      &lt;div slot=&quot;title&quot; class=&quot;chart-item-title&quot;&gt;</span><br><span class="line">        &#123;&#123; title &#125;&#125;</span><br><span class="line">        &lt;span style=&quot;float:right&quot;&gt;</span><br><span class="line">          &lt;slot name=&quot;extra&quot;&gt;</span><br><span class="line">            &lt;template v-if=&quot;unit&quot;&gt;</span><br><span class="line">              &lt;span class=&quot;desc-title&quot;&gt;单位&lt;/span&gt; &#123;&#123;unit&#125;&#125; &lt;span class=&apos;vertital-divider&apos;&gt;|&lt;/span&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">          &lt;/slot&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;chart-item-header&quot;&gt;</span><br><span class="line">        &lt;slot name=&quot;operation&quot;&gt;&lt;/slot&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div ref=&quot;chart&quot; class=&quot;chart-item-content&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/Card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Highcharts from &apos;highcharts&apos;</span><br><span class="line">import HighchartsNoData from &apos;highcharts/modules/no-data-to-display&apos;</span><br><span class="line">import HighchartsExporting from &apos;highcharts/modules/exporting&apos;</span><br><span class="line"></span><br><span class="line">HighchartsNoData(Highcharts)</span><br><span class="line">HighchartsExporting(Highcharts)</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;ChartItem&apos;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    simple: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: false</span><br><span class="line">    &#125;,</span><br><span class="line">    title: String, // 图表名字</span><br><span class="line">    extra: Object, // 关于图表的一些其他信息</span><br><span class="line">    data: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    unit: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      chartInstance: null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // resize () &#123;</span><br><span class="line">    //   return this.$store.state.common.resize</span><br><span class="line">    // &#125;,</span><br><span class="line">    option () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        chart: &#123;</span><br><span class="line">          type: &apos;pie&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        title: &#123;</span><br><span class="line">          text: this.simple ? this.title : &apos;&apos;,</span><br><span class="line">          style: &#123;</span><br><span class="line">            fontWeight: &apos;bold&apos;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        credits: &#123;</span><br><span class="line">          text: &apos;http://nevis.sina.com.cn&apos;,</span><br><span class="line">          href: &apos;http://nevis.sina.com.cn&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">          enabled: true,</span><br><span class="line">          lineHeight: 20,</span><br><span class="line">          maxHeight: 40</span><br><span class="line">        &#125;,</span><br><span class="line">        // 提示框</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">          pointFormat: &apos;&#123;series.name&#125;: &lt;b&gt;&#123;point.percentage:.2f&#125;%&lt;/b&gt;&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        // 数据点</span><br><span class="line">        plotOptions: &#123;</span><br><span class="line">          pie: &#123;</span><br><span class="line">            allowPointSelect: true,</span><br><span class="line">            cursor: &apos;pointer&apos;,</span><br><span class="line">            dataLabels: &#123;</span><br><span class="line">              enabled: true,</span><br><span class="line">              format: &apos;&lt;b&gt;&#123;point.name&#125;&lt;/b&gt;: &#123;point.percentage:.2f&#125; %&apos;</span><br><span class="line">            &#125;,</span><br><span class="line">            showInLegend: true</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        exporting: &#123;</span><br><span class="line">          enabled: true,</span><br><span class="line">          buttons: &#123;</span><br><span class="line">            contextButton: &#123;</span><br><span class="line">              menuItems: [</span><br><span class="line">                &apos;viewFullscreen&apos;, &apos;downloadPNG&apos;, &apos;downloadJPEG&apos;, &apos;downloadPDF&apos;, &apos;downloadSVG&apos;</span><br><span class="line">              ]</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          filename: this.title</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [</span><br><span class="line">          &#123;</span><br><span class="line">            data: this.innerData</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    innerData () &#123;</span><br><span class="line">      return this.data</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    // resize () &#123;</span><br><span class="line">    //   this.chartInstance &amp;&amp; this.chartInstance.reflow()</span><br><span class="line">    // &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    init () &#123;</span><br><span class="line">      Highcharts.setOptions(&#123;</span><br><span class="line">        global: &#123;</span><br><span class="line">          useUTC: true</span><br><span class="line">        &#125;,</span><br><span class="line">        lang: &#123;</span><br><span class="line">          loading: &apos;加载中...&apos;,</span><br><span class="line">          shortMonths: [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;, &apos;10&apos;, &apos;11&apos;, &apos;12&apos;],</span><br><span class="line">          printChart: &apos;打印图表&apos;,</span><br><span class="line">          downloadJPEG: &apos;导出jpeg&apos;,</span><br><span class="line">          downloadPNG: &apos;导出png&apos;,</span><br><span class="line">          downloadSVG: &apos;导出svg&apos;,</span><br><span class="line">          downloadPDF: &apos;导出pdf&apos;,</span><br><span class="line">          noData: &apos;暂无数据&apos;,</span><br><span class="line">          contextButtonTitle: &apos;导出&apos;,</span><br><span class="line">          viewFullscreen: &apos;全屏显示&apos;,</span><br><span class="line">          viewData: &apos;表格显示数据&apos;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      Highcharts.chart(this.$refs.chart, this.option)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.init()</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy () &#123;</span><br><span class="line">    this.chartInstance &amp;&amp; this.chartInstance.destroy()</span><br><span class="line">    this.chartInstance = null</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">.chart-item &#123;</span><br><span class="line">  margin-bottom: 20px;</span><br><span class="line">  &amp;-title &#123;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    height: 18px;</span><br><span class="line">    line-height: 18px;</span><br><span class="line">    .vertital-divider&#123;</span><br><span class="line">      margin: 0 5px;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      width: 1px;</span><br><span class="line">      vertical-align: middle;</span><br><span class="line">      color: #e8eaec;</span><br><span class="line">      box-sizing: border-box;</span><br><span class="line">      background: #e8eaec;</span><br><span class="line">    &#125;</span><br><span class="line">    .desc-title&#123;</span><br><span class="line">      color: #888;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;-header &#123;</span><br><span class="line">    text-align: right;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;-content &#123;</span><br><span class="line">    height: 300px;</span><br><span class="line">  &#125;</span><br><span class="line">  .simple&#123;</span><br><span class="line">    height: 346px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;chart&quot;&gt;</span><br><span class="line">    &lt;Row&gt;</span><br><span class="line">      &lt;Col span=&quot;12&quot;&gt;</span><br><span class="line">        &lt;chart-line :data=&quot;mockData.pie.count_tendency&quot; title=&quot;响应时间分布(simple)&quot; type=&quot;spline&quot; simple&gt;&lt;/chart-line&gt;</span><br><span class="line">      &lt;/Col&gt;</span><br><span class="line">      &lt;Col span=&quot;12&quot;&gt;</span><br><span class="line">        &lt;chart-pie :data=&quot;mockData.pie.count&quot; title=&quot;响应时间分布&quot; type=&quot;spline&quot;&gt;&lt;/chart-pie&gt;</span><br><span class="line">      &lt;/Col&gt;</span><br><span class="line">    &lt;/Row&gt;</span><br><span class="line">    &lt;chart-line</span><br><span class="line">      type=&quot;spline&quot;</span><br><span class="line">      :data=&quot;mockData.pie.count_tendency&quot;</span><br><span class="line">      title=&quot;响应时间分布&quot;</span><br><span class="line">      :plot-line=&quot;&#123;text: &apos;5000&apos;, value: 5000, align: &apos;right&apos;&#125;&quot;</span><br><span class="line">      &gt;&lt;/chart-line&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import mockData from &apos;@/components/chart/mock.js&apos;</span><br><span class="line">import ChartLine from &apos;@/components/chart/ChartLine&apos;</span><br><span class="line">import ChartPie from &apos;@/components/chart/ChartPie&apos;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;chart&apos;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    ChartLine,</span><br><span class="line">    ChartPie</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      mockData: mockData</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">.chart&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> components </tag>
            
            <tag> highcharts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue中引入higcharts拓展模块</title>
      <link href="/2019/04/13/vue%E4%B8%AD%E5%BC%95%E5%85%A5higcharts%E6%8B%93%E5%B1%95%E6%A8%A1%E5%9D%97/"/>
      <url>/2019/04/13/vue%E4%B8%AD%E5%BC%95%E5%85%A5higcharts%E6%8B%93%E5%B1%95%E6%A8%A1%E5%9D%97/</url>
      
        <content type="html"><![CDATA[<h4 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h4><p>vue中使用highcharts绘制图表的时候，当数据位空的时候，图表显示空白，没有问题提示，不太友好。</p><h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><p>highcharts中存在很多拓展模块，当你引入import Highcharts from ‘highcharts’ 的时候，并没有自动引入，需手动引用.那里面又一个模块就是专门解决上述问题的，no-data-to-display模块。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Highcharts from &apos;highcharts&apos;</span><br><span class="line">import HighchartsNoData from &apos;highcharts/modules/no-data-to-display&apos;</span><br><span class="line">HighchartsNoData(Highcharts)</span><br><span class="line"></span><br><span class="line">Highcharts.setOptions(&#123;</span><br><span class="line">  global: &#123;</span><br><span class="line">    useUTC: true</span><br><span class="line">  &#125;,</span><br><span class="line">  lang: &#123;</span><br><span class="line">    loading: &apos;加载中...&apos;, </span><br><span class="line">    shortMonths: [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;, &apos;10&apos;, &apos;11&apos;, &apos;12&apos;],</span><br><span class="line">    noData: &apos;暂无数据&apos; //指定无数据时的文字提示</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h4 id="结果如下"><a href="#结果如下" class="headerlink" title="结果如下"></a>结果如下</h4><p><img src="/images/highcharts-no-data.png" alt="highcharts-no-data"></p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> graph </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js中的this机制</title>
      <link href="/2019/04/09/js%E4%B8%AD%E7%9A%84this%E6%9C%BA%E5%88%B6/"/>
      <url>/2019/04/09/js%E4%B8%AD%E7%9A%84this%E6%9C%BA%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>this是函数 ( 运行时,即指的是被调用时 )的上下文， 指向调用它的 (最近的上下文)。</p><h3 id="绑定规则"><a href="#绑定规则" class="headerlink" title="绑定规则"></a>绑定规则</h3><ol><li>函数绑定</li><li>new绑定 </li><li>箭头函数绑定</li></ol><a id="more"></a><h4 id="1-函数调用"><a href="#1-函数调用" class="headerlink" title="1.函数调用"></a>1.函数调用</h4><p>JS（ES5）里面有三种函数调用形式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">func(p1, p2) </span><br><span class="line">obj.child.method(p1, p2)</span><br><span class="line">func.call(context, p1, p2) // 先不讲 apply</span><br></pre></td></tr></table></figure></p><p>一般，初学者都知道前两种形式，而且认为前两种形式「优于」第三种形式。<br>从看到这篇文章起，你一定要记住，第三种调用形式，才是正常调用形式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func.call(context, p1, p2)</span><br></pre></td></tr></table></figure></p><p>其他两种都是语法糖，可以等价地变为 call 形式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">func(p1, p2) 等价于</span><br><span class="line">func.call(undefined, p1, p2)</span><br><span class="line"></span><br><span class="line">obj.child.method(p1, p2) &lt;=&gt;</span><br><span class="line">obj.child.method.call(obj.child, p1, p2)</span><br></pre></td></tr></table></figure></p><p>请记下来。（我们称此代码为「转换代码」，方便下文引用）<br>至此我们的函数调用只有一种形式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func.call(context, p1, p2)</span><br></pre></td></tr></table></figure></p><p>举些其他例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var a= &#123;</span><br><span class="line">  name: &apos;XXX&apos;,</span><br><span class="line">  xxx: function () &#123;</span><br><span class="line">    console.log(this)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function xxx() &#123;</span><br><span class="line">  console.log(this)</span><br><span class="line">&#125;</span><br><span class="line">(b = a.xxx)()</span><br><span class="line">&lt;=&gt; var b = a.xxx.bind(undefined); b()</span><br><span class="line"></span><br><span class="line">(a.xxx)()</span><br><span class="line">&lt;=&gt; a.xxx()</span><br></pre></td></tr></table></figure></p><h5 id="Dom元素绑定事件时的this"><a href="#Dom元素绑定事件时的this" class="headerlink" title="Dom元素绑定事件时的this"></a>Dom元素绑定事件时的this</h5><p>MDN这样解释：</p><blockquote><p>通常来说this的值是触发事件的元素的引用，这种特性在多个相似的元素使用同一个通用事件监听器时非常让人满意。当使用 addEventListener() 为一个元素注册事件的时候，句柄里的 this 值是该元素的引用。其与传递给句柄的 event 参数的 currentTarget 属性的值一样。<br>这种this绑定时浏览器内置的，不方便看，但可以假想为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var button = document.getElementById(&quot;btn)</span><br><span class="line">button.addEventListener(&apos;click&apos;, handlder)</span><br><span class="line"></span><br><span class="line">// 当事件被触发时</span><br><span class="line">handler.call(event.currentTarget, event) </span><br><span class="line">// 那么 this 是什么不言而喻</span><br></pre></td></tr></table></figure></p></blockquote><h4 id="2-new绑定"><a href="#2-new绑定" class="headerlink" title="2.new绑定"></a>2.new绑定</h4><p>使用new来调用函数，或者说发生构造函数调用时，会自动执行下面的操作。<br>1、创建（或者说构造）一个新的临时对象。<br>2、指定原型。<br>3、返回这个新对象(这个新对象会绑定到函数调用的this)。<br>4、给原型指定名字为prototype</p><p>手写一个new实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function Person() &#123;</span><br><span class="line">  // 1. 创建一个空的对象</span><br><span class="line">    var obj = new Object(),</span><br><span class="line">  </span><br><span class="line">    // 2. 链接到原型，obj 可以访问到构造函数原型中的属性  </span><br><span class="line"></span><br><span class="line">    // 获得构造函数，arguments中去除第一个参数(构造函数)</span><br><span class="line">    obj.__proto__ = Person.prototype;</span><br><span class="line">    obj.__proto__.constructor = Person</span><br><span class="line">    </span><br><span class="line">    // 3. </span><br><span class="line">    var ret = Person.apply(obj, arguments);</span><br><span class="line">  return ret instanceof Object ? ret : obj;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//4.</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  constructor: null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="3-箭头函数"><a href="#3-箭头函数" class="headerlink" title="3.箭头函数"></a>3.箭头函数</h4><p>ES6新增一种特殊函数类型：箭头函数,根据外层（函数或者全局）作用域（词法作用域）来决定this。</p><p>foo()内部创建的箭头函数会捕获调用时foo()的this。由于foo()的this绑定到obj1，bar(引用箭头函数)的this也会绑定到obj1，箭头函数的绑定无法被修改(new也不行)。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    // 返回一个箭头函数</span><br><span class="line">    return (a) =&gt; &#123;</span><br><span class="line">        // this继承自foo()</span><br><span class="line">        console.log( this.a );</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">var obj1 = &#123;</span><br><span class="line">  a: 2</span><br><span class="line">&#125;;</span><br><span class="line">var obj2 = &#123;</span><br><span class="line">    a: 3</span><br><span class="line">&#125;</span><br><span class="line">var bar = foo.call( obj1 );</span><br><span class="line">bar.call( obj2 ); // 2，不是3！</span><br></pre></td></tr></table></figure></p><p>ES6之前和箭头函数类似的模式，采用的是词法作用域取代了传统的this机制。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    var self = this; // lexical capture of this</span><br><span class="line">    setTimeout( function() &#123;</span><br><span class="line">        console.log( self.a ); // self只是继承了foo()函数的this绑定</span><br><span class="line">    &#125;, 100 );</span><br><span class="line">&#125;</span><br><span class="line">var obj = &#123;</span><br><span class="line">    a: 2</span><br><span class="line">&#125;;</span><br><span class="line">foo.call(obj); // 2</span><br></pre></td></tr></table></figure></p><p>代码风格统一问题：如果既有this风格的代码，还会使用 seft = this 或者箭头函数来否定this机制。</p><ul><li>只使用词法作用域并完全抛弃错误this风格的代码；</li><li>完全采用this风格，在必要时使用bind(..)，尽量避免使用 self = this 和箭头函数。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webpack</title>
      <link href="/2019/04/05/webpack/"/>
      <url>/2019/04/05/webpack/</url>
      
        <content type="html"><![CDATA[<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack webpack-cli webpack-dev-server -D</span><br></pre></td></tr></table></figure><h3 id="1-基本配置-webpack-config-js"><a href="#1-基本配置-webpack-config-js" class="headerlink" title="1.基本配置 webpack.config.js"></a>1.基本配置 webpack.config.js</h3><p>当在项目中直接运行webpack时，默认读取webpack.config.js中的配置，等同于运行 webpack webpack.config.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;);</span><br><span class="line">const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)  //自动生成html</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  mode: &apos;development&apos;, // 可选development|production</span><br><span class="line">  entry: path.join(__dirname, &apos;src&apos;, &apos;main.js&apos;),</span><br><span class="line">  watch: true,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, &apos;dist&apos;),</span><br><span class="line">    publicPath: &apos;&apos;, // js 路径为public + path + filename</span><br><span class="line">    filename: &quot;main.js&quot;,</span><br><span class="line">    chunkFilename: &apos;[name].js&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.css$/,</span><br><span class="line">        // css-loader 导入css</span><br><span class="line">        // style-loader 将css插入到style标签中</span><br><span class="line">        use: [&apos;style-loader&apos;, &apos;css-loader&apos;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.less$/, </span><br><span class="line">        use: [&apos;style-loader&apos;, &apos;css-loader&apos;, &apos;less-loader&apos;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.html$/,  // 导入 html</span><br><span class="line">        use: [&apos;html-loader&apos;]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    new HtmlWebpackPlugin(&#123;</span><br><span class="line">      filename: &apos;index.html&apos;,</span><br><span class="line">      template: &apos;index.html&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  devtool: &apos;source-map&apos;,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: path.join(&apos;/dist/&apos;),</span><br><span class="line">    inline: true,</span><br><span class="line">    host: &apos;127.0.0.1&apos;,</span><br><span class="line">    port: 3000,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><a id="more"></a><h3 id="2-html处理"><a href="#2-html处理" class="headerlink" title="2.html处理"></a>2.html处理</h3><p>html-webpack-plugin: 可以指定模版生成html,并可以进行去除双引号、折叠空白符号之类的操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">    new HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: &apos;./src/index.html&apos;,</span><br><span class="line">      filename: &apos;index.html&apos;,</span><br><span class="line">      minify: &#123;</span><br><span class="line">        removeAttributeQuotes: true,</span><br><span class="line">        collapseInlineTagWhitespace: true</span><br><span class="line">      &#125;,</span><br><span class="line">      hash: true</span><br><span class="line">    &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><h3 id="3-样式处理"><a href="#3-样式处理" class="headerlink" title="3.样式处理"></a>3.样式处理</h3><h4 id="3-1基本设置"><a href="#3-1基本设置" class="headerlink" title="3.1基本设置"></a>3.1基本设置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.css$/,</span><br><span class="line">        use: [&#123;</span><br><span class="line">          // 插入到style中</span><br><span class="line">          loader: &apos;style-loader&apos;,</span><br><span class="line">          options: &#123;</span><br><span class="line">            insertAt: &apos;bottom&apos;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, &apos;css-loader&apos;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.less$/,</span><br><span class="line">        use: [&apos;style-loader&apos;, &apos;css-loader&apos;, &apos;less-loader&apos;]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-将所有的样式抽离到一个css文件"><a href="#3-2-将所有的样式抽离到一个css文件" class="headerlink" title="3.2 将所有的样式抽离到一个css文件"></a>3.2 将所有的样式抽离到一个css文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const MiniCssExtractPlugin= require(&apos;mini-css-extract-plugin&apos;)</span><br><span class="line"></span><br><span class="line">module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.css$/,</span><br><span class="line">        use: [</span><br><span class="line">          MiniCssExtractPlugin.loader,</span><br><span class="line">          &apos;css-loader&apos;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.less$/,</span><br><span class="line">        use: [MiniCssExtractPlugin.loader, &apos;css-loader&apos;, &apos;less-loader&apos;]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-3-将样式自动添加前缀"><a href="#3-3-将样式自动添加前缀" class="headerlink" title="3.3 将样式自动添加前缀"></a>3.3 将样式自动添加前缀</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">cnpm install postcss-loader autoprefixer</span><br><span class="line"></span><br><span class="line">// webpack.config.js</span><br><span class="line">module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.css$/,</span><br><span class="line">        use: [</span><br><span class="line">          MiniCssExtractPlugin.loader,</span><br><span class="line">          &apos;css-loader&apos;, &apos;postcss-loader&apos;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.less$/,</span><br><span class="line">        use: [MiniCssExtractPlugin.loader, &apos;css-loader&apos;, &apos;postcss-loader&apos;, &apos;less-loader&apos;]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// postcss.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    require(&apos;autoprefixer&apos;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-4-production-压缩css"><a href="#3-4-production-压缩css" class="headerlink" title="3.4 production 压缩css"></a>3.4 production 压缩css</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const OptimizeCSSAssetsPlugin = require(&apos;optimize-css-assets-webpack-plugin&apos;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    minimizer: [</span><br><span class="line">      new OptimizeCSSAssetsPlugin()</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  mode: &apos;production&apos;, // production | development</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-5-production-压缩js"><a href="#3-5-production-压缩js" class="headerlink" title="3.5 production 压缩js"></a>3.5 production 压缩js</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cnpm install uglifyjs-webpack-plugin -D </span><br><span class="line">const UglifyJsPlugin = require(&apos;uglifyjs-webpack-plugin&apos;); //压缩js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  optimization: &#123; //优化项</span><br><span class="line">    minimizer: [</span><br><span class="line">      new UglifyWebpackplugin(&#123;</span><br><span class="line">        test: /\.js(\?.*)?$/i,</span><br><span class="line">        cache: true,</span><br><span class="line">        // 是否并行处理</span><br><span class="line">        parallel: true,</span><br><span class="line">        sourceMap: true</span><br><span class="line">      &#125;)</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-转换es6语法以及校验"><a href="#4-转换es6语法以及校验" class="headerlink" title="4. 转换es6语法以及校验"></a>4. 转换es6语法以及校验</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">cnpm install babel-loader @babel/core @babel/preset-env -D</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">    entry: [&quot;@babel/polyfill&quot;, &quot;./src/main.js&quot;],</span><br><span class="line">    module:[</span><br><span class="line">    &#123;</span><br><span class="line">        test: /\.js$/,</span><br><span class="line">        include: path.resolve(__dirname, &apos;src&apos;),</span><br><span class="line">        exclude: /node_modules/,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: &apos;babel-loader&apos;,</span><br><span class="line">          options: &#123;</span><br><span class="line">            presets: [</span><br><span class="line">              &apos;@babel/preset-env&apos;</span><br><span class="line">            ],</span><br><span class="line">            plugins: [</span><br><span class="line">              &quot;@babel/plugin-proposal-class-properties&quot;,</span><br><span class="line">              &quot;@babel/plugin-transform-runtime&quot;</span><br><span class="line">              //根据自己的需求自行添加</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        test: /\.js$/,</span><br><span class="line">        use: &#123;</span><br><span class="line">            loader: &apos;eslint-loader&apos;,</span><br><span class="line">            options: &#123;</span><br><span class="line">                enfore: &apos;pre&apos;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-全局变量引入的问题-以jquery为例"><a href="#5-全局变量引入的问题-以jquery为例" class="headerlink" title="5. 全局变量引入的问题(以jquery为例)"></a>5. 全局变量引入的问题(以jquery为例)</h3><ul><li>全局loader  expose-loader</li><li>前置loder   </li><li>普通loader </li><li>内联loader  </li><li>后置loader  postcss-loader</li></ul><h4 id="5-1-import-from-‘jquery’-时"><a href="#5-1-import-from-‘jquery’-时" class="headerlink" title="5.1 import $ from ‘jquery’ 时"></a>5.1 import $ from ‘jquery’ 时</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">module = [</span><br><span class="line">    test: require.resove(&apos;jquery&apos;),</span><br><span class="line">    use:&apos;expose-loader?$&apos;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="5-2-将-注入到每一个模块中去，在模块中可以直接使用"><a href="#5-2-将-注入到每一个模块中去，在模块中可以直接使用" class="headerlink" title="5.2 将$注入到每一个模块中去，在模块中可以直接使用$"></a>5.2 将$注入到每一个模块中去，在模块中可以直接使用$</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const webpack = require(&apos;webpack&apos;)</span><br><span class="line">plugins: [</span><br><span class="line">    new webpack.ProvidePlugin(&#123;</span><br><span class="line">      $: &apos;jquery&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">],</span><br></pre></td></tr></table></figure><h3 id="6-处理图片"><a href="#6-处理图片" class="headerlink" title="6.处理图片"></a>6.处理图片</h3><h4 id="6-1-处理css，js中的图片引用"><a href="#6-1-处理css，js中的图片引用" class="headerlink" title="6.1 处理css，js中的图片引用"></a>6.1 处理css，js中的图片引用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">module: [</span><br><span class="line">     &#123;</span><br><span class="line">        test: /.(jpg|jpeg|png|gif|svg)$/,</span><br><span class="line">        use:&apos;file-loader&apos;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="6-2-处理html中引入的图片"><a href="#6-2-处理html中引入的图片" class="headerlink" title="6.2 处理html中引入的图片"></a>6.2 处理html中引入的图片</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">module: [</span><br><span class="line">     &#123;</span><br><span class="line">        test: /.html$/,</span><br><span class="line">        use:&apos;html-withimg-loader&apos;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="6-3-将小的图片转成base64，减少http请求"><a href="#6-3-将小的图片转成base64，减少http请求" class="headerlink" title="6.3 将小的图片转成base64，减少http请求"></a>6.3 将小的图片转成base64，减少http请求</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">module: [</span><br><span class="line">     &#123;</span><br><span class="line">        loader: &apos;url-loader&apos;,</span><br><span class="line">        options: &#123;</span><br><span class="line">          // 小于50k的图片转成base64</span><br><span class="line">          limit: 50 * 1024, // 50k</span><br><span class="line">          name: &apos;[hash:8].[ext]&apos;,</span><br><span class="line">          outputPath: &apos;./images&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="7-打包文件分类"><a href="#7-打包文件分类" class="headerlink" title="7.打包文件分类"></a>7.打包文件分类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//img</span><br><span class="line">module: [</span><br><span class="line">     &#123;</span><br><span class="line">        loader: &apos;url-loader&apos;,</span><br><span class="line">        options: &#123;</span><br><span class="line">          // 小于50k的图片转成base64</span><br><span class="line">          limit: 50 * 1024, // 50k</span><br><span class="line">          name: &apos;[hash:8].[ext]&apos;,</span><br><span class="line">          outputPath: &apos;/images/&apos;,   //图片打包到images下</span><br><span class="line">          //打包后为图片的引入路径前添加url前缀，可以在需要将图片使用cdn的时候用（和其他文件的publicPath不同）</span><br><span class="line">          //publicPath: &apos;http://www.xxxcdn.com/&apos;  </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line">//css</span><br><span class="line">plugins: [</span><br><span class="line">  new MiniCss(&#123;</span><br><span class="line">      filename: &apos;css/main.css&apos; // 会将css文件打包为  dist/css/main.css</span><br><span class="line">    &#125;),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">// js</span><br><span class="line">output: &#123;</span><br><span class="line">  filename: &apos;js/main.js&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>伪类确定元素数量</title>
      <link href="/2019/03/30/%E4%BC%AA%E7%B1%BB%E7%A1%AE%E5%AE%9A%E5%85%83%E7%B4%A0%E6%95%B0%E9%87%8F/"/>
      <url>/2019/03/30/%E4%BC%AA%E7%B1%BB%E7%A1%AE%E5%AE%9A%E5%85%83%E7%B4%A0%E6%95%B0%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">li:first-child:nth-last-child(n)&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>选中的li既是第一个元素也是倒数第n个元素，这就表明了一共有n个li元素<br>代码链接<a href="https://codepen.io/xuyongchaos/pen/vMBLpY" target="_blank" rel="noopener">https://codepen.io/xuyongchaos/pen/vMBLpY</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端入门--001</title>
      <link href="/2019/03/29/%E5%89%8D%E7%AB%AF%E5%85%A5%E9%97%A8-001/"/>
      <url>/2019/03/29/%E5%89%8D%E7%AB%AF%E5%85%A5%E9%97%A8-001/</url>
      
        <content type="html"><![CDATA[<h3 id="htnl"><a href="#htnl" class="headerlink" title="htnl"></a>htnl</h3><h4 id="标签分类"><a href="#标签分类" class="headerlink" title="标签分类"></a>标签分类</h4><ol><li>block 块级标签    特点： 一行一个元素，有空间属性（可设置height, width）例如：div、h、section </li><li>inline 内联标签   特点： 一行可多个元素，无空间属性  例如：span 、b、em、strong</li><li>inline-block     特点： 一行可多个元素，有空间属性（可设置height, width）例如：img</li><li>table <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;table&gt;</span><br><span class="line">  &lt;caption&gt;表格标题&lt;/caption&gt; </span><br><span class="line">  &lt;thead&gt;&lt;/thead&gt;</span><br><span class="line">  &lt;tbody&gt;&lt;/tbody&gt;</span><br><span class="line">  &lt;tfoot&gt;&lt;/tfoot&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure></li></ol><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><p>每一个或者每一对标签称之为元素(element),元素中有属性(attribute)和事件(event), 还可以在style中定义csss属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;http://www.baidu.com&quot; onclick=&quot;handleClick()&quot; style=&quot;color:blue&quot;&gt;链接文字&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;a&gt;&lt;/a&gt;就是一个元素，href就是属性， onclick就是事件, style=&quot;color:blue&quot; 设置文字为蓝色</span><br></pre></td></tr></table></figure></p><h3 id="css"><a href="#css" class="headerlink" title="css"></a>css</h3><h4 id="引入Css的几种方式"><a href="#引入Css的几种方式" class="headerlink" title="引入Css的几种方式"></a>引入Css的几种方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. &lt;link href=&quot;&quot;&gt;</span><br><span class="line">2. &lt;style&gt;&lt;/style&gt;</span><br><span class="line">3. 元素的style=&quot;&quot;</span><br></pre></td></tr></table></figure><h4 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h4><p>1.rgb(0-255,0-255,0-255)<br>  red green blue<br>2.rgba(0-255,0-255,0-255, 0-1)<br>  red green blue alpha(透明度)<br>3.#AD2342 或者 #3df(#33ddff的缩写)</p><a id="more"></a><h4 id="长度单位"><a href="#长度单位" class="headerlink" title="长度单位"></a>长度单位</h4><p>1.px<br>2.em 相当于父元素font-size的倍数<br>3.rem 相当于HTML根元素的font-size的倍数</p><h4 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. * 通配符选择器 （匹配所有元素）</span><br><span class="line">2. Tag&#123;&#125; 标签选择器， 例如: p&#123;&#125;匹配所有的p元素</span><br><span class="line">3. id选择器 PS: #id</span><br><span class="line">4. class选择器　ps: .class</span><br><span class="line">5. [attr=&apos;value&apos;] 属性选择器，　ps: [type=&quot;number&quot;] 匹配到所有的type属性值为number的元素</span><br><span class="line">6. :focus 匹配到所有获得焦点的元素</span><br><span class="line">7. :checked　匹配到所有的被选中(例如checkbox , radio)的元素</span><br><span class="line">8. 其他...</span><br></pre></td></tr></table></figure><h3 id="选择器关系"><a href="#选择器关系" class="headerlink" title="选择器关系"></a>选择器关系</h3><p>  祖先关系：　　祖先选择器　子孙选择器<br>  父子关系：   父元素&gt;子元素<br>  相邻兄弟选择器： 可选择紧接在另一元素后的元素，且二者有相同父元素。例如： h1 + p{} 选择出h1后面紧跟着的p元素</p><h3 id="通过css的display属性设置元素的类型"><a href="#通过css的display属性设置元素的类型" class="headerlink" title="通过css的display属性设置元素的类型"></a>通过css的display属性设置元素的类型</h3><ol><li>display: block;         将元素设置为block元素</li><li>display: inline;        将元素设置为inline元素</li><li>display: inline-block;  将元素设置为inline-block元素</li></ol><h3 id="盒子模型"><a href="#盒子模型" class="headerlink" title="盒子模型"></a>盒子模型</h3><p>每一个元素都存在一个盒子模型：<br>从内到外: content + padding + border + margin</p>]]></content>
      
      
      
        <tags>
            
            <tag> 前端入门 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>执行栈和执行上下文</title>
      <link href="/2019/03/26/%E6%89%A7%E8%A1%8C%E6%A0%88%E5%92%8C%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87/"/>
      <url>/2019/03/26/%E6%89%A7%E8%A1%8C%E6%A0%88%E5%92%8C%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87/</url>
      
        <content type="html"><![CDATA[<p>执行上下文是当前 JavaScript 代码被解析和执行时所在环境的抽象概念。</p><h3 id="执行上下文的类型"><a href="#执行上下文的类型" class="headerlink" title="执行上下文的类型"></a>执行上下文的类型</h3><p>执行上下文总共有三种类型</p><p>  1.全局执行上下文：只有一个，浏览器中的全局对象就是 window 对象，this 指向这个全局对象。</p><p>  2.函数执行上下文：存在无数个，只有在函数被调用的时候才会被创建，每次调用函数都会创建一个新的执行上下文。</p><p>  3.Eval 函数执行上下文： 指的是运行在 eval 函数中的代码，不用很少用而且不建议使用。</p><h3 id="执行栈"><a href="#执行栈" class="headerlink" title="执行栈"></a>执行栈</h3><p>执行栈，也叫调用栈，具有 LIFO（后进先出）结构，用于存储在代码执行期间创建的所有执行上下文。</p><p>首次运行JS代码时，会创建一个全局执行上下文并Push到当前的执行栈中。每当发生函数调用，引擎都会为该函数创建一个新的函数执行上下文并Push到当前执行栈的栈顶。</p><p>根据执行栈LIFO规则，当栈顶函数运行完成后，其对应的函数执行上下文将会从执行栈中Pop出，上下文控制权将移到当前执行栈的下一个执行上下文。</p><h3 id="执行上下文的创建"><a href="#执行上下文的创建" class="headerlink" title="执行上下文的创建"></a>执行上下文的创建</h3><p>执行上下文分两个阶段创建：1）创建阶段； 2）执行阶段</p><p>创建阶段</p><p>1、确定 this 的值，也被称为 This Binding。</p><p>2、LexicalEnvironment（词法环境） 组件被创建。</p><p>3、VariableEnvironment（变量环境） 组件被创建。</p><p>直接看伪代码可能更加直观<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ExecutionContext = &#123;  </span><br><span class="line">  ThisBinding = &lt;this value&gt;,     // 确定this </span><br><span class="line">  LexicalEnvironment = &#123; ... &#125;,   // 词法环境</span><br><span class="line">  VariableEnvironment = &#123; ... &#125;,  // 变量环境</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><a id="more"></a><h4 id="This-Binding"><a href="#This-Binding" class="headerlink" title="This Binding"></a>This Binding</h4><p>全局执行上下文中，this 的值指向全局对象，在浏览器中this 的值指向 window对象，而在nodejs中指向这个文件的module对象。</p><p>函数执行上下文中，this 的值取决于函数的调用方式。具体有：默认绑定、隐式绑定、显式绑定（硬绑定）、new绑定、箭头函数，具体内容会在【this全面解析】部分详解。</p><h4 id="词法环境（Lexical-Environment）"><a href="#词法环境（Lexical-Environment）" class="headerlink" title="词法环境（Lexical Environment）"></a>词法环境（Lexical Environment）</h4><ul><li>Global code:通俗点讲就是源文件代码，就是一个词法环境</li><li>函数代码 ：一个函数块内自己是一个新的词法环境</li><li>eval：进入eval调用的代码有时会创建一个新的词法环境</li><li>with结构：一个with结构块内也是自己一个词法环境</li><li>catch结构：一个catch结构快内也是自己一个词环境</li></ul><blockquote><p>读到这里有些小伙伴急了，“不对，不对，我记得只有在全局代码、函数代码、和eval代码三种情况，才会创建运行上下文，你专门有5种”。对，你说的没错，只有在全局代码、函数代码、和eval代码三种情况，才会创建运行上下文，但我这里说的是词法环境，Lexical Environments。不是运行上下文。</p></blockquote><p>作者：G哥讲码堂<br>链接：<a href="https://juejin.im/post/5c05120be51d4513416d2111" target="_blank" rel="noopener">https://juejin.im/post/5c05120be51d4513416d2111</a><br>来源：掘金</p><p>词法环境有两个组成部分</p><p>1、环境记录：存储变量和函数声明的实际位置</p><h5 id="环境记录分为两种"><a href="#环境记录分为两种" class="headerlink" title="环境记录分为两种"></a>环境记录分为两种</h5><p>  declarative environment records 主要用于函数 、catch词法环境<br>  object environment records.     主要用于with 和global的词法环境</p><p>  declarative environment records可以简单理解为字典类型的结构，key-value形式结论变量等对应的名字和值。<br>  而object environment records会关联一个对象，用这个对象的属性-值来登记变量等对应的名字和值。</p><p>2、对外部环境的引用：可以访问其外部词法环境</p><p>词法环境有两种类型</p><p>1、全局环境：是一个没有外部环境的词法环境，其外部环境引用为 null。拥有一个全局对象（window 对象）及其关联的方法和属性（例如数组方法）以及任何用户自定义的全局变量，this 的值指向这个全局对象。</p><p>2、函数环境：用户在函数中定义的变量被存储在环境记录中，包含了arguments 对象。对外部环境的引用可以是全局环境，也可以是包含内部函数的外部函数环境。</p><p>直接看伪代码可能更加直观<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">GlobalExectionContext = &#123;  // 全局执行上下文</span><br><span class="line">  LexicalEnvironment: &#123;          // 词法环境</span><br><span class="line">    EnvironmentRecord: &#123;           // 环境记录</span><br><span class="line">      Type: &quot;Object&quot;,                 // 全局环境</span><br><span class="line">      // 标识符绑定在这里 </span><br><span class="line">      outer: &lt;null&gt;                 // 对外部环境的引用</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">FunctionExectionContext = &#123; // 函数执行上下文</span><br><span class="line">  LexicalEnvironment: &#123;        // 词法环境</span><br><span class="line">    EnvironmentRecord: &#123;          // 环境记录</span><br><span class="line">      Type: &quot;Declarative&quot;,         // 函数环境</span><br><span class="line">      // 标识符绑定在这里               // 对外部环境的引用</span><br><span class="line">      outer: &lt;Global or outer function environment reference&gt;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="变量环境"><a href="#变量环境" class="headerlink" title="变量环境"></a>变量环境</h4><p>变量环境也是一个词法环境，因此它具有上面定义的词法环境的所有属性。</p><p>在 ES6 中，词法 环境和 变量 环境的区别在于前者用于存储函数声明和变量（ let 和 const ）绑定，而后者仅用于存储变量（ var ）绑定。</p><p>使用例子进行介绍<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">let a = 20;  </span><br><span class="line">const b = 30;  </span><br><span class="line">var c;</span><br><span class="line"></span><br><span class="line">function multiply(e, f) &#123;  </span><br><span class="line"> var g = 20;  </span><br><span class="line"> return e * f * g;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c = multiply(20, 30);</span><br><span class="line">执行上下文如下所示</span><br><span class="line"></span><br><span class="line">GlobalExectionContext = &#123;</span><br><span class="line"></span><br><span class="line">  ThisBinding: &lt;Global Object&gt;,</span><br><span class="line"></span><br><span class="line">  LexicalEnvironment: &#123;  </span><br><span class="line">    EnvironmentRecord: &#123;  </span><br><span class="line">      Type: &quot;Object&quot;,  </span><br><span class="line">      // 标识符绑定在这里  </span><br><span class="line">      a: &lt; uninitialized &gt;,  </span><br><span class="line">      b: &lt; uninitialized &gt;,  </span><br><span class="line">      multiply: &lt; func &gt;  </span><br><span class="line">    &#125;  </span><br><span class="line">    outer: &lt;null&gt;  </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  VariableEnvironment: &#123;  </span><br><span class="line">    EnvironmentRecord: &#123;  </span><br><span class="line">      Type: &quot;Object&quot;,  </span><br><span class="line">      // 标识符绑定在这里  </span><br><span class="line">      c: undefined,  </span><br><span class="line">    &#125;  </span><br><span class="line">    outer: &lt;null&gt;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">FunctionExectionContext = &#123;  </span><br><span class="line"></span><br><span class="line">  ThisBinding: &lt;Global Object&gt;,</span><br><span class="line"></span><br><span class="line">  LexicalEnvironment: &#123;  </span><br><span class="line">    EnvironmentRecord: &#123;  </span><br><span class="line">      Type: &quot;Declarative&quot;,  </span><br><span class="line">      // 标识符绑定在这里  </span><br><span class="line">      Arguments: &#123;0: 20, 1: 30, length: 2&#125;,  </span><br><span class="line">    &#125;,  </span><br><span class="line">    outer: &lt;GlobalLexicalEnvironment&gt;  </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  VariableEnvironment: &#123;  </span><br><span class="line">    EnvironmentRecord: &#123;  </span><br><span class="line">      Type: &quot;Declarative&quot;,  </span><br><span class="line">      // 标识符绑定在这里  </span><br><span class="line">      g: undefined  </span><br><span class="line">    &#125;,  </span><br><span class="line">    outer: &lt;GlobalLexicalEnvironment&gt;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>变量提升的原因：在创建阶段，函数声明存储在环境中，而变量会被设置为 undefined（在 var 的情况下）或保持未初始化（在 let 和 const 的情况下）。所以这就是为什么可以在声明之前访问 var 定义的变量（尽管是 undefined ），但如果在声明之前访问 let 和 const 定义的变量就会提示引用错误的原因。这就是所谓的变量提升。</p><h3 id="执行阶段"><a href="#执行阶段" class="headerlink" title="执行阶段"></a>执行阶段</h3><p>此阶段，完成对所有变量的分配，最后执行代码。</p><p>如果 Javascript 引擎在源代码中声明的实际位置找不到 let 变量的值，那么将为其分配 undefined 值。</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue实现文件下载</title>
      <link href="/2019/03/21/vue%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"/>
      <url>/2019/03/21/vue%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;url&quot; download=&quot;文件名.后缀名&quot;&gt;</span><br></pre></td></tr></table></figure><h3 id="实际使用场景"><a href="#实际使用场景" class="headerlink" title="实际使用场景"></a>实际使用场景</h3><p>上面的原理中适合开放的资源下载，http请求中无需验证时使用。在实际使用过程中，a标签中的url中直接设置header比较麻烦且不安全，<br>而且从开发规范上api一般上要封装一下（header中需要一些特定设置），放到统一的文件。</p><p>解决办法：下载相关和api responseType设置为blob(!!!重要)，在以blob形式获取到文件之后js创建一个a标签，设置url和downlaod后并触发，最后释放url资源并删除创建的a标签<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">api:</span><br><span class="line">downloadFile (url) =&gt; &#123;</span><br><span class="line">  axios.get(url, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    headers: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    // 重要</span><br><span class="line">    responseType: &apos;blob&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">html: </span><br><span class="line">&lt;button @click=&quot;download&quot;&gt;下载&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">js: </span><br><span class="line">  function downlaod (param)&#123;</span><br><span class="line">    api.downloadFile(param).then(data =&gt; &#123;</span><br><span class="line">      if (!data) &#123;</span><br><span class="line">        this.$Message.error(&apos;下载内容为空&apos;)</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      let url = window.URL.createObjectURL(new Blob([data]))</span><br><span class="line">      let link = document.createElement(&apos;a&apos;)</span><br><span class="line">      link.style.display = &apos;none&apos;</span><br><span class="line">      link.href = url</span><br><span class="line">      link.setAttribute(&apos;download&apos;, etcdCluster + &apos;.zip&apos;)</span><br><span class="line">        </span><br><span class="line">      document.body.appendChild(link)</span><br><span class="line">      link.click()</span><br><span class="line">      //释放URL对象所占资源</span><br><span class="line">      window.URL.revokeObjectURL(url)</span><br><span class="line">      //用完即删</span><br><span class="line">      document.body.removeChild(link)</span><br><span class="line">    &#125;).catch(err =&gt; &#123;</span><br><span class="line">      console.log(&apos;err: &apos;, err)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><h3 id="MDN相关链接"><a href="#MDN相关链接" class="headerlink" title="MDN相关链接"></a>MDN相关链接</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URL/createObjectURL" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/URL/createObjectURL</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URL/revokeObjectURL" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/URL/revokeObjectURL</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js自定义modal框</title>
      <link href="/2019/03/18/js%E8%87%AA%E5%AE%9A%E4%B9%89modal%E6%A1%86/"/>
      <url>/2019/03/18/js%E8%87%AA%E5%AE%9A%E4%B9%89modal%E6%A1%86/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>作为一个Web开发而言，modal模态框一定不会陌生。本文将简单的讲一下如何使用js自定义一个modal框，当然了，本文的重点并不是教你如何构建一个modal框，而是希望能够教你如何构建一个组件的思路。好了，废话不多说，正文开始。</p><h3 id="modal是什么，有什么功能"><a href="#modal是什么，有什么功能" class="headerlink" title="modal是什么，有什么功能"></a>modal是什么，有什么功能</h3><p>modal是位于用户主窗口之上的一个元素，当它打开的时候，主窗口无法操作，位于主窗口之上的modal框内可以操作。一个modal至少包含以下几个功能：</p><ol><li>模态框的蒙版 .modal-overlay</li><li>头部  .modal-header</li><li>主体 .modal-body</li><li>脚步 .modal-footer</li><li>关闭按钮 .modal-close</li></ol><blockquote><p>关闭按钮包括多种方式：取消按钮（footer中）、关闭按钮(右上角)、ESC按键、点击模态框主体外的蒙版的区域</p></blockquote><h3 id="构建插件"><a href="#构建插件" class="headerlink" title="构建插件"></a>构建插件</h3><p>1.首先选择iife。这里使用了闭包的知识，因为闭包可以创建一个私有域。</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(function()&#123;</span><br><span class="line">  var 私有变量 = 值</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>2.设置选项（options）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 设置一个windo中可以访问的函数 --&gt;</span><br><span class="line">this.Modal = function() &#123;</span><br><span class="line">  this.modal = null; // 模态弹出框</span><br><span class="line">  this.overlay = null; //蒙板</span><br><span class="line">  this.closeButton = null; // 右上角关闭按钮</span><br><span class="line">  this.footerCloseButton = null //footer关闭按钮</span><br><span class="line">  this.options = &#123;</span><br><span class="line">    className: &apos;fade-and-drop&apos;,</span><br><span class="line">    content: &apos;这是一个自定义的模态框&apos;,</span><br><span class="line">    minHeight: &apos;300px&apos;,</span><br><span class="line">    maxHeight: &apos;600px&apos;,</span><br><span class="line">    closable: true, // 是否可关闭，决定着是否有关闭按钮</span><br><span class="line">    overlay: true</span><br><span class="line">  &#125;;</span><br><span class="line">  //  合并默认设置和用户自定义设置，用户自定义配置&gt;默认配置</span><br><span class="line">  if (arguments[0] &amp;&amp; typeof arguments[0] === &apos;object&apos;) &#123;</span><br><span class="line">    this.options = mergeOptions(this.options, arguments[0]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//合并对象属性的工具方法</span><br><span class="line">function mergeOptions(target, source) &#123;</span><br><span class="line">  for (let property in source) &#123;</span><br><span class="line">    if (source.hasOwnProperty(property)) &#123;</span><br><span class="line">      target[property] = source[property];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>3.　核心功能</p><p>现在我们对模态框的插件架构有了一定的了解，它包括了：构造函数、选项和公共方法。但它还不能做什么？接下来我们就要给他们添加相应的核心功能。所以我们再来看看，一个模态框应该做什么：</p><ul><li>构建一个模态元素并将其添加到页面中</li><li>将选项（options）中的className指定一个类名，并将其添加到模态元素中</li><li>如果选项中的closeButton为true，则添加关闭按钮</li><li>如果选项中的content是 HTML 字符串，则将其设置为模态元素中的内容</li><li>如果选项中的content是domNode，则将其内部内容设置为模态元素的内容</li><li>分别设置模态的maxWidth和minWidth</li><li>如果选项中的overlay为true，则给模态框添加一个蒙层</li><li>当模态框显示时，添加一个scotch-open类名，可以在 CSS 中使用它来定义一个open状态</li><li>当模态框关闭时，删除scotch-open类名</li><li>如果模态框的高度超过视窗的高度，还可以添加一个scotch-anchored类，这样就可以处理这个场景的样式展示</li></ul><h3 id="代码思路"><a href="#代码思路" class="headerlink" title="代码思路"></a>代码思路</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">(function()&#123;</span><br><span class="line">  //构造函数</span><br><span class="line">  this.Modal = function () &#123;</span><br><span class="line">    // 初始化默认option，　</span><br><span class="line">    this.options = &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    //合并用户自定义配置和默认配置，并赋值给options, 每个实例都可能不一样，所有不能放在prototype上，同时在其它函数中又要引用它，所有定义为公有属性</span><br><span class="line">    </span><br><span class="line">    this.options = mergeOptions(this.options, arguments[0])</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  // 打开Modal的方法,每个实例中的这个方法都是一样的,定义在prototype上</span><br><span class="line">  Modal.prototype.open = function()&#123;</span><br><span class="line"></span><br><span class="line">    // 初始化Dom</span><br><span class="line">    1.overlay蒙版元素</span><br><span class="line">    2.modal元素&#123;</span><br><span class="line">      close按钮</span><br><span class="line">      content</span><br><span class="line">      footer</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // 初始化Event</span><br><span class="line">    包括：&#123;</span><br><span class="line">      close事件</span><br><span class="line">      transitionEnd事件(关闭按钮中Css使用了过渡动画，等过渡动画完成之后才能移除dom)，需要注意的就是不同的的浏览器中这个时间的名字可能不一样</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //关闭方法</span><br><span class="line">  Modal.prototype.close = function()&#123;</span><br><span class="line">    //移除Dom</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><h3 id="完整的代码链接-https-codepen-io-xuyongchaos-pen-aMGXLy-editors-1010"><a href="#完整的代码链接-https-codepen-io-xuyongchaos-pen-aMGXLy-editors-1010" class="headerlink" title="!!!!完整的代码链接 https://codepen.io/xuyongchaos/pen/aMGXLy?editors=1010"></a>!!!!完整的代码链接 <a href="https://codepen.io/xuyongchaos/pen/aMGXLy?editors=1010" target="_blank" rel="noopener">https://codepen.io/xuyongchaos/pen/aMGXLy?editors=1010</a></h3><h3 id="使用到的东西"><a href="#使用到的东西" class="headerlink" title="使用到的东西"></a>使用到的东西</h3><ol><li>闭包</li><li>DocumentFragment</li><li>如何减少浏览器回流</li><li>DOM操作</li><li>DOM事件</li><li>this相关call, bind</li><li>css样式</li></ol><h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p>编写一个简单的插件需要的知识还是挺多的，没事的话可以自己编写一下，不仅锻炼了模块化编程思维，还可以对以前的知识进行查缺补漏。fighting!!!</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>从js的属性描述符描述vue.js的响应式视图</title>
      <link href="/2019/03/16/%E4%BB%8Ejs%E7%9A%84%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E7%AC%A6%E6%8F%8F%E8%BF%B0vue-js%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E8%A7%86%E5%9B%BE/"/>
      <url>/2019/03/16/%E4%BB%8Ejs%E7%9A%84%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E7%AC%A6%E6%8F%8F%E8%BF%B0vue-js%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E8%A7%86%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>JavaScript 的对象，拥有任意数量的唯一键，键可以是字符串（String）类型或标记（Symbol，ES6 新增的基本数据类型）类型，每个键对应一个值，值可以是任意类型的任意值。对于对象内的属性，JavaScript 提供了一个属性描述器接口 PropertyDescriptor</p><h3 id="定义对象的属性"><a href="#定义对象的属性" class="headerlink" title="定义对象的属性"></a>定义对象的属性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">  name: &apos;Tom&apos;,</span><br><span class="line">  sex: &apos;man</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">or</span><br><span class="line"></span><br><span class="line">var obj = &#123;&#125;</span><br><span class="line">obj.name = &apos;Tom&apos;</span><br></pre></td></tr></table></figure><h3 id="Object-defineProperty"><a href="#Object-defineProperty" class="headerlink" title="Object.defineProperty()"></a>Object.defineProperty()</h3><p>上面使用的方式不能对属性描述符的操作，需要使用 Object.ddefineProperty(obj, prop, descriptor)</p><h4 id="当使用-defineProperty-方法操作属性的时候，描述符的默认值为："><a href="#当使用-defineProperty-方法操作属性的时候，描述符的默认值为：" class="headerlink" title="当使用 defineProperty()方法操作属性的时候，描述符的默认值为："></a>当使用 defineProperty()方法操作属性的时候，描述符的默认值为：</h4><ol><li>value: undefined</li><li>set: undefined</li><li>get: undefined</li><li>writable: false</li><li>enumerable: false</li><li>configable: false</li></ol><h4 id="不使用该方法定义属性，默认值为："><a href="#不使用该方法定义属性，默认值为：" class="headerlink" title="不使用该方法定义属性，默认值为："></a>不使用该方法定义属性，默认值为：</h4><ol><li>value: undefined</li><li>set: undefined</li><li>get: undefined</li><li>writable: true</li><li>enumerable: true</li><li>configable: true</li></ol><h4 id="还支持批量修改对象属性以及描述对象"><a href="#还支持批量修改对象属性以及描述对象" class="headerlink" title="还支持批量修改对象属性以及描述对象"></a>还支持批量修改对象属性以及描述对象</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Object.defineProperties(obj, &#123;</span><br><span class="line">  name: &#123;</span><br><span class="line">    value: &apos;Tom&apos;,</span><br><span class="line">    configable: true</span><br><span class="line">  &#125;,</span><br><span class="line">  sex: &#123;</span><br><span class="line">    value: &apos;man&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><a id="more"></a><h4 id="读取属性描述符对象-Object-getOwnPropertyDescriptor-obj-prop"><a href="#读取属性描述符对象-Object-getOwnPropertyDescriptor-obj-prop" class="headerlink" title="读取属性描述符对象 Object.getOwnPropertyDescriptor(obj,prop)"></a>读取属性描述符对象 Object.getOwnPropertyDescriptor(obj,prop)</h4><h3 id="属性描述符对象"><a href="#属性描述符对象" class="headerlink" title="属性描述符对象"></a>属性描述符对象</h3><h4 id="value-属性的值"><a href="#value-属性的值" class="headerlink" title="value 属性的值"></a>value 属性的值</h4><h4 id="存储器函数（setter-getter）"><a href="#存储器函数（setter-getter）" class="headerlink" title="存储器函数（setter/getter）"></a>存储器函数（setter/getter）</h4><p>1.get<br>2.set</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var x = &#123;&#125;</span><br><span class="line">Object.defineProperty(x, &apos;count&apos;, &#123;</span><br><span class="line">  get: funciton () &#123;</span><br><span class="line">    return this.value</span><br><span class="line">  &#125;,</span><br><span class="line">  set: function (val) &#123; </span><br><span class="line">    this.count = val</span><br><span class="line">  &#125; </span><br><span class="line">&#125;)</span><br><span class="line">console.log(x) </span><br><span class="line">x.count = 1 </span><br><span class="line">console.log(x.count)</span><br></pre></td></tr></table></figure><p>执行上面的代码，会发现报错，执行栈溢出。</p><blockquote><p>上述代码在执行set 函数中执行 count赋值操作的时候(this.count = val)，循环调用自己，形成了死循环。<br>更改为以下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var x = &#123;&#125;</span><br><span class="line">Object.defineProperty(x, &apos;count&apos;, &#123;</span><br><span class="line">  get: () &#123;</span><br><span class="line">    return this._count</span><br><span class="line">  &#125;</span><br><span class="line">  set: function (val) &#123; </span><br><span class="line">     this._count = val </span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">console.log(x) </span><br><span class="line">x.count = 1 </span><br><span class="line">console.log(x.count)</span><br></pre></td></tr></table></figure></p></blockquote><p>实际上，在使用 defineProperty()方法设置对象的属性的时候，通常需要在对象内部维护一个新的内部变量(以下划线_开头，表示为内部变量)</p><blockquote><p>注：当设置了存取器描述时，不能设置value 和writable, 可以当作没有这两个属性</p></blockquote><h4 id="writable-指定对象的value是否可以改变"><a href="#writable-指定对象的value是否可以改变" class="headerlink" title="writable 指定对象的value是否可以改变"></a>writable 指定对象的value是否可以改变</h4><h4 id="enumerable-指定对象中的某属性是否可以枚举，就是for-in-操作是否可以遍历出来"><a href="#enumerable-指定对象中的某属性是否可以枚举，就是for-in-操作是否可以遍历出来" class="headerlink" title="enumerable 指定对象中的某属性是否可以枚举，就是for in 操作是否可以遍历出来"></a>enumerable 指定对象中的某属性是否可以枚举，就是for in 操作是否可以遍历出来</h4><h4 id="configable-指定对象属性的描述符是否可以改变"><a href="#configable-指定对象属性的描述符是否可以改变" class="headerlink" title="configable 指定对象属性的描述符是否可以改变"></a>configable 指定对象属性的描述符是否可以改变</h4>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stringify的使用</title>
      <link href="/2019/03/13/stringify%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/03/13/stringify%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>这篇文章的由来是这样的：前两天遇到这样一个场景，接口返回了一个json对象，要求我进行格式化显示（显示出json对象的结构）。那么我就想了，一个对象要想显示出来，得转成string 类型的，于是我就使用了JSON.stringify(),但是转成字符串之后并没有缩进，显示出来的是一个长长的字符串。难道我还要自己人为的遍历对象,自己拼接一个带缩进的字符串么？太TM扯了！于是查看了stringify的官方文档，发现了很多有意思的东西，这个函数的作用远远不止是将json对象转成string那么简单，下面是我列举的stringify的几个小功能:</p><ol><li>json格式化，带缩进</li><li>过滤掉无效的字段</li><li>对符合某种条件的字段做操作</li></ol><p>原始数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">person = &#123;</span><br><span class="line">    sex: &apos;man&apos;,</span><br><span class="line">    name: &apos;Tom&apos;,</span><br><span class="line">    telphones: [</span><br><span class="line">        &quot;234123423&quot;,</span><br><span class="line">        &quot;2345234523&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>一、原始情况，直接显示json字符串</p><p>code:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JOSN.stringify(person)</span><br></pre></td></tr></table></figure></p><p>运行结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;sex&quot;:&quot;man&quot;,&quot;name&quot;:&quot;Tom&quot;,&quot;age&quot;:22,&quot;telphones&quot;:[&quot;2341234123&quot;,&quot;3452345&quot;]&#125;</span><br></pre></td></tr></table></figure></p><p>二、将一个json对象格式化显示出来</p><p>code:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JSON.stringify(person, null, 2)</span><br></pre></td></tr></table></figure></p><p>运行结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    sex: &apos;man&apos;,</span><br><span class="line">    name: &apos;Tom&apos;,</span><br><span class="line">    telphones: [</span><br><span class="line">        &quot;234123423&quot;,</span><br><span class="line">        &quot;2345234523&quot;</span><br><span class="line">    ]   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>三、不显示某些字段（哪些字段不需要显示就返回undefined）</p><p>code</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">JOSN.stringify(person, function(k, v)&#123;</span><br><span class="line">    if (k === &apos;telphones&apos;)&#123;</span><br><span class="line">        return undefined</span><br><span class="line">    &#125;</span><br><span class="line">    return v</span><br><span class="line">&#125;, 2)</span><br></pre></td></tr></table></figure><p>运行结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    sex: &apos;man&apos;,</span><br><span class="line">    name: &apos;Tom&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>四、只显示某些字段</p><p>code</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JOSN.stringify(person, [&apos;sex&apos;], 2)</span><br></pre></td></tr></table></figure><p>运行结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    sex: &apos;man&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>更多详情<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> JSON </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>将数组扁平化并去除其中重复数据，最终得到一个升序且不重复的数组</title>
      <link href="/2019/03/10/%E5%B0%86%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96%E5%B9%B6%E5%8E%BB%E9%99%A4%E5%85%B6%E4%B8%AD%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%9C%80%E7%BB%88%E5%BE%97%E5%88%B0%E4%B8%80%E4%B8%AA%E5%8D%87%E5%BA%8F%E4%B8%94%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84%E6%95%B0%E7%BB%84/"/>
      <url>/2019/03/10/%E5%B0%86%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96%E5%B9%B6%E5%8E%BB%E9%99%A4%E5%85%B6%E4%B8%AD%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%9C%80%E7%BB%88%E5%BE%97%E5%88%B0%E4%B8%80%E4%B8%AA%E5%8D%87%E5%BA%8F%E4%B8%94%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10];</span><br></pre></td></tr></table></figure><h3 id="解决方法1"><a href="#解决方法1" class="headerlink" title="解决方法1"></a>解决方法1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...new Set(arr.flat(Infinity).sort((a,b) =&gt; a-b))]</span><br></pre></td></tr></table></figure><h3 id="解决方法2"><a href="#解决方法2" class="headerlink" title="解决方法2"></a>解决方法2</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[...new Set(arr.toString().split(&apos;,&apos;).map(Number).sort((a,b) =&gt; a-b))]</span><br><span class="line">or</span><br><span class="line">Arrary.froms(new Set(arr.toString().split(&apos;,&apos;).map(Number).sort((a,b) =&gt; a-b)))</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="解决方法3"><a href="#解决方法3" class="headerlink" title="解决方法3"></a>解决方法3</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function flatten(arr)&#123;</span><br><span class="line">  while(arr.some(item =&gt; Array.isArray(item)))&#123;</span><br><span class="line">    arr = [].concat(...arr)</span><br><span class="line">  &#125;</span><br><span class="line">  return arr</span><br><span class="line">&#125;</span><br><span class="line">Array.from(new Set(flatten(arr))).sort((a,b) =&gt; a-b)</span><br></pre></td></tr></table></figure><h3 id="解决方法4"><a href="#解决方法4" class="headerlink" title="解决方法4"></a>解决方法4</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Arrary.prototype.flat = function()&#123;</span><br><span class="line">  return [].concat[...this.map(item =&gt; (Array.isArray(item) ? item.flat() : [item]))]</span><br><span class="line">&#125;</span><br><span class="line">Arrary.prototype.unique = function() &#123;</span><br><span class="line">  return [...new Set(this)]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>补充：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">数组实例的flat()</span><br><span class="line">特点：</span><br><span class="line">1.falt()默认为“拉平”一层</span><br><span class="line">2.如果原数组有空位， flat()方法会跳过空位</span><br><span class="line"></span><br><span class="line">flatMap方法：</span><br><span class="line">介绍：对原方法中的每个成员执行一个函数，然后对返回值的数组执行flat()方法。该方法返回一个新数组，不改变原数组</span><br><span class="line">// 相当于 [[2, 4], [3, 6], [4, 8]].flat()</span><br><span class="line">[2, 3, 4].flatMap((x) =&gt; [x, x * 2])</span><br><span class="line">// [2, 4, 3, 6, 4, 8]</span><br></pre></td></tr></table></figure></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue中使用cytoscape绘制拓扑图方案</title>
      <link href="/2019/03/08/vue%E4%B8%AD%E4%BD%BF%E7%94%A8cytoscape%E7%BB%98%E5%88%B6%E6%8B%93%E6%89%91%E5%9B%BE%E6%96%B9%E6%A1%88/"/>
      <url>/2019/03/08/vue%E4%B8%AD%E4%BD%BF%E7%94%A8cytoscape%E7%BB%98%E5%88%B6%E6%8B%93%E6%89%91%E5%9B%BE%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<p>有一个需求需要绘制拓扑图，然后选图表库选择了cytoscape,看了官方文档<a href="http://js.cytoscape.org，感觉和network.js很像，包括两种element,一种是node（描述其相关信息），另一种是" target="_blank" rel="noopener">http://js.cytoscape.org，感觉和network.js很像，包括两种element,一种是node（描述其相关信息），另一种是</a> edge(描述node之间的关系， 通过指明source, target确定指向)，其余的都是一些样式配置和事件的监听，可以说是非常的清晰明了了。此外文档的Extensions部分提供了各种的UI插件和API插件，拓展性也不错。</p><h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">nodes: [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"id"</span>: <span class="string">"a"</span>,//required</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"demo"</span>,//optional</span><br><span class="line">    // ...</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"id"</span>: <span class="string">"b"</span>,//required</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"demo"</span>,//optional</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">edges: [</span><br><span class="line">  //描述了 a--&gt;b</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"id"</span>: <span class="string">"aadsfasdf"</span>, //optional</span><br><span class="line">    <span class="string">"source"</span>: <span class="string">"a"</span>, //required, <span class="built_in">source</span>-node-id</span><br><span class="line">    <span class="string">"target"</span>: <span class="string">"b"</span>,  //required target-node-id</span><br><span class="line">  &#125;,</span><br><span class="line">  //描述了 a--&gt;a,会出现一个指向自己的圆，不过想要实现这一点需要cytoscape-edgehandles插件</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"id"</span>: <span class="string">"aadsfasdf"</span>, //optional</span><br><span class="line">    <span class="string">"source"</span>: <span class="string">"a"</span>, //required, <span class="built_in">source</span>-node-id</span><br><span class="line">    <span class="string">"target"</span>: <span class="string">"a"</span>,  //required target-node-id</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="实际栗子"><a href="#实际栗子" class="headerlink" title="实际栗子"></a>实际栗子</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;cy&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import cytoscape from &apos;cytoscape&apos;</span><br><span class="line">&lt;!--为edge添加事件和二维的布局 --&gt;</span><br><span class="line">import edgehandles from &apos;cytoscape-edgehandles&apos;</span><br><span class="line"></span><br><span class="line">&lt;!-- 提供类似于tooltip的提示框 --&gt;</span><br><span class="line">import popper from &apos;cytoscape-popper&apos;</span><br><span class="line">import tippy from &apos;tippy.js&apos;</span><br><span class="line"></span><br><span class="line">&lt;!-- 引入data --&gt;</span><br><span class="line">import data from &apos;./data.js&apos;</span><br><span class="line"></span><br><span class="line">&lt;!-- 使用插件 --&gt;</span><br><span class="line">cytoscape.use(edgehandles)</span><br><span class="line">cytoscape.use(popper)</span><br><span class="line"></span><br><span class="line">&lt;!-- 可以使用自己选的配色 --&gt;</span><br><span class="line">let colors = [&apos;#FFFFCC&apos;, &apos;#CCFFFF&apos;, &apos;#FFCCCC&apos;, &apos;#FFFF99&apos;, &apos;#CCCCFF&apos;, &apos;#FF9966&apos;, &apos;#FF6666&apos;, &apos;#FFCC99&apos;, &apos;#CCFF99&apos;, &apos;#CCCCCC&apos;, &apos;#CCFFCC&apos;, &apos;#99CC99&apos;, &apos;#99CCCC&apos;]</span><br><span class="line">let colors1 = [&apos;#FF6666&apos;, &apos;#006699&apos;, &apos;#FF9966&apos;, &apos;#0066CC&apos;, &apos;#339933&apos;, &apos;#FFCC33&apos;, &apos;#FF9900&apos;, &apos;#FFFFCC&apos;, &apos;#CC6600&apos;, &apos;#CCCC44&apos;, &apos;#99CC33&apos;, &apos;#0099CC&apos;, &apos;#99CCCC&apos;, &apos;#FF0033&apos;, &apos;#333399&apos;, &apos;#CCCC00&apos;, &apos;#33CC99&apos;, &apos;#FFFF00&apos;, &apos;#336699&apos;]</span><br><span class="line">let colors2 = [&apos;#CCFF99&apos;, &apos;#99CCFF&apos;, &apos;#99CCCC&apos;, &apos;#CCFFCC&apos;, &apos;#66CCCC&apos;, &apos;#CCCCFF&apos;, &apos;#FFFFCC&apos;, &apos;#CCFFFF&apos;, &apos;#66CCFF&apos;, &apos;#6699CC&apos;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let vm = null</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tippyInstance: null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    draw () &#123;</span><br><span class="line">      let nodes = data.nodes</span><br><span class="line">      let edges = data.edges</span><br><span class="line">      nodes.map((x, i) =&gt; &#123;</span><br><span class="line">        x.data.color = colors[i % 13]</span><br><span class="line">        // x.data.color = colors1[i % 19]</span><br><span class="line">        x.data.color = colors2[i % 10]</span><br><span class="line">        return x</span><br><span class="line">      &#125;)</span><br><span class="line">      let cy = cytoscape(&#123;</span><br><span class="line">        container: document.getElementById(&apos;cy&apos;),</span><br><span class="line">        layout: &#123;</span><br><span class="line">          name: &apos;grid&apos;,</span><br><span class="line">          concentric: function (n) &#123; return n.id() === &apos;j&apos; ? 200 : 0 &#125;,</span><br><span class="line">          levelWidth: function (nodes) &#123; return 100 &#125;,</span><br><span class="line">          minNodeSpacing: 100</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        style: [</span><br><span class="line">          &#123;</span><br><span class="line">            selector: &apos;node&apos;,</span><br><span class="line">            style: &#123;</span><br><span class="line">              &apos;content&apos;: &apos;data(name)&apos;,</span><br><span class="line">              &apos;width&apos;: &apos;mapData(size, 0, 1.0, 40, 60)&apos;,</span><br><span class="line">              &apos;height&apos;: &apos;mapData(size, 0, 1.0, 40, 60)&apos;,</span><br><span class="line">              &apos;background-color&apos;: &apos;data(color)&apos;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line"></span><br><span class="line">          &#123;</span><br><span class="line">            selector: &apos;edge&apos;,</span><br><span class="line">            style: &#123;</span><br><span class="line">              &apos;curve-style&apos;: &apos;unbundled-bezier&apos;,</span><br><span class="line">              &apos;target-arrow-shape&apos;: &apos;triangle&apos;,</span><br><span class="line">              &apos;target-arrow-color&apos;: &apos;data(colour)&apos;,</span><br><span class="line">              &apos;line-color&apos;: &apos;data(colour)&apos;,</span><br><span class="line">              &apos;width&apos;: &apos;mapData(width, 0, 1.0, 1, 3)&apos;,</span><br><span class="line">              // &apos;label&apos;: &apos;data(info)&apos;</span><br><span class="line">              &apos;control-point-distances&apos;: [40, -40],</span><br><span class="line">              &apos;control-point-weights&apos;: [0.25, 0.75]</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          // some style for the extension</span><br><span class="line"></span><br><span class="line">          &#123;</span><br><span class="line">            selector: &apos;.eh-handle&apos;,</span><br><span class="line">            style: &#123;</span><br><span class="line">              &apos;background-color&apos;: &apos;red&apos;,</span><br><span class="line">              &apos;width&apos;: 12,</span><br><span class="line">              &apos;height&apos;: 12,</span><br><span class="line">              &apos;shape&apos;: &apos;ellipse&apos;,</span><br><span class="line">              &apos;overlay-opacity&apos;: 0,</span><br><span class="line">              &apos;border-width&apos;: 12, // makes the handle easier to hit</span><br><span class="line">              &apos;border-opacity&apos;: 0</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line"></span><br><span class="line">          &#123;</span><br><span class="line">            selector: &apos;.eh-hover&apos;,</span><br><span class="line">            style: &#123;</span><br><span class="line">              &apos;background-color&apos;: &apos;red&apos;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line"></span><br><span class="line">          &#123;</span><br><span class="line">            selector: &apos;.eh-source&apos;,</span><br><span class="line">            style: &#123;</span><br><span class="line">              &apos;border-width&apos;: 2,</span><br><span class="line">              &apos;border-color&apos;: &apos;red&apos;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line"></span><br><span class="line">          &#123;</span><br><span class="line">            selector: &apos;.eh-target&apos;,</span><br><span class="line">            style: &#123;</span><br><span class="line">              &apos;border-width&apos;: 2,</span><br><span class="line">              &apos;border-color&apos;: &apos;red&apos;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line"></span><br><span class="line">          &#123;</span><br><span class="line">            selector: &apos;.eh-preview, .eh-ghost-edge&apos;,</span><br><span class="line">            style: &#123;</span><br><span class="line">              &apos;background-color&apos;: &apos;red&apos;,</span><br><span class="line">              &apos;line-color&apos;: &apos;red&apos;,</span><br><span class="line">              &apos;target-arrow-color&apos;: &apos;red&apos;,</span><br><span class="line">              &apos;source-arrow-color&apos;: &apos;red&apos;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line"></span><br><span class="line">          &#123;</span><br><span class="line">            selector: &apos;.eh-ghost-edge.eh-preview-active&apos;,</span><br><span class="line">            style: &#123;</span><br><span class="line">              &apos;opacity&apos;: 0</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            selector: &apos;.edge-out-highlight&apos;,</span><br><span class="line">            style: &#123;</span><br><span class="line">              &apos;line-color&apos;: &apos;black&apos;,</span><br><span class="line">              &apos;target-arrow-color&apos;: &apos;black&apos;,</span><br><span class="line">              width: 3</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            selector: &apos;.edge-in-highlight&apos;,</span><br><span class="line">            style: &#123;</span><br><span class="line">              &apos;line-color&apos;: &apos;purple&apos;,</span><br><span class="line">              &apos;target-arrow-color&apos;: &apos;purple&apos;,</span><br><span class="line">              width: 3</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line"></span><br><span class="line">        elements: &#123;</span><br><span class="line">          nodes: nodes,</span><br><span class="line">          edges: edges</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      // edge添加事件</span><br><span class="line">      cy.on(&apos;tap&apos;, &apos;edge&apos;, function (evt) &#123;</span><br><span class="line">        var node = evt.target</span><br><span class="line">        if (vm.tippyInstance) &#123;</span><br><span class="line">          vm.tippyInstance.hide()</span><br><span class="line">          vm.tippyInstance.destroy()</span><br><span class="line">        &#125;</span><br><span class="line">        vm.makeTippy(node)</span><br><span class="line">        vm.tippyInstance.show()</span><br><span class="line">      &#125;)</span><br><span class="line">      </span><br><span class="line">      // node 添加事件</span><br><span class="line">      cy.on(&apos;tap&apos;, &apos;edge&apos;, function (evt) &#123;</span><br><span class="line">        var node = evt.target</span><br><span class="line">        if (vm.tippyInstance) &#123;</span><br><span class="line">          vm.tippyInstance.hide()</span><br><span class="line">          vm.tippyInstance.destroy()</span><br><span class="line">        &#125;</span><br><span class="line">        vm.makeTippy(node)</span><br><span class="line">        vm.tippyInstance.show()</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      cy.on(&apos;tap&apos;, &apos;node&apos;, function (evt) &#123;</span><br><span class="line">        var node = evt.target</span><br><span class="line">        node.incomers(&apos;edge&apos;).toggleClass(&apos;edge-in-highlight&apos;)</span><br><span class="line">        node.edgesWith(&apos;*&apos;).toggleClass(&apos;edge-out-highlight&apos;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    makeTippy (node) &#123;</span><br><span class="line">      &lt;!-- 点击edge出现一个弹框，显示一些额外的信息 --&gt;</span><br><span class="line">      this.tippyInstance = tippy(node.popperRef(), &#123;</span><br><span class="line">        content: function () &#123;</span><br><span class="line">          var div = document.createElement(&apos;div&apos;)</span><br><span class="line">          div.innerHTML = `&lt;p style=&quot;text-align:left;padding-top:8px;&quot;&gt;$&#123;node._private.data.info&#125;&lt;/p&gt;`</span><br><span class="line">          return div</span><br><span class="line">        &#125;,</span><br><span class="line">        trigger: &apos;manual&apos;,</span><br><span class="line">        arrow: true,</span><br><span class="line">        placement: &apos;bottom&apos;,</span><br><span class="line">        hideOnClick: false,</span><br><span class="line">        multiple: true,</span><br><span class="line">        sticky: true</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    vm = this</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.$nextTick(() =&gt; &#123;</span><br><span class="line">      this.draw()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><p><img src="/images/cytoscape拓扑图.png" alt="cytoscape效果图"></p>]]></content>
      
      
      <categories>
          
          <category> graph </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> graph </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cytoscape的简单使用</title>
      <link href="/2019/03/07/cytoscape%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/03/07/cytoscape%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="cy实例对象常用操作"><a href="#cy实例对象常用操作" class="headerlink" title="cy实例对象常用操作"></a>cy实例对象常用操作</h3><h4 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h4><pre><code>cy.add(eleObj/eleObjs/eles)</code></pre><h4 id="remove"><a href="#remove" class="headerlink" title="remove"></a>remove</h4><pre><code>cy.remove(elems/selector)</code></pre><h4 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h4><pre><code>cy.colleciton 返回一个new empty collectioncy.getElementById() or  cy.$id()   return one elementcy.$(selector)、cy.elements(selector)  return  elementscy.nodes(selector)cy.edges(selector)cy.filter(selector) return elementscy.filter(function(ele, i, eles))  - ele The current element under consideration for filtering.  - i The counter used for iteration over the elements in the graph.  - eles The collection of elements being filtered</code></pre><blockquote><p>ps: cy.nodes(‘[weight &gt; 50]’);</p></blockquote><h4 id="批量修改-能够有效的减少渲染成本"><a href="#批量修改-能够有效的减少渲染成本" class="headerlink" title="批量修改(能够有效的减少渲染成本)"></a>批量修改(能够有效的减少渲染成本)</h4><pre><code>cy.batch()cy.satrtBatch()cy.endBatch()</code></pre><blockquote><p>demo如下<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cy.startBatch();</span><br><span class="line"></span><br><span class="line">&lt;!-- 多次的样式修改操作 --&gt;</span><br><span class="line">cy.$(&apos;#j&apos;)</span><br><span class="line">  .data(&apos;weight&apos;, &apos;70&apos;)</span><br><span class="line">  .addClass(&apos;funny&apos;)</span><br><span class="line">  .removeClass(&apos;serious&apos;)</span><br><span class="line"></span><br><span class="line">cy.endBatch();</span><br><span class="line">能够减少中间的redraw的成本，和jquery中将一系列修改样式的操作合并到一个类中，对这个类进行操作一个道理。</span><br></pre></td></tr></table></figure></p></blockquote><h4 id="create"><a href="#create" class="headerlink" title="create"></a>create</h4><pre><code>cy.mount()cy.unmount()</code></pre><h4 id="销毁"><a href="#销毁" class="headerlink" title="销毁"></a>销毁</h4><pre><code>cy.destroy() 有利于gc</code></pre><h4 id="临时数据操作"><a href="#临时数据操作" class="headerlink" title="临时数据操作"></a>临时数据操作</h4><pre><code>cy.scratch([namespace], [value])cy.removeScratch()</code></pre><h3 id="全局函数：-cytoscape在调试过程中在console中打印一些错"><a href="#全局函数：-cytoscape在调试过程中在console中打印一些错" class="headerlink" title="全局函数： cytoscape在调试过程中在console中打印一些错"></a>全局函数： cytoscape在调试过程中在console中打印一些错</h3><ul><li>cytoscape.warnings(false) 禁止报错</li><li>cytoscape.warnings(true)  开启报错</li><li>cytoscape.warnings()      得到当前状态</li></ul><h3 id="collection的一些操作"><a href="#collection的一些操作" class="headerlink" title="collection的一些操作"></a>collection的一些操作</h3>]]></content>
      
      
      <categories>
          
          <category> graph </category>
          
      </categories>
      
      
        <tags>
            
            <tag> graph </tag>
            
            <tag> cytoscape </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>post和get的区别</title>
      <link href="/2019/03/06/post%E5%92%8Cget%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/2019/03/06/post%E5%92%8Cget%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>首先， GET、POST 都是htt请求的的方法。它们本质上并无差别。HTTP的底层是TCP/IP。所以GET和POST的底层也是TCP/IP，也就是说，GET/POST都是TCP链接。GET和POST能做的事情是一样一样的。你要给GET加上request body，给POST带上url参数，技术上是完全行的通的 。</p><h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>那么， 问题来了。<br>1、”GET请求在URL中传送的参数是有长度限制的，而POST没有”是什么鬼？。<br>  答： url长度限制都是浏览器设置的；而GET也可以在request body中传递参数，只不过不同的服务器对这些数据的处理方式不同，有些接受，有些忽略。</p><p>2、GET和POST还有一个重大区别，简单的说：GET产生一个TCP数据包；POST产生两个TCP数据包。长的说：对于GET方式的请求，浏览器会把http header和data一并发送出去，服务器响应200（返回数据）；而对于POST，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok（返回数据）。<br>  答： 1. GET与POST都有自己的语义，不能随便混用。</p><pre><code>2. 据研究，在网络环境好的情况下，发一次包的时间和发两次包的时间差别基本可以无视。而在网络环境差的情况下，两次包的TCP在验证数据包完整性上，有非常大的优点。3. 并不是所有浏览器都会在POST中发送两次包，Firefox就只发送一次。</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webhook-demo</title>
      <link href="/2019/03/05/webhook-demo/"/>
      <url>/2019/03/05/webhook-demo/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">var http = require(&apos;http&apos;)</span><br><span class="line">  , exec = require(&apos;exec&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const PORT = process.env.PORT || 9988</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let transporter = nodemailer.createTransport(&#123;</span><br><span class="line">  service: &apos;smpt.163.com&apos;,</span><br><span class="line">  host: &apos;smtp.163.com&apos;,</span><br><span class="line">  secureConnection: true,</span><br><span class="line">  port:    465,</span><br><span class="line">  auth: &#123;</span><br><span class="line">    user: &apos;XXX@163.com&apos;,</span><br><span class="line">    pass: &apos;XXXXXXX&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">let defaultOpions = &#123;</span><br><span class="line">  from: &apos;yongchao blog &lt;XXX@163.com&gt;&apos;,</span><br><span class="line">  to: &apos;XXXX@qq.com&apos;,</span><br><span class="line">  subject: &apos;yongchao blog&apos;,</span><br><span class="line">  html: &apos;&lt;b&gt;blog deploy success !&lt;/b&gt;&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var deployServer = http.createServer(function(request, response) &#123;</span><br><span class="line">  if (request.url.search(/deploy\/?$/i) &gt; 0) &#123;</span><br><span class="line"> </span><br><span class="line">    var commands = [</span><br><span class="line">      &apos;make restart&apos; //这是我自定义的重新部署的代码</span><br><span class="line">    ].join(&apos; &amp;&amp; &apos;)</span><br><span class="line"> </span><br><span class="line">    exec(commands, function(err, out, code) &#123;</span><br><span class="line">      if (err instanceof Error) &#123;</span><br><span class="line">        response.writeHead(500)</span><br><span class="line">        response.end(&apos;Server Internal Error.&apos;)</span><br><span class="line">        throw err</span><br><span class="line">      &#125;</span><br><span class="line">      process.stderr.write(err)</span><br><span class="line">      process.stdout.write(out)</span><br><span class="line">      response.writeHead(200)</span><br><span class="line">      response.end(&apos;Deploy Done.&apos;)</span><br><span class="line">      transporter.sendMail(defaultOpions, (err, info) =&gt; &#123;</span><br><span class="line">          if(err) &#123;</span><br><span class="line">                  console.error(err)</span><br><span class="line">          &#125;else&#123;</span><br><span class="line">              console.log(err, info)</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"> </span><br><span class="line">  &#125; else &#123;</span><br><span class="line"> </span><br><span class="line">    response.writeHead(404)</span><br><span class="line">    response.end(&apos;Not Found.&apos;)</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">deployServer.listen(PORT, () =&gt; &#123;</span><br><span class="line">  console.log(&apos;start service&apos; + PORT)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vue-directive</title>
      <link href="/2019/03/05/vue-directive/"/>
      <url>/2019/03/05/vue-directive/</url>
      
        <content type="html"><![CDATA[<h3 id="vue-directive-的几个钩子函数"><a href="#vue-directive-的几个钩子函数" class="headerlink" title="vue-directive 的几个钩子函数"></a>vue-directive 的几个钩子函数</h3><ul><li>bind  指令第一次被绑定到元素时调用，只调用一次</li><li>inserted 被绑定元素插入到父节点时调用</li><li>update 被绑定元素所在模版更新时调用，不论绑定值是否变化都调用</li><li>componentUpdated 被绑定元素所在模版在完成一次更新周期时调用</li><li>unbind 元素解绑时调用，只调用一次</li></ul><a id="more"></a><h3 id="每个钩子函数都有参数："><a href="#每个钩子函数都有参数：" class="headerlink" title="每个钩子函数都有参数："></a>每个钩子函数都有参数：</h3><ul><li>el: 指令绑定的element,用来操作dom</li><li>binging 一个对象，包含以下属性<ul><li>name: 指令名，不包含v-前缀</li><li>value: 指令的绑定值，例如 v-my-directive=叮+ l”， value的值是，2</li><li>oldValue: 指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用.无论value 值是否改变都可用。</li><li>expression: 绑定值的字符串形式。例如v-my-directive=”1+ 1”，expression的值是”1+I”.</li><li>arg： 指令的arguments, 例如 v-my-directive:foo, arg 的值是 foo</li><li>modifiers: 一个包含修饰符的对象 。 例如 v-my-directive.foo.bar，修饰符对象 modifiers的值是{ foo: true, bar: true }</li></ul></li><li>vnode</li><li>oldVnode: 上一个虚拟节点仅在 update 和 componentUpdated 钩子中可用 。 </li></ul><h4 id="clickoutsize指令的实现"><a href="#clickoutsize指令的实现" class="headerlink" title="clickoutsize指令的实现"></a>clickoutsize指令的实现</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(&apos;clickoutside&apos;, &#123;</span><br><span class="line">  bind: function (el, binding) &#123;</span><br><span class="line">    function documentHandler (e) &#123;</span><br><span class="line">      if (binding.arg === &apos;esc&apos; &amp;&amp; e.keyCode === 27) &#123;</span><br><span class="line">        &lt;!-- v-clickoutside的value 是一个函数，这里相当于执行绑定的函数 --&gt;</span><br><span class="line">        binding.value(e)</span><br><span class="line">      &#125;</span><br><span class="line">      &lt;!-- 如果点击的元素是在绑定了v-clickoutside指令元素的内容，则忽略 --&gt;</span><br><span class="line">      if (el.contains(e.target)) &#123;</span><br><span class="line">        return false</span><br><span class="line">      &#125;</span><br><span class="line">      if (binding.expression) &#123;</span><br><span class="line">        binding.value(e)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;!-- 在元素添加一个元素用来存绑定的函数，是为了unbind的时候能够找到这个函数 --&gt;</span><br><span class="line">    el.__vueClickOutside__ = documentHandler</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 在全局添加一些事件 --&gt;</span><br><span class="line">    window.addEventListener(&apos;keydown&apos;, documentHandler)</span><br><span class="line">    document.addEventListener(&apos;click&apos;, documentHandler)</span><br><span class="line">    document.addEventListener(&apos;keydown&apos;, documentHandler)</span><br><span class="line">  &#125;,</span><br><span class="line">  unbind: function (el) &#123;</span><br><span class="line">    document.removeEventListener(&apos;click&apos;, el.__vueClickOutside__)</span><br><span class="line">    delete el.__vueClickOutside__</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>对于echarts图表随着浏览器窗口resize的优化</title>
      <link href="/2019/03/05/%E5%AF%B9%E4%BA%8Eecharts%E5%9B%BE%E8%A1%A8%E9%9A%8F%E7%9D%80%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AA%97%E5%8F%A3resize%E7%9A%84%E4%BC%98%E5%8C%96/"/>
      <url>/2019/03/05/%E5%AF%B9%E4%BA%8Eecharts%E5%9B%BE%E8%A1%A8%E9%9A%8F%E7%9D%80%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AA%97%E5%8F%A3resize%E7%9A%84%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>说明： 有时候项目中会显示一些图表，而且width可能并不是固定的（可能100%），那么当浏览器窗口变化的时候，图表的大小应该跟随着变大或变小，称之为resize</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 用来处理每一个有图表的页面添加resize , 离开时移除resize函数</span><br><span class="line"> */</span><br><span class="line">import echarts from &apos;echarts&apos;</span><br><span class="line">import _ from &apos;lodash&apos;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      doms: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    chartResize () &#123;</span><br><span class="line">      return _.throttle(() =&gt; &#123;</span><br><span class="line">        return this.doms.forEach(dom =&gt; &#123;</span><br><span class="line">          dom &amp;&amp; dom.resize()</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;, 400)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    initChart () &#123;</span><br><span class="line">      this.doms.forEach(dom =&gt; &#123;</span><br><span class="line">        dom &amp;&amp; echarts.init(dom)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    console.log(&apos;mixins mounted&apos;)</span><br><span class="line">    this.doms = [this.$refs[&apos;charts&apos;]]</span><br><span class="line">    this.initChart()</span><br><span class="line">    window.addEventListener(&apos;resize&apos;, this.chartResize)</span><br><span class="line">  &#125;,</span><br><span class="line">  destroyed () &#123;</span><br><span class="line">    console.log(&apos;mixins destroyed&apos;)</span><br><span class="line">    window.removeEventListener(&apos;resize&apos;, this.chartResize)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ps: 使用的时候在需要图表的页面引入这个mixins</p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>覆盖ui框架css原生样式</title>
      <link href="/2019/03/05/%E8%A6%86%E7%9B%96ui%E6%A1%86%E6%9E%B6css%E5%8E%9F%E7%94%9F%E6%A0%B7%E5%BC%8F/"/>
      <url>/2019/03/05/%E8%A6%86%E7%9B%96ui%E6%A1%86%E6%9E%B6css%E5%8E%9F%E7%94%9F%E6%A0%B7%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<ul><li><p>加scoped</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;style scoped&gt;</span><br><span class="line">/deep/.rootName .className&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">or </span><br><span class="line"></span><br><span class="line">.rootName &gt;&gt;&gt; .className&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li><li><p>不加scoped<br>原理：在组件中添加了父css类, 在修改的样式作用域限定为父css类，减小css的影响范围</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.rootName .className&#123;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-intro使用方法及注意点</title>
      <link href="/2019/03/05/vue-intro%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E5%8F%8A%E6%B3%A8%E6%84%8F%E7%82%B9/"/>
      <url>/2019/03/05/vue-intro%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E5%8F%8A%E6%B3%A8%E6%84%8F%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<p>1、使用时必须引入intro.js<br>2、let intro=Intro.intro()<br>3、intro.setOptions({}).start().oncomplete().onskip(function)<br>4、intro这个插件只能提示一些静态的页面上已经有的一些元素，异步的或者是后来动态显示的元素无法加上提示.</p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue中定时器问题</title>
      <link href="/2019/03/05/vue%E4%B8%AD%E5%AE%9A%E6%97%B6%E5%99%A8%E9%97%AE%E9%A2%98/"/>
      <url>/2019/03/05/vue%E4%B8%AD%E5%AE%9A%E6%97%B6%E5%99%A8%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>Vue中使用了定时器后在关闭页面后必须手动清理</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">方案一</span><br><span class="line"></span><br><span class="line">data: &#123;</span><br><span class="line">  tiemr: null  </span><br><span class="line">&#125;,</span><br><span class="line">method: &#123;</span><br><span class="line">  method1 () &#123;</span><br><span class="line">    this.timer = setInterval(()=&gt; &#123;</span><br><span class="line">      // logic </span><br><span class="line">    &#125;, interval)</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;,</span><br><span class="line">beforeDestroy() &#123;</span><br><span class="line">    clearInterval(this.timer)</span><br><span class="line">    this.timer = null</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">方案二：</span><br><span class="line"></span><br><span class="line">通过$once来监听定时器，在beforeDestroy中可以被清除</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">优点：这两段代码写在一起，不用特意定义一个data.timer,减少了数据监听的成本消耗</span><br><span class="line">缺点：适用于只有离开页面关闭定时器的情况，</span><br><span class="line">const timer = setInterval(()=&gt;&#123;</span><br><span class="line">    // logic</span><br><span class="line">&#125;, interval)</span><br><span class="line"></span><br><span class="line">this.$once(&apos;hook:beforeDestroy&apos;, ()=&gt;&#123;</span><br><span class="line">    clearInterval(timer)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">ps: </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">template&gt;</span><br><span class="line">  &lt;div class=&quot;test&quot;&gt;</span><br><span class="line">    &lt;Button @click=&quot;addInterval()&quot;&gt;add&lt;/Button&gt;</span><br><span class="line">    &lt;h1&gt;测试&lt;/h1&gt;</span><br><span class="line">    &lt;router-view/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    addInterval () &#123;</span><br><span class="line">      const timer = setInterval(() =&gt; &#123;</span><br><span class="line">        console.log(&apos;aaa&apos;)</span><br><span class="line">      &#125;, 100)</span><br><span class="line">      this.$once(&apos;hook:beforeDestroy&apos;, () =&gt; &#123;</span><br><span class="line">        clearInterval(timer)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js的灵活</title>
      <link href="/2019/03/04/js%E7%9A%84%E7%81%B5%E6%B4%BB/"/>
      <url>/2019/03/04/js%E7%9A%84%E7%81%B5%E6%B4%BB/</url>
      
        <content type="html"><![CDATA[<h3 id="js是超级灵活的语言"><a href="#js是超级灵活的语言" class="headerlink" title="js是超级灵活的语言"></a>js是超级灵活的语言</h3><h4 id="step1"><a href="#step1" class="headerlink" title="step1"></a>step1</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var checkObj = function () &#123;&#125;</span><br><span class="line">    checkObj.prototype.checkName = function()&#123;</span><br><span class="line">    console.log(&apos;checkName&apos;)</span><br><span class="line">&#125;</span><br><span class="line">checkObj.prototype.checkEmail = function()&#123;</span><br><span class="line">    console.log(&apos;checkEmail&apos;)</span><br><span class="line">&#125;</span><br><span class="line">checkObj.prototype.checkPassword = function()&#123;</span><br><span class="line">    console.log(&apos;checkPassword&apos;)</span><br><span class="line">&#125;</span><br><span class="line">var a = new checkObj()</span><br><span class="line">a.checkName()</span><br><span class="line">a.checkEmail()</span><br><span class="line">a.checkPassword()</span><br></pre></td></tr></table></figure><a id="more"></a><h4 id="step2"><a href="#step2" class="headerlink" title="step2"></a>step2</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var checkObj = function () &#123;&#125;</span><br><span class="line">checkObj.prototype = &#123;</span><br><span class="line">    checkName:function()&#123;</span><br><span class="line">        console.log(&apos;checkName&apos;)</span><br><span class="line">    &#125;,</span><br><span class="line">    checkEmail: function()&#123;</span><br><span class="line">        console.log(&apos;checkEmail&apos;)</span><br><span class="line">    &#125;,</span><br><span class="line">    checkPassword: function()&#123;</span><br><span class="line">        console.log(&apos;checkPassword&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var a = new checkObj()</span><br><span class="line">a.checkName()</span><br><span class="line">a.checkEmail()</span><br><span class="line">a.checkPassword()</span><br></pre></td></tr></table></figure><h3 id="step3-链式调用"><a href="#step3-链式调用" class="headerlink" title="step3 链式调用"></a>step3 链式调用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var checkObj = function () &#123;&#125;</span><br><span class="line">    checkObj.prototype = &#123;</span><br><span class="line">        checkName:function()&#123;</span><br><span class="line">        console.log(&apos;checkName&apos;)</span><br><span class="line">        return this</span><br><span class="line">    &#125;,</span><br><span class="line">    checkEmail: function()&#123;</span><br><span class="line">        console.log(&apos;checkEmail&apos;)</span><br><span class="line">        return this</span><br><span class="line">    &#125;,</span><br><span class="line">    checkPassword: function()&#123;</span><br><span class="line">        console.log(&apos;checkPassword&apos;)</span><br><span class="line">        return this</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var a = new checkObj()</span><br><span class="line">a.checkName().checkEmail().checkPassword()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>js的封装和继承</title>
      <link href="/2019/03/04/js%E5%8E%9F%E5%9E%8B/"/>
      <url>/2019/03/04/js%E5%8E%9F%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p>###　简单介绍<br>谈到JAVASCRIPT的继承，只有一种结构：对象。每个对象都有一个私有属性<strong>proto</strong> 指向它的原型对象(prototype) . 原型对象也有自己的<strong>proto</strong> ,层层向上直到一个对象的原型对象为NULL.根据定义，NULL是没有原型的，并作为这个原型链的最后一个环节。</p><p><img src="/images/prototype.png" alt="js prototype"></p><p>！！！ 实例对象的<strong>proto</strong> 等于该对象构造函数的prototype<br>ps:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var obj = &#123;&#125;</span><br><span class="line">obj.__proto__ === Object.prototype</span><br></pre></td></tr></table></figure></p><a id="more"></a><h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">var Book = function (id,name, price) &#123;</span><br><span class="line">    // 私有属性</span><br><span class="line">    var num = 1</span><br><span class="line">    // 私有函数</span><br><span class="line">    function checkId()&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    // 公有属性</span><br><span class="line">    this.id = id</span><br><span class="line">    this.name = name</span><br><span class="line">    this.price = price</span><br><span class="line">    // 公有函数</span><br><span class="line">    this.getName=function()&#123;&#125;</span><br><span class="line">    this.getPrice = function()&#123;&#125;</span><br><span class="line">    this.setName = function (name)&#123;this.name = name&#125;</span><br><span class="line">    this.setPrice = function(price)&#123;this.price = price&#125;</span><br><span class="line">    this.getNum = function()&#123;return num&#125;</span><br><span class="line">&#125;</span><br><span class="line">//类静态公有属性（对象不能访问）</span><br><span class="line">Book.isChinese = true</span><br><span class="line">//类静态公有方法（对象不能访问）</span><br><span class="line">Book.resetTime = function()&#123;&#125;</span><br><span class="line"></span><br><span class="line">var book = new Book(&apos;adf2323&apos;,&apos;js设计模式&apos;, 232)</span><br><span class="line">console.log(book.name, book.price, book.id)</span><br><span class="line">console.log(book.getNum())</span><br></pre></td></tr></table></figure><p>###　New的作用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Function Book(id, name , price) &#123;</span><br><span class="line">    Var this = &#123;&#125;</span><br><span class="line">    This.name = name</span><br><span class="line">    This.id = id</span><br><span class="line">    This.price = price</span><br><span class="line">    Return this</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="类的原型对象的作用"><a href="#类的原型对象的作用" class="headerlink" title="类的原型对象的作用"></a>类的原型对象的作用</h3><pre><code>继承通过将父类的实例赋值给子类的原型对象。类的原型对象的作用就是为类的原型添加共有方法，但是类并不能直接访问这些函数和方法。当我实例化的时候，新创建的对象复制了父类的构造函数内的属性与方法并且将原型__proto__ 指向父类的原型对象，这样就拥有了父类的原型对象上的属性和方法，并且这个新创建的对象可以访问到父类原型对象上到的属性和方法</code></pre><h3 id="常见的继承的几种方式"><a href="#常见的继承的几种方式" class="headerlink" title="常见的继承的几种方式"></a>常见的继承的几种方式</h3><h4 id="类式继承"><a href="#类式继承" class="headerlink" title="类式继承"></a>类式继承</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//声明父类</span><br><span class="line">function SuperClass()&#123;&#125;</span><br><span class="line">// 为父类添加共有方法</span><br><span class="line">SuperClass.prototype.getSuperValue=function()&#123;&#125;</span><br><span class="line"></span><br><span class="line">//声明子类</span><br><span class="line">function SubClass()&#123;</span><br><span class="line">    this.subValue = false</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//继承</span><br><span class="line">SubClass.prototype = new SuperClass();</span><br><span class="line"></span><br><span class="line">// 为子类添加共有方法</span><br><span class="line">SubClass.prototype.getSubValue = function ()&#123;</span><br><span class="line">    return this.subValue</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">缺点：由于子类通过其原型prototype 对父类进行实例化，继承了父类。所以说父类中的共有属性如果是引用类型，就会被子类中的所有实例共用，存在被修改的可能。</span><br></pre></td></tr></table></figure><h4 id="构造函数式继承"><a href="#构造函数式继承" class="headerlink" title="构造函数式继承"></a>构造函数式继承</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function SuperClass(id)&#123;</span><br><span class="line">  this.books = [&apos;js&apos;, &apos;html&apos;, &apos;css&apos;]</span><br><span class="line">  this.id = id</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SuperClass.prototype.getSuperValue = function () &#123;</span><br><span class="line">  console.log(&apos;getSuperValue&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function SubClass(id)&#123;</span><br><span class="line">  // 继承父类</span><br><span class="line">  SuperClass.call(this, id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">缺点：只继承了父类构造函数中的公有属性。如果一个函数后者变量想要被继承么，就必须放在父类构造函数中，这样创建的每个实例都会单独拥有一份而不能共用，这样违背了代码复用的原则。为了综合这两种模式的有点，后来有了组合式继承。</span><br></pre></td></tr></table></figure><h4 id="组合式继承"><a href="#组合式继承" class="headerlink" title="组合式继承"></a>组合式继承</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function SuperClass(id)&#123;</span><br><span class="line">  // 将公有引用类型放在构造函数中</span><br><span class="line">  this.books = [&apos;js&apos;, &apos;html&apos;, &apos;css&apos;]</span><br><span class="line">  this.id = id</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SuperClass.prototype.getSuperValue = function () &#123;</span><br><span class="line">  console.log(&apos;getSuperValue&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function SubClass(id)&#123;</span><br><span class="line">  // 继承父类中构造函数的属性和方法</span><br><span class="line">  SuperClass.call(this, id)</span><br><span class="line">&#125;</span><br><span class="line">SubClass.prototype = new SuperClass()</span><br><span class="line">SubClass.prototype.getTime = function()&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">缺点： </span><br><span class="line">SuperClass.call(this, id)执行了一次父类构造函数</span><br><span class="line">new SuperClass()又执行了一次父类构造函数</span><br></pre></td></tr></table></figure><h4 id="寄生组合式继承"><a href="#寄生组合式继承" class="headerlink" title="寄生组合式继承"></a>寄生组合式继承</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">function SuperClass(id)&#123;</span><br><span class="line">  // 将公有引用类型放在构造函数中</span><br><span class="line">  this.books = [&apos;js&apos;, &apos;html&apos;, &apos;css&apos;]</span><br><span class="line">  this.id = id</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SuperClass.prototype.getSuperValue = function () &#123;</span><br><span class="line">  console.log(&apos;getSuperValue&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function SubClass(id)&#123;</span><br><span class="line">  // 继承父类中构造函数的属性和方法</span><br><span class="line">  SuperClass.call(this, id)</span><br><span class="line">&#125;</span><br><span class="line">function inherit(subClass, superClass)&#123;</span><br><span class="line">    //定义了一个没有自有属性的对象</span><br><span class="line">    var F = function()&#123;&#125;</span><br><span class="line">    F.prototype = superClass.prototype</span><br><span class="line">    subClass.prototype = new F() // 干净的继承了父类的公有属性</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="补充：inherit函数"><a href="#补充：inherit函数" class="headerlink" title="补充：inherit函数"></a>补充：inherit函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function inherit(p)&#123;</span><br><span class="line">    if(p === null) throw TypeError</span><br><span class="line">    if(Object.create)&#123;</span><br><span class="line">        return Object.create(p)</span><br><span class="line">    &#125;</span><br><span class="line">    let t = typeof p</span><br><span class="line">    if(t !== &quot;object&quot; || t!== &quot;function&quot;) throw TypeError</span><br><span class="line">    function F()&#123;&#125;</span><br><span class="line">    F.prototype = p</span><br><span class="line">    return new F();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nodejs发送邮件</title>
      <link href="/2019/03/04/nodejs%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/"/>
      <url>/2019/03/04/nodejs%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>使用nodemailer包实现发送邮件<br><a id="more"></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&apos;express&apos;)</span><br><span class="line">const nodemailer = require(&apos;nodemailer&apos;)</span><br><span class="line">const app = express()</span><br><span class="line">const PORT = process.env.PORT || 3000</span><br><span class="line"></span><br><span class="line">// 配置163邮箱</span><br><span class="line">let transporter = nodemailer.createTransport(&#123;</span><br><span class="line">  service: &apos;smpt.163.com&apos;,</span><br><span class="line">  host: &apos;smtp.163.com&apos;,</span><br><span class="line">  secureConnection: true,</span><br><span class="line">  port:    465,</span><br><span class="line">  auth: &#123;</span><br><span class="line">    user: &apos;XXXX@163.com&apos;,</span><br><span class="line">    pass: &apos;XXXX&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">// 配置gmail邮箱</span><br><span class="line">// let transporter  = nodeMailer.createTransport(&apos;SMTP&apos;,&#123;</span><br><span class="line">//   service: &apos;gmail&apos;,</span><br><span class="line">//   host: &apos;smtp.gmail.com&apos;,</span><br><span class="line">//   secure: true,</span><br><span class="line">//   port:465,</span><br><span class="line">//   auth: &#123;</span><br><span class="line">//       //邮箱</span><br><span class="line">//       user: &apos;XXXXXXX@gmail.com&apos;,</span><br><span class="line">//       //登入密码</span><br><span class="line">//       pass: &apos;XXXXXXX&apos;,</span><br><span class="line">//   &#125;   </span><br><span class="line">// &#125;);</span><br><span class="line"></span><br><span class="line">let defaultOpions = &#123;</span><br><span class="line">  from: &apos;XXX@163.com&apos;,</span><br><span class="line">  to: &apos;XXX@qq.com&apos;,</span><br><span class="line">  subject: &apos;主题&apos;,</span><br><span class="line">  text: &apos;内容&apos;,</span><br><span class="line">  html: &apos;&lt;b&gt;内容&lt;/b&gt;&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.get(&apos;/&apos;, (req, res) =&gt; &#123;</span><br><span class="line">  transporter.sendMail(defaultOpions, (err, info) =&gt; &#123;</span><br><span class="line">    if(err) &#123;</span><br><span class="line">      console.error(err)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      console.log(err, info)</span><br><span class="line">    &#125;</span><br><span class="line">    res.send()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(PORT, () =&gt; &#123;</span><br><span class="line">  console.log(&apos;start service&apos;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git常用知识点</title>
      <link href="/2019/03/04/git%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
      <url>/2019/03/04/git%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<h3 id="常用的几个命令"><a href="#常用的几个命令" class="headerlink" title="常用的几个命令"></a>常用的几个命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git add</span><br><span class="line">git commit</span><br><span class="line">git status</span><br><span class="line">git diff </span><br><span class="line">git branch</span><br><span class="line">git remote</span><br><span class="line">git pull </span><br><span class="line">git push </span><br><span class="line">git reset</span><br><span class="line">git tag</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="常见的场景"><a href="#常见的场景" class="headerlink" title="常见的场景"></a>常见的场景</h3><h4 id="版本需要回退到旧版本"><a href="#版本需要回退到旧版本" class="headerlink" title="版本需要回退到旧版本"></a>版本需要回退到旧版本</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1、git reset</span><br><span class="line"> git reset --hard &quot;目标版本commmit-id&quot;</span><br><span class="line"> git push origin master -f 暴力，不建议</span><br><span class="line"> 适用场景： 如果想恢复到之前某个提交的版本，且那个版本之后提交的版本我们都不要了，就可以用这种方法。</span><br><span class="line"></span><br><span class="line">2、git revert</span><br><span class="line"> git revert的作用通过反做创建一个新的版本，这个版本的内容与我们要回退到的目标版本一样，但是HEAD指针是指向这个新生成的版本，而不是目标版本。</span><br><span class="line"> git revert -n 版本号</span><br><span class="line"> git commit -m 版本名</span><br><span class="line"> 适用场景： 如果我们想恢复之前的某一版本（该版本不是merge类型），但是又想保留该目标版本后面的版本，记录下这整个版本变动流程，就可以用这种方法。</span><br></pre></td></tr></table></figure><h4 id="拉取远程分支并创建本地分支"><a href="#拉取远程分支并创建本地分支" class="headerlink" title="拉取远程分支并创建本地分支"></a>拉取远程分支并创建本地分支</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、git checkout -b newBranch origin/remoteBranch</span><br><span class="line">2、git fetch origin remoteBranch:newBranch</span><br><span class="line">3、git checkout -b newBranch --trace origin/remoteBranch</span><br></pre></td></tr></table></figure><h4 id="修改上一次commit的信息，未push到远程分支"><a href="#修改上一次commit的信息，未push到远程分支" class="headerlink" title="修改上一次commit的信息，未push到远程分支"></a>修改上一次commit的信息，未push到远程分支</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &apos;message&apos; --amend</span><br></pre></td></tr></table></figure><h4 id="忽略对某个文件或者文件夹的的修改"><a href="#忽略对某个文件或者文件夹的的修改" class="headerlink" title="忽略对某个文件或者文件夹的的修改"></a>忽略对某个文件或者文件夹的的修改</h4><p>将文件或者文件夹的名字添加到.gitignore文件</p>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm常用知识点</title>
      <link href="/2019/03/03/npm%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
      <url>/2019/03/03/npm%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<h3 id="更新到最新正式版本"><a href="#更新到最新正式版本" class="headerlink" title="更新到最新正式版本"></a>更新到最新正式版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install npm@latest -g</span><br></pre></td></tr></table></figure><h3 id="更新到未来将会释放的版本"><a href="#更新到未来将会释放的版本" class="headerlink" title="更新到未来将会释放的版本"></a>更新到未来将会释放的版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install npm@next -g</span><br></pre></td></tr></table></figure><h3 id="列出某个包的所有历史banbe"><a href="#列出某个包的所有历史banbe" class="headerlink" title="列出某个包的所有历史banbe"></a>列出某个包的所有历史banbe</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm view &lt;package&gt; versions</span><br></pre></td></tr></table></figure><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init or npm init --yes(直接使用默认的设置)</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="安装包"><a href="#安装包" class="headerlink" title="安装包"></a>安装包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install package  or npm i package</span><br></pre></td></tr></table></figure><h4 id="安装包之-–save"><a href="#安装包之-–save" class="headerlink" title="安装包之 –save"></a>安装包之 –save</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install package --save 安装包并将包的信息写入package.json中的dependencies</span><br></pre></td></tr></table></figure><h4 id="安装包之-–save-dev"><a href="#安装包之-–save-dev" class="headerlink" title="安装包之 –save-dev"></a>安装包之 –save-dev</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install package --save-dev 安装包并将包的信息写入package.json中的devDependencies</span><br></pre></td></tr></table></figure><h3 id="安装包之-指定版本"><a href="#安装包之-指定版本" class="headerlink" title="安装包之 指定版本"></a>安装包之 指定版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install package@version</span><br></pre></td></tr></table></figure><h3 id="全局包"><a href="#全局包" class="headerlink" title="全局包"></a>全局包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">安装：npm install package -g</span><br><span class="line">查看那些全局包过期： npm outdated -g --depth=0</span><br><span class="line">更新某个全局包：npm update package -g</span><br><span class="line">更新所有的全局包： npm update -g</span><br><span class="line">卸载全局包： npm uninstall package -g</span><br></pre></td></tr></table></figure><h3 id="semver-package的版本问题"><a href="#semver-package的版本问题" class="headerlink" title="semver package的版本问题"></a>semver package的版本问题</h3><p>  semver的格式： 主版本号.次版本号.修订号</p><h4 id="range"><a href="#range" class="headerlink" title="range"></a>range</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt; </span><br><span class="line">&lt;= </span><br><span class="line">&gt; </span><br><span class="line">&gt;=</span><br><span class="line">=</span><br></pre></td></tr></table></figure><h4 id="Advanceed-Range-Syntax"><a href="#Advanceed-Range-Syntax" class="headerlink" title="Advanceed Range Syntax"></a>Advanceed Range Syntax</h4><ul><li>1.2.3 - 2.3.4 := &gt;=1.2.3 &lt;=2.3.4</li><li>1.2.3 - 2.3   := &gt;=1.2.3 &lt;2.4.0</li><li>1.2.3 - 2     := &gt;=1.2.3 &lt;3.0.0</li></ul><h4 id="X-Ranges"><a href="#X-Ranges" class="headerlink" title="X-Ranges"></a>X-Ranges</h4><ul><li><ul><li>:= &gt;=0.0.0 (Any version satisfies)</li></ul></li><li>1.x := &gt;=1.0.0 &lt;2.0.0 (Matching major version)</li><li>1.2.x := &gt;=1.2.0 &lt;1.3.0 (Matching major and minor versions)</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bfc/float</title>
      <link href="/2019/03/03/bfc-float/"/>
      <url>/2019/03/03/bfc-float/</url>
      
        <content type="html"><![CDATA[<h3 id="block-format-context-特点是内部子元素绝不会影响外部的元素"><a href="#block-format-context-特点是内部子元素绝不会影响外部的元素" class="headerlink" title="block format context 特点是内部子元素绝不会影响外部的元素"></a>block format context 特点是内部子元素绝不会影响外部的元素</h3><h3 id="如何触发一个盒子的bfc"><a href="#如何触发一个盒子的bfc" class="headerlink" title="如何触发一个盒子的bfc ?"></a>如何触发一个盒子的bfc ?</h3><p>  1、body 根元素<br>  2、浮动元素：float 除 none 以外的值<br>  3、绝对定位元素：position (absolute、fixed)<br>  4、display 为 inline-block、table-cells、flex<br>  5、overflow 除了 visible 以外的值 (hidden、auto、scroll) </p><a id="more"></a><p><strong>浮动元素产生了浮动流</strong></p><p>  所有产生了浮动流的元素，块级元素看不到他们，产生了bfc的元素和文本类属性（inline）的元素以及文本都能看到浮动元素。</p><p>==ps==: 能清除浮动的只有块级元素</p><h3 id="BFC有以下用途-BFC-特性及应用"><a href="#BFC有以下用途-BFC-特性及应用" class="headerlink" title="BFC有以下用途, BFC 特性及应用"></a>BFC有以下用途, BFC 特性及应用</h3><h4 id="1-上线外边距发生折叠"><a href="#1-上线外边距发生折叠" class="headerlink" title="1. 上线外边距发生折叠"></a>1. 上线外边距发生折叠</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    div&#123;</span><br><span class="line">        width: 100px;</span><br><span class="line">        height: 100px;</span><br><span class="line">        background: lightblue;</span><br><span class="line">        margin: 100px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><pre><code>从效果上看，因为两个 div 元素都处于同一个 BFC 容器下 (这里指 body 元素) 。所以第一个 div 的下边距和第二个 div 的上边距发生了重叠，所以两个盒子之间距离只有 100px，而不是 200px。首先这不是 CSS 的 bug，我们可以理解为一种规范，如果想要避免外边距的重叠，可以将其放在不同的 BFC 容器中。</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;p&gt;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;p&gt;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">p &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background: lightblue;</span><br><span class="line">    margin: 100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">这时候，两个盒子边距就变成了 200px</span><br></pre></td></tr></table></figure><h4 id="2-BFC-可以包含浮动的元素"><a href="#2-BFC-可以包含浮动的元素" class="headerlink" title="2. BFC 可以包含浮动的元素"></a>2. BFC 可以包含浮动的元素</h4><pre><code>我们都知道，浮动的元素会脱离普通文档流</code></pre><div style="border: 1px solid #000;"><br>    <div style="width: 100px;height: 100px;background: #eee;float: left;"></div><br></div><blockquote><p>由于容器内元素浮动，脱离了文档流，所以容器只剩下 2px 的边距高度。如果使触发容器的 BFC，那么容器将会包裹着浮动元素。</p></blockquote><div style="border: 1px solid #000;overflow: hidden"><br>    <div style="width: 100px;height: 100px;background: #eee;float: left;"></div><br></div><h4 id="3-BFC-可以阻止元素被浮动元素覆盖"><a href="#3-BFC-可以阻止元素被浮动元素覆盖" class="headerlink" title="3. BFC 可以阻止元素被浮动元素覆盖"></a>3. BFC 可以阻止元素被浮动元素覆盖</h4><p>先来看一个文字环绕效果：</p><div style="height: 100px;width: 100px;float: left;background: lightblue">我是一个左浮动的元素</div><br><div style="width: 200px; height: 200px;background: #eee">我是一个没有设置浮动,<br>也没有触发 BFC 元素, width: 200px; height:200px; background: #eee;</div><blockquote><p>这时候其实第二个元素有部分被浮动元素所覆盖，(但是文本信息不会被浮动元素所覆盖) 如果想避免元素被覆盖，可触第二个元素的 BFC 特性，在第二个元素中加入 overflow: hidden</p></blockquote><p>这个方法可以用来实现两列自适应布局，效果不错，这时候左边的宽度固定，右边的内容自适应宽度(去掉上面右边内容的宽度)。</p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>overflow-x/overflow-y一个为visible,一个为非visible时候的怪异行为</title>
      <link href="/2019/03/03/overflow-x-overflow-y%E4%B8%80%E4%B8%AA%E4%B8%BAvisible-%E4%B8%80%E4%B8%AA%E4%B8%BA%E9%9D%9Evisible%E6%97%B6%E5%80%99%E7%9A%84%E6%80%AA%E5%BC%82%E8%A1%8C%E4%B8%BA/"/>
      <url>/2019/03/03/overflow-x-overflow-y%E4%B8%80%E4%B8%AA%E4%B8%BAvisible-%E4%B8%80%E4%B8%AA%E4%B8%BA%E9%9D%9Evisible%E6%97%B6%E5%80%99%E7%9A%84%E6%80%AA%E5%BC%82%E8%A1%8C%E4%B8%BA/</url>
      
        <content type="html"><![CDATA[<p>MDN的官方解释：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The computed values of ‘overflow-x’ and ‘overflow-y’ are the same as their specified values, except that some combinations with ‘visible’ are not possible: if one is specified as ‘visible’ and the other is ‘scroll’ or ‘auto’, then ‘visible’ is set to ‘auto’. The computed value of ‘overflow’ is equal to the computed value of ‘overflow-x’ if ‘overflow-y’ is the same; otherwise it is the pair of computed values of ‘overflow-x’ and ‘overflow-y’.</span><br></pre></td></tr></table></figure><p>overflow-x 和overflow-y的计算值和它们指定的值是相同的，除了某些与visible组合的是不可能的。</p><ol><li>如果一个为visible, 另一个被指定为scroll、 auto 、hidden(实际测试所得) ，那么visible 将被设置为auto</li><li>如果overflow的指定值和overflow-x相等的话（如果overflow-y相同的话）</li></ol><p>其余情况，overflow-x 和overflow-y的值和指定的值相同</p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js/jquery判断是否包含类</title>
      <link href="/2019/03/03/js-jquery%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%E7%B1%BB/"/>
      <url>/2019/03/03/js-jquery%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">新版本jQuery</span><br><span class="line">  hasClass(&quot;className&quot;) </span><br><span class="line">  is(&quot;.className&quot;)</span><br><span class="line"></span><br><span class="line">原生js </span><br><span class="line">      element.classList.contains(className)</span><br><span class="line"></span><br><span class="line">旧版jQuery:</span><br><span class="line">  hasClass(&quot;.className&quot;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>双层边框样式</title>
      <link href="/2019/03/01/%E5%8F%8C%E5%B1%82%E8%BE%B9%E6%A1%86%E6%A0%B7%E5%BC%8F/"/>
      <url>/2019/03/01/%E5%8F%8C%E5%B1%82%E8%BE%B9%E6%A1%86%E6%A0%B7%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>outline用于创建两个边框的时候<br>好处:  outline的样式是可变的，<br>缺点: 是border如果是圆角，outline仍然是矩形，经测试，outline只对right bottom占据空间，对left top不产生影响</p><p>box-shadow可以用于产生多个边框<br>好处: border是什么样，投影就是什么样，完美贴合<br>缺点: 指定描绘实线阴影，不能改变阴影的样式color  inset</p><p>box-shadow: h-shadow(水平偏移)  v-shadow(垂直偏移) blur(模糊距离) spread(阴影尺寸) color  inset(边框类型) </p><div class="box shadow-box"></div><br><div class="box outline-box"></div>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.box&#123;</span><br><span class="line">    height:50px;</span><br><span class="line">    width: 100px;</span><br><span class="line">    background: #666;</span><br><span class="line">    border: solid 5px yellowgreen;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    margin: 30px;</span><br><span class="line">&#125;</span><br><span class="line">.outline-box&#123;</span><br><span class="line">    outline: red 10px solid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.shadow-box&#123;</span><br><span class="line">    box-shadow: 0 0 0 10px red;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>button样式的实现</title>
      <link href="/2019/02/28/button%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
      <url>/2019/02/28/button%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<p>使用stylus 编写<br>工具函数:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vendor(prop,value)</span><br><span class="line">  -webkit-&#123;prop&#125; value</span><br><span class="line">  -moz-&#123;prop&#125; value</span><br><span class="line">  &#123;prop&#125; value</span><br><span class="line"></span><br><span class="line">border-radius(n = 5px)</span><br><span class="line">  vendor(border-radius,n)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.btn</span><br><span class="line">  padding: 0 40px</span><br><span class="line">  border:none</span><br><span class="line">  height:40px</span><br><span class="line">  border-radius(5px)</span><br><span class="line">  background-color: #5df</span><br><span class="line">  cursor pointer</span><br><span class="line">  transition: all .5s ease</span><br><span class="line">  &amp;:hover</span><br><span class="line">    background-color #666</span><br><span class="line">    color #fff</span><br><span class="line">    transition: all .5s ease</span><br><span class="line">  &amp;:focus</span><br><span class="line">    outline: none</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.btn-3d</span><br><span class="line">  position relative</span><br><span class="line">  top 0</span><br><span class="line">  box-shadow: 0 7px 0 rgba(0,0,0,.2), 0 8px 3px #333</span><br><span class="line">  transition: all .15s ease</span><br><span class="line">  &amp;:active</span><br><span class="line">    position relative</span><br><span class="line">    top 5px</span><br><span class="line">    box-shadow: 0 2px 0 rgba(0,0,0,.2), 0 3px 3px #333</span><br><span class="line">    transition: all .3s ease</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.btn-glowing</span><br><span class="line">  animation:  glowing 3s infinite;</span><br><span class="line"></span><br><span class="line">@keyframes glowing </span><br><span class="line">  from</span><br><span class="line">    box-shadow: 0 0 0 rgba(44, 154, 219, 0.3)</span><br><span class="line">  50%</span><br><span class="line">    box-shadow: 0 0 20px rgba(44, 154, 219, 0.8)</span><br><span class="line">  to</span><br><span class="line">    box-shadow: 0 0 0 rgba(44, 154, 219, 0.3)</span><br></pre></td></tr></table></figure><p>按钮菜单<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">.btn-dropdown</span><br><span class="line">  position relative</span><br><span class="line">  overflow visible</span><br><span class="line">  display inline-block</span><br><span class="line">  &amp;:hover,&amp;:active</span><br><span class="line">    .btn-dropdown-list</span><br><span class="line">      display inline-block</span><br><span class="line">.btn-dropdown-list</span><br><span class="line">  display none</span><br><span class="line">  position absolute</span><br><span class="line">  top 100%</span><br><span class="line">  left 0</span><br><span class="line">  margin 0</span><br><span class="line">  padding 0</span><br><span class="line">  z-index 1000</span><br><span class="line">  min-width 100%</span><br><span class="line">  list-style-type: none</span><br><span class="line">  background: rgba(255, 255, 255, 0.95)</span><br><span class="line">  border-style: solid</span><br><span class="line">  border-width: 1px</span><br><span class="line">  border-color: #d4d4d4</span><br><span class="line">  font-family: &quot;Helvetica Neue Light&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;Lucida Grande&quot;, sans-serif</span><br><span class="line">  -webkit-box-shadow: 0 2px 7px rgba(0, 0, 0, 0.2)</span><br><span class="line">  box-shadow: 0 2px 7px rgba(0, 0, 0, 0.2)</span><br><span class="line">  border-radius: 3px</span><br><span class="line">  -webkit-box-sizing: border-box</span><br><span class="line">  -moz-box-sizing: border-box</span><br><span class="line">  box-sizing: border-box</span><br><span class="line">  &amp;:hover</span><br><span class="line">    display inline-block</span><br><span class="line"></span><br><span class="line">.btn-dropdown-list&gt;li</span><br><span class="line">  padding: 0</span><br><span class="line">  margin: 0</span><br><span class="line">  display: block</span><br><span class="line">.btn-dropdown-list&gt;li&gt;a</span><br><span class="line">  display: block</span><br><span class="line">  line-height: 40px</span><br><span class="line">  font-size: 12.8px</span><br><span class="line">  padding: 5px 10px</span><br><span class="line">  float: none</span><br><span class="line">  color: #666</span><br><span class="line">  text-decoration: none</span><br><span class="line">  &amp;:hover</span><br><span class="line">    color: #5e5e5e</span><br><span class="line">    background: #f6f6f6</span><br><span class="line">    text-decoration: none</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.btn-group</span><br><span class="line">  position relative</span><br><span class="line">  display inline-block</span><br><span class="line">  &amp;:after</span><br><span class="line">    content: &apos;&apos;</span><br><span class="line">    display block</span><br><span class="line">    clear both</span><br><span class="line">.btn-group .btn</span><br><span class="line">  border-radius: 0</span><br><span class="line">  float: left</span><br><span class="line">  border: solid 1px #333</span><br><span class="line">  &amp;:first-child</span><br><span class="line">    border-top-left-radius: 5px</span><br><span class="line">    border-bottom-left-radius: 5px</span><br><span class="line">  &amp;:last-child</span><br><span class="line">    border-top-right-radius: 5px</span><br><span class="line">    border-bottom-right-radius: 5px</span><br><span class="line">  &amp;:not(:last-child)</span><br><span class="line">    border-right none</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.btn-raised</span><br><span class="line">  border-color: #e1e1e1</span><br><span class="line">  border-style: solid</span><br><span class="line">  border-width: 1px</span><br><span class="line">  line-height: 38px</span><br><span class="line">  background: -webkit-gradient(linear, left top, left bottom, from(#f6f6f6), to(#e1e1e1))</span><br><span class="line">  background: linear-gradient(#333, #e1e1e1)</span><br><span class="line">  -webkit-box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.3), 0 1px 2px rgba(0, 0, 0, 0.15)</span><br><span class="line">  box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.3), 0 1px 2px rgba(0, 0, 0, 0.15)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.btn-wrap</span><br><span class="line">  display inline-block</span><br><span class="line">  padding 9px</span><br><span class="line">  border-radius 200px</span><br><span class="line">  border solid 1px #e3e3e3</span><br><span class="line">  background linear-gradient(#f2f2f2,#fff)</span><br><span class="line">  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.04)</span><br><span class="line">  &amp; .btn</span><br><span class="line">    border-radius: 200px</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>css实现单行、多行文本溢出</title>
      <link href="/2019/02/28/css%E5%AE%9E%E7%8E%B0%E5%8D%95%E8%A1%8C%E3%80%81%E5%A4%9A%E8%A1%8C%E6%96%87%E6%9C%AC%E6%BA%A2%E5%87%BA/"/>
      <url>/2019/02/28/css%E5%AE%9E%E7%8E%B0%E5%8D%95%E8%A1%8C%E3%80%81%E5%A4%9A%E8%A1%8C%E6%96%87%E6%9C%AC%E6%BA%A2%E5%87%BA/</url>
      
        <content type="html"><![CDATA[<p>###　单行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">overflow: hidden;</span><br><span class="line">text-overflow:ellipsis;</span><br><span class="line">white-space: nowrap;</span><br></pre></td></tr></table></figure></p><p>###　多行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">display: -webkit-box;</span><br><span class="line">-webkit-box-orient: vertical;</span><br><span class="line">-webkit-line-clamp: 3;</span><br><span class="line">overflow: hidden;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>timeline样式实现</title>
      <link href="/2019/02/28/timeline%E6%A0%B7%E5%BC%8F%E5%AE%9E%E7%8E%B0/"/>
      <url>/2019/02/28/timeline%E6%A0%B7%E5%BC%8F%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li&gt;</span><br><span class="line">&lt;div class=&quot;head&quot;&gt;</span><br><span class="line">&lt;span class=&quot;title&quot;&gt;标题1&lt;/span&gt;</span><br><span class="line">    &lt;span class=&quot;extra&quot;&gt;2019/01/03&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;content&quot;&gt;内容内容内容内容内容内容内容内容内容内容内容内容内容&lt;/div&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line"> </span><br><span class="line">&lt;li&gt;</span><br><span class="line">      &lt;div class=&quot;head&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;title&quot;&gt;标题2&lt;/span&gt;</span><br><span class="line">        &lt;span class=&quot;extra&quot;&gt;2019/01/04&lt;/span&gt;</span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;content&quot;&gt;</span><br><span class="line">          内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">.head&#123;</span><br><span class="line">overflow:hidden;</span><br><span class="line">height:25px;</span><br><span class="line">line-height:25px;</span><br><span class="line">padding:0 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.extra&#123;</span><br><span class="line">float:right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content&#123;</span><br><span class="line">border-left:solid 3px #333;</span><br><span class="line">padding-left:5px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/images/timeline.png" alt="timeline"></p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> components </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何搭建hexo博客</title>
      <link href="/2019/02/28/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BAhexo%E5%8D%9A%E5%AE%A2/"/>
      <url>/2019/02/28/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BAhexo%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h3 id="准备开发环境（默认已安装好node、git）"><a href="#准备开发环境（默认已安装好node、git）" class="headerlink" title="准备开发环境（默认已安装好node、git）"></a>准备开发环境（默认已安装好node、git）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir blog</span><br><span class="line">cd blog</span><br><span class="line">npm install hexo-autoprefixer hexo-generator-feed hexo-generator-json-content hexo-generator-search hexo-helper-qrcode hexo-related-popular-posts hexo-renderer-less hexo-renderer-marked --save</span><br></pre></td></tr></table></figure><p>此时是如下目录结构</p><blockquote></blockquote><p>.<br>├── _config.yml<br>├── package.json<br>├── scaffolds<br>├── source<br>|   ├── _drafts<br>|   └── _posts<br>└── themes</p><h3 id="更换配置"><a href="#更换配置" class="headerlink" title="更换配置"></a>更换配置</h3><p>更改项目根目录下的_config.ymal中的url、author、keywords等参数</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu16.04更新源</title>
      <link href="/2019/02/28/ubuntu16-04%E6%9B%B4%E6%96%B0%E6%BA%90/"/>
      <url>/2019/02/28/ubuntu16-04%E6%9B%B4%E6%96%B0%E6%BA%90/</url>
      
        <content type="html"><![CDATA[<h3 id="1-备份source-list"><a href="#1-备份source-list" class="headerlink" title="1.备份source.list"></a>1.备份source.list</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /etc/apt/source.list /etc/apt/source.list.bak</span><br></pre></td></tr></table></figure><h3 id="2-打开source-list文件，删除全部内容"><a href="#2-打开source-list文件，删除全部内容" class="headerlink" title="2.打开source.list文件，删除全部内容"></a>2.打开source.list文件，删除全部内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure><p>复制章节3中的源内容到sources.list文件并保存</p><h3 id="3-国内主流的更新源"><a href="#3-国内主流的更新源" class="headerlink" title="3.国内主流的更新源"></a>3.国内主流的更新源</h3><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">#sohu shangdong</span><br><span class="line">deb http://mirrors.sohu.com/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line">deb http://mirrors.sohu.com/ubuntu/ trusty-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.sohu.com/ubuntu/ trusty-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.sohu.com/ubuntu/ trusty-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.sohu.com/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.sohu.com/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.sohu.com/ubuntu/ trusty-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.sohu.com/ubuntu/ trusty-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.sohu.com/ubuntu/ trusty-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.sohu.com/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">#163 guangdong</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ trusty-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ trusty-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ trusty-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ trusty-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ trusty-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ trusty-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">#aliyun</span><br><span class="line">deb-src http://archive.ubuntu.com/ubuntu xenial main restricted</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial universe</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line">deb http://archive.canonical.com/ubuntu xenial partner</span><br><span class="line">deb-src http://archive.canonical.com/ubuntu xenial partner</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security multiverse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#tsinghua.edu</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security multiverse</span><br><span class="line"></span><br><span class="line">#neu.edu</span><br><span class="line">deb-src http://mirror.neu.edu.cn/ubuntu/ xenial main restricted #Added by software-properties</span><br><span class="line">deb http://mirror.neu.edu.cn/ubuntu/ xenial main restricted</span><br><span class="line">deb-src http://mirror.neu.edu.cn/ubuntu/ xenial restricted multiverse universe #Added by software-properties</span><br><span class="line">deb http://mirror.neu.edu.cn/ubuntu/ xenial-updates main restricted</span><br><span class="line">deb-src http://mirror.neu.edu.cn/ubuntu/ xenial-updates main restricted multiverse universe</span><br><span class="line">deb http://mirror.neu.edu.cn/ubuntu/ xenial universe</span><br><span class="line">deb http://mirror.neu.edu.cn/ubuntu/ xenial-updates universe</span><br><span class="line">deb http://mirror.neu.edu.cn/ubuntu/ xenial multiverse</span><br><span class="line">deb http://mirror.neu.edu.cn/ubuntu/ xenial-updates multiverse</span><br><span class="line">deb http://mirror.neu.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirror.neu.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line">deb http://archive.canonical.com/ubuntu xenial partner</span><br><span class="line">deb-src http://archive.canonical.com/ubuntu xenial partner</span><br><span class="line">deb http://mirror.neu.edu.cn/ubuntu/ xenial-security main restricted</span><br><span class="line">deb-src http://mirror.neu.edu.cn/ubuntu/ xenial-security main restricted multiverse universe</span><br><span class="line">deb http://mirror.neu.edu.cn/ubuntu/ xenial-security universe</span><br><span class="line">deb http://mirror.neu.edu.cn/ubuntu/ xenial-security multiverse</span><br></pre></td></tr></table></figure><h3 id="4-执行update命令更新"><a href="#4-执行update命令更新" class="headerlink" title="4.执行update命令更新"></a>4.执行update命令更新</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css各种情况下的居中</title>
      <link href="/2019/02/27/css%E5%90%84%E7%A7%8D%E6%83%85%E5%86%B5%E4%B8%8B%E7%9A%84%E5%B1%85%E4%B8%AD/"/>
      <url>/2019/02/27/css%E5%90%84%E7%A7%8D%E6%83%85%E5%86%B5%E4%B8%8B%E7%9A%84%E5%B1%85%E4%B8%AD/</url>
      
        <content type="html"><![CDATA[<h3 id="1-水平居中行内元素"><a href="#1-水平居中行内元素" class="headerlink" title="1.水平居中行内元素"></a>1.水平居中行内元素</h3><p>只需要把行内元素包裹在一个属性display为block的父层元素中，并且把父层元素添加text-align: center即可。<br>适用元素：文字，链接，及其其它inline或者inline-*类型元素（inline-block，inline-table，inline-flex )</p><h3 id="2-水平居中-多个块状元素居中"><a href="#2-水平居中-多个块状元素居中" class="headerlink" title="2.水平居中(多个块状元素居中)"></a>2.水平居中(多个块状元素居中)</h3><pre><code>1. 如果页面里有多个块状元素需要水平排列居中，可以将元素的display属性设置为inline-block，并且把父元素的text-align属性设置为center即可实现。2. 使用flex布局解决，父元素定义display:flex;</code></pre><h3 id="3-垂直居中（单行、多行的元素居中）"><a href="#3-垂直居中（单行、多行的元素居中）" class="headerlink" title="3.垂直居中（单行、多行的元素居中）"></a>3.垂直居中（单行、多行的元素居中）</h3><pre><code>当一个行内元素，即inline，inline-*类型的元素需要居中的话，可以将它的height和line-height同时设置为父元素的高度即可实现垂直居中效果。多行元素居中：</code></pre><p>组合使用display:table-cell和vertical-align:middle属性来定义需要居中的元素的父容器元素生成效果</p><a id="more"></a><h3 id="4-垂直居中（未知块状元素高度）"><a href="#4-垂直居中（未知块状元素高度）" class="headerlink" title="4.垂直居中（未知块状元素高度）"></a>4.垂直居中（未知块状元素高度）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.item&#123;</span><br><span class="line">  top: 50%;</span><br><span class="line">  position: absolute;</span><br><span class="line">  transform: translateY(-50%); /* 这里我们使用css3的transform来达到类似效果 */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-水平垂直居中（使用flex布局实现）"><a href="#5-水平垂直居中（使用flex布局实现）" class="headerlink" title="5.水平垂直居中（使用flex布局实现）"></a>5.水平垂直居中（使用flex布局实现）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.parent&#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content:center;</span><br><span class="line">  align-items: center;</span><br><span class="line">  </span><br><span class="line">  /* 注意这里需要设置高度来查看垂直居中效果 */</span><br><span class="line">  background: #AAA;</span><br><span class="line">  height: 300px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-水平垂直居中-已知高度和宽度的元素解决方案"><a href="#6-水平垂直居中-已知高度和宽度的元素解决方案" class="headerlink" title="6.水平垂直居中(已知高度和宽度的元素解决方案)"></a>6.水平垂直居中(已知高度和宽度的元素解决方案)</h3><pre><code>设置元素定位为absolute，并且设置top, left绝对值为50%，margin-top和margin-left为元素高度一半的负值即可，如下：</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.item&#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 50%;</span><br><span class="line">  left: 50%;</span><br><span class="line">  margin-top: -75px;</span><br><span class="line">  margin-left: -75px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-水平垂直居中（未知高度和宽度元素解决方案）"><a href="#7-水平垂直居中（未知高度和宽度元素解决方案）" class="headerlink" title="7.水平垂直居中（未知高度和宽度元素解决方案）"></a>7.水平垂直居中（未知高度和宽度元素解决方案）</h3><pre><code>使用类似的transform属性来定义，即可实现，如下：</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.item&#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 50%;</span><br><span class="line">  left: 50%;</span><br><span class="line">  transform: translate(-50%, -50%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-水平居中总结"><a href="#8-水平居中总结" class="headerlink" title="8.水平居中总结"></a>8.水平居中总结</h3><ol><li>水平居中之inline-block+text-align</li></ol><ul><li>兼容性非常好</li><li>inline+zoom:1  //兼容IE8以下</li><li>child会继承text-align:center，需要对子元素进行reset</li></ul><ol start="2"><li>水平居中之table+margin</li></ol><ul><li>table元素宽度为内容宽度</li><li>只需要设置child ,IE6 7可以child可以采用table的方式如th tr来实现</li></ul><ol start="3"><li>水平居中之absolute+transform</li></ol><ul><li>脱离文档流 不会对其他元素产生影响</li><li>不兼容低版本IE</li></ul><ol start="4"><li>水平居中之flex+justify-content</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.child&#123;</span><br><span class="line">    margin: 0 auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>-不兼容低版本IE</p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
